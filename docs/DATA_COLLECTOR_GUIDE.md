# TaijiFlow AI - Data Collector Guide

**Version:** 0.4  
**Last Updated:** 2024-12-26  
**File:** `data_collector.html`

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°](#1-‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
2. [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#2-‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
3. [Output Files](#3-output-files)
4. [Technical Details](#4-technical-details)

---

## 1. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

`data_collector.html` ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πà‡∏≤‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö** ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç

### üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

| ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|---------|---------|
| ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö | ‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå/‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÑ‡∏ó‡πÄ‡∏Å‡πä‡∏Å |
| ‡∏™‡∏£‡πâ‡∏≤‡∏á Reference Data | JSON ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Ghost Overlay |
| ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ | WebM ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Silhouette |

### üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

- **Admin/‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ

---

## 2. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

```
1. ‡πÄ‡∏õ‡∏¥‡∏î data_collector.html ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å (rh_cw, rh_ccw, lh_cw, lh_ccw)
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (L1: ‡∏ô‡∏±‡πà‡∏á, L2: ‡∏¢‡∏∑‡∏ô, L3: ‡∏¢‡∏∑‡∏ô‡∏¢‡πà‡∏≠)
4. ‡∏Å‡∏î "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" ‚Üí ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3-2-1
5. ‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö (30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
6. ‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
7. ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå JSON ‡πÑ‡∏õ‡∏ó‡∏µ‡πà /data/
```

### Flow Diagram

```mermaid
flowchart LR
    subgraph Setup["‚öôÔ∏è Setup"]
        A["‡πÄ‡∏õ‡∏¥‡∏î<br/>data_collector.html"]
        B["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å<br/>(4 ‡∏ó‡πà‡∏≤)"]
        C["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö<br/>(L1/L2/L3)"]
    end
    
    subgraph Recording["üî¥ Recording"]
        D["‡∏Å‡∏î ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"]
        E["Countdown<br/>3-2-1"]
        F["‡∏ó‡∏≥‡∏ó‡πà‡∏≤<br/>30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ"]
        G["Auto Stop"]
    end
    
    subgraph Output["üìÅ Output"]
        H["Download<br/>3 ‡πÑ‡∏ü‡∏•‡πå"]
        I["‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ<br/>/data/"]
    end
    
    A --> B --> C --> D --> E --> F --> G --> H --> I
    
    style A fill:#e3f2fd
    style D fill:#ffcdd2
    style F fill:#ffcdd2
    style H fill:#c8e6c9
    style I fill:#c8e6c9
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

| # | ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î |
|---|---------|-----------|
| 1 | ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå | `data_collector.html` ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå |
| 2 | ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ | rh_cw, rh_ccw, lh_cw, lh_ccw |
| 3 | ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö | L1 (‡∏ô‡∏±‡πà‡∏á), L2 (‡∏¢‡∏∑‡∏ô), L3 (‡∏¢‡∏∑‡∏ô‡∏¢‡πà‡∏≠) |
| 4 | ‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å | ‡∏õ‡∏∏‡πà‡∏° "üî¥ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (3-2-1)" |
| 5 | Countdown | ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3-2-1 |
| 6 | ‡∏ó‡∏≥‡∏ó‡πà‡∏≤ | ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥) |
| 7 | Download | ‡πÑ‡∏ü‡∏•‡πå JSON + WebM ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ |
| 8 | ‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡πå | ‡∏¢‡πâ‡∏≤‡∏¢ JSON ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `/data/` |

### üí° Tips

- ‡∏¢‡∏∑‡∏ô‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á 2-3 ‡πÄ‡∏°‡∏ï‡∏£ (‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏±‡∏ß)
- ‡∏ó‡∏≥‡∏ó‡πà‡∏≤‡πÉ‡∏´‡πâ **‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÅ‡∏ö‡∏ö
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö skeleton overlay ‡∏ß‡πà‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

## 3. Output Files

### ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á (3 ‡πÑ‡∏ü‡∏•‡πå/‡∏ó‡πà‡∏≤)

| ‡πÑ‡∏ü‡∏•‡πå | ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á | ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô |
|------|---------|--------|
| **JSON** | `rh_cw_L1.json` | Ghost Skeleton ‡πÉ‡∏ô main app |
| **WebM** | `rh_cw_L1.webm` | Video backup |
| **Silhouette** | `rh_cw_L1_silhouette.webm` | Instructor Thumbnail |

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á JSON

```json
[
  {
    "timestamp": 0,
    "landmarks": [
      { "x": 0.523, "y": 0.412, "z": -0.123, "visibility": 0.998 },
      // ... 33 landmarks
    ]
  },
  // ... ‡∏ó‡∏∏‡∏Å 3 frames (10fps)
]
```

### ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå

```
TaijiFlow/
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ rh_cw_L1.json
    ‚îú‚îÄ‚îÄ rh_cw_L2.json
    ‚îú‚îÄ‚îÄ rh_cw_L3.json
    ‚îú‚îÄ‚îÄ rh_ccw_L1.json
    ‚îî‚îÄ‚îÄ ... (‡∏£‡∏ß‡∏° 12 ‡πÑ‡∏ü‡∏•‡πå)
```

---

## 4. Technical Details

### Optimizations

| ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå |
|--------|-----------|---------|
| Frame Sampling | ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏∏‡∏Å 3 frames | 30fps ‚Üí 10fps |
| Decimal Rounding | ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° 3 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á | ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏•‡∏î‡∏•‡∏á 60% |
| Minified JSON | ‡πÑ‡∏°‡πà‡∏°‡∏µ whitespace | ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á‡∏≠‡∏µ‡∏Å |

### Dependencies

- MediaPipe Pose (CDN)
- MediaPipe Camera Utils (CDN)
- TailwindCSS (CDN)

### Recording Settings

```javascript
const MAX_RECORDING_SECONDS = 30;  // ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
const COUNTDOWN_SECONDS = 3;       // ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á

// Pose options
modelComplexity: 1,
enableSegmentation: true,  // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö silhouette
```

---

## üìö Related

- [ARCHITECTURE.md](ARCHITECTURE.md) - System Architecture
- [data_export_documentation.md](data_export_documentation.md) - Export Format

---

*‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô*
