# ğŸ TaijiFlow AI - Phase 1 Walkthrough

## à¸ªà¸£à¸¸à¸›à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

| Feature | Module | à¸ªà¸–à¸²à¸™à¸° |
|---------|--------|-------|
| Scoring System | [scoring_manager.js](file:///Users/yut/TaijiFlow/scoring_manager.js) | âœ… |
| Audio Feedback | [audio_manager.js](file:///Users/yut/TaijiFlow/audio_manager.js) | âœ… |
| Data Export Fields | [script.js](file:///Users/yut/TaijiFlow/script.js) | âœ… |
| Bug Fixes | [script.js](file:///Users/yut/TaijiFlow/script.js) | âœ… |
| README | [README.md](file:///Users/yut/TaijiFlow/README.md) | âœ… |

---

## à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡ (Architecture)

```mermaid
graph TD
    A[Webcam] --> B[MediaPipe Pose]
    B --> C[Landmarks]
    C --> D[CalibrationManager]
    C --> E[HeuristicsEngine]
    D --> E
    E --> F[Feedbacks]
    F --> G["DrawingManager<br/>ğŸ‘ï¸ Visual"]
    F --> H["AudioManager<br/>ğŸ”Š Audio"]
    F --> I[ScoringManager]
    G --> J[Canvas]
    H --> K[Voice TTS]
    I --> L[Score Popup]
```

---

## Flow à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

```mermaid
flowchart TD
    A[ğŸš€ à¹€à¸›à¸´à¸”à¹à¸­à¸›] --> B{à¹€à¸›à¸´à¸”à¹€à¸ªà¸µà¸¢à¸‡?}
    B -->|à¹ƒà¸Šà¹ˆ| C[ğŸ”Š à¸à¸”à¸›à¸¸à¹ˆà¸¡à¹€à¸ªà¸µà¸¢à¸‡]
    B -->|à¹„à¸¡à¹ˆ| D
    C --> D[ğŸ“ à¸à¸” Calibrate]
    D --> E["ğŸ‘ï¸ à¹à¸ªà¸”à¸‡à¸„à¸³à¹à¸™à¸°à¸™à¸³à¸šà¸™à¸ˆà¸­<br/>ğŸ”Š à¹„à¸”à¹‰à¸¢à¸´à¸™: à¸à¸£à¸¸à¸“à¸²à¸¢à¸·à¸™à¸—à¹ˆà¸²à¸à¸²à¸‡à¹€à¸‚à¸™"]
    E --> F[ğŸ§ à¸¢à¸·à¸™ T-Pose 3 à¸§à¸´à¸™à¸²à¸—à¸µ]
    F --> G["âœ… à¸›à¸£à¸±à¸šà¹€à¸—à¸µà¸¢à¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ<br/>ğŸ‘ï¸ Notification<br/>ğŸ”Š à¹„à¸”à¹‰à¸¢à¸´à¸™: à¸›à¸£à¸±à¸šà¹€à¸—à¸µà¸¢à¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ"]
    G --> H[ğŸ¯ à¹€à¸¥à¸·à¸­à¸à¸—à¹ˆà¸²à¹à¸¥à¸° Level]
    H --> I[âºï¸ à¸à¸” Record]
    I --> J["ğŸ”Š à¹„à¸”à¹‰à¸¢à¸´à¸™: à¹€à¸£à¸´à¹ˆà¸¡à¸šà¸±à¸™à¸—à¸¶à¸"]
    J --> K[ğŸ¥‹ à¸à¸¶à¸à¸—à¹ˆà¸²]
    K --> L{à¸—à¸³à¸œà¸´à¸”?}
    L -->|à¹ƒà¸Šà¹ˆ| M["ğŸ‘ï¸ à¹à¸ªà¸”à¸‡à¸„à¸³à¹€à¸•à¸·à¸­à¸™à¸šà¸™à¸ˆà¸­<br/>ğŸ”Š à¹„à¸”à¹‰à¸¢à¸´à¸™à¹€à¸ªà¸µà¸¢à¸‡à¹€à¸•à¸·à¸­à¸™"]
    M --> K
    L -->|à¹„à¸¡à¹ˆ| K
    K --> N[â¹ï¸ à¸à¸” Stop]
    N --> O["ğŸ”Š à¹„à¸”à¹‰à¸¢à¸´à¸™: à¸«à¸¢à¸¸à¸”à¸šà¸±à¸™à¸—à¸¶à¸"]
    O --> P["ğŸ“Š Popup à¹à¸ªà¸”à¸‡à¸„à¸°à¹à¸™à¸™<br/>+ à¹€à¸à¸£à¸” A-F"]
    P --> Q[ğŸ’¾ JSON Download]
```

---

## Sequence Diagram

```mermaid
sequenceDiagram
    actor User as à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
    participant UI as TaijiFlow UI
    participant Canvas as DrawingManager
    participant Audio as AudioManager
    participant AI as HeuristicsEngine
    participant Score as ScoringManager
    participant Export as DataExporter

    User->>UI: à¹€à¸›à¸´à¸”à¹à¸­à¸›
    User->>Audio: à¸à¸” ğŸ”Š à¹€à¸›à¸´à¸”à¹€à¸ªà¸µà¸¢à¸‡
    User->>UI: à¸à¸” Calibrate
    
    rect rgb(200, 220, 255)
        Note over Canvas,Audio: Calibration Process
        Canvas->>User: ğŸ‘ï¸ à¹à¸ªà¸”à¸‡à¸„à¸³à¹à¸™à¸°à¸™à¸³ T-Pose
        Audio->>User: ğŸ”Š "à¸à¸£à¸¸à¸“à¸²à¸¢à¸·à¸™à¸—à¹ˆà¸²à¸à¸²à¸‡à¹€à¸‚à¸™"
        User->>UI: à¸¢à¸·à¸™ T-Pose 3 à¸§à¸´à¸™à¸²à¸—à¸µ
        UI->>User: ğŸ‘ï¸ Notification à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
        Audio->>User: ğŸ”Š "à¸›à¸£à¸±à¸šà¹€à¸—à¸µà¸¢à¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ"
    end
    
    User->>UI: à¹€à¸¥à¸·à¸­à¸à¸—à¹ˆà¸²à¹à¸¥à¸° Level
    User->>UI: à¸à¸” Record
    Audio->>User: ğŸ”Š "à¹€à¸£à¸´à¹ˆà¸¡à¸šà¸±à¸™à¸—à¸¶à¸"
    Score->>Score: start()
    
    rect rgb(255, 230, 200)
        Note over AI,Audio: Training Loop (à¸—à¸¸à¸à¹€à¸Ÿà¸£à¸¡)
        loop à¸—à¸¸à¸ ~33ms (30 FPS)
            AI->>AI: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ landmarks
            AI->>Canvas: ğŸ‘ï¸ drawFeedbackPanel()
            AI->>Audio: ğŸ”Š speakFeedback()
            AI->>Score: recordFrame()
        end
    end
    
    User->>UI: à¸à¸” Stop
    Audio->>User: ğŸ”Š "à¸«à¸¢à¸¸à¸”à¸šà¸±à¸™à¸—à¸¶à¸"
    Score->>UI: stop() â†’ à¸ªà¸£à¸¸à¸›à¸„à¸°à¹à¸™à¸™
    UI->>User: ğŸ“Š Popup à¹à¸ªà¸”à¸‡à¸„à¸°à¹à¸™à¸™
    Export->>User: ğŸ’¾ Download JSON
```

---

## à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡

| à¹„à¸Ÿà¸¥à¹Œ | à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡ |
|------|---------------|
| [scoring_manager.js](file:///Users/yut/TaijiFlow/scoring_manager.js) | **[NEW]** |
| [audio_manager.js](file:///Users/yut/TaijiFlow/audio_manager.js) | **[NEW]** |
| [script.js](file:///Users/yut/TaijiFlow/script.js) | Integration + Bug fix |
| [ui_manager.js](file:///Users/yut/TaijiFlow/ui_manager.js) | à¹€à¸à¸´à¹ˆà¸¡ Popup |
| [index.html](file:///Users/yut/TaijiFlow/index.html) | à¸›à¸¸à¹ˆà¸¡ ğŸ”Š |
| [README.md](file:///Users/yut/TaijiFlow/README.md) | à¹€à¸‚à¸µà¸¢à¸™à¹ƒà¸«à¸¡à¹ˆ |
