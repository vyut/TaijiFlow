# UI Refinement Tasks

- [x] 1. Change Quickstart box color from Green to White (Done)
- [x] 2. Change "Starting Immediately" (TH) to "Quickstart" and change title color to Purple
    - [x] Text update (User did this manually)
    - [x] Change title color to Purple in `index.html` (landing.css)
    - [x] Change title color to Purple in [app.html](file:///Users/yut/TaijiFlow/app.html)
- [-] 3. Align [app.html](file:///Users/yut/TaijiFlow/app.html) overlay steps horizontally (Reverted to vertical)
- [x] 4. Unify buttons to Purple and "Start Training" text
- [x] 5. Change Main Card border to White in [app.html](file:///Users/yut/TaijiFlow/app.html)
- [x] 6. Change Landing Hero Button to Purple Gradient

# Final Polish (v0.9.5)
- [x] 1. Refactor Speaker Button (Green -> Gray Theme)
- [x] 2. Refactor Stop Control UI (Separate Bottom Box with Red Header)
- [x] 3. Fix Thai Vowel Clipping in Header
- [x] 4. Responsive Layout Logic Check (Tablet/iPad)

# Thesis Documentation Updates
- [x] 1. Add "System Environment Requirements" to Chapter 3 (PC Recommended)
- [x] 2. Add "Device Limitations" to Chapter 1 (Tablet Experimental)

# Thesis Content Validation (Final Check)
- [x] 1. **Code Consistency Check**
    - [x] Check [chapter4.md](file:///Users/yut/TaijiFlow/docs/thesis/chapter4.md) (SDD) vs Code Structure (Updated Sizes & Components)
    - [x] Check [chapter5.md](file:///Users/yut/TaijiFlow/docs/thesis/chapter5.md) (Implementation) vs Latest Features (Stop Box, Speaker Button)
    - [x] Check [appendix_b_srs.md](file:///Users/yut/TaijiFlow/docs/thesis/appendix_b_srs.md) (SRS) vs Current Features
- [x] 2. **User Guide Validation**
    - [x] Check `appendix_e_user_guide.md` vs Current UI (v0.9.5) (Added Stop Box & Placeholder)
- [x] 3. **Diagram Validation**
    - [x] Verify Class Diagrams match current JS classes
    - [x] Verify Sequence Diagrams match current flow
- [x] 4. **Completeness Check**
    - [x] Ensure all 8 Rules are documented in Chapter 3/5
    - [x] Ensure Grading Criteria (A-F) matches `scoring_manager.js`

# Performance Optimization (v0.9.6)
- [x] 1. **Frame Throttling**
    - [x] Implement Skip 3 Frames Logic (AI runs @ ~7.5 FPS) in [script.js](file:///Users/yut/TaijiFlow/js/script.js) to reduce CPU/GPU load for Tablet Experimental Support
    - [x] Fix Double-Counting Bug (Split `frameCounter` vs `throttleFrameCounter`)
    - [x] Rename Debug labels: "FPS" (Cam) and "AI Rate" (AI)
    - [x] Refactor Calibration to Time-based (Date.now()) instead of Frame-based (Fixes lag)
    - [x] Document Optimization Strategy in Thesis (Chapter 4 & 5)
    - [x] Verify & Update Diagrams (Sequence/State) for Throttling & Time-based Logic
    - [x] Sync Class Diagram with Code (Added missing methods, fixed PathGenerator)
    - [x] Troubleshoot & Fix Graphviz Path for Diagram Generation

# Content Refinement Tasks (About Section)
- [x] 1. Refine "Origin" (Accessibility, Real-time Feedback, SE Keywords)
- [x] 2. Refine "Technology" (5 Core Tech Stack)
- [x] 3. Replace "Acknowledgements" with "System Architecture" (4-Layer)
- [x] 4. Refine "Key Features" (5 Core Features from SRS)
    - [x] Pose Detection, Gesture Control (New)
    - [x] Heuristics (8 Rules), Calibration, Scoring
    - [x] Web Speech API, Generative AI

# User Guide Refinement
- [x] 1. Analyze Gaps between Appendix E and Landing Page
- [x] 2. Update Guide to 3-Step Workflow (Prep -> Train -> Eval)
- [x] 3. Remove "Quickstart" block to focus on System Overview
- [x] 4. Add "Tips & Requirements" section (Device, Environment, Clothing)
- [x] 5. Add "Usage Warnings" section (2-Column Grid, Responsive)
- [x] 6. Refine "Learn More" Section (2x2 Grid: Definition, Principles, Benefits, Practice)
- [x] 7. Add "Project Stats" Section (Research Validation: 4.2/5 Satisfaction, 87.5% Intent)

# Low Light Fix (Pixel-Based)
- [x] 1. Implement `checkBrightness` in [script.js](file:///Users/yut/TaijiFlow/js/script.js) (Canvas analysis)
- [x] 2. Replace Visibility Check with Brightness Check
- [x] 3. Add Startup Delay (3-5s) & Periodic Check (5s)
# Documentation Updates (Post-Fix)
- [x] 1. Update [chapter4.md](file:///Users/yut/TaijiFlow/docs/thesis/chapter4.md) (CalibrationManager [stop()](file:///Users/yut/TaijiFlow/js/calibration_manager.js#192-201))
- [x] 2. Update [chapter5.md](file:///Users/yut/TaijiFlow/docs/thesis/chapter5.md) (Low Light Logic: Delay + Visibility, Random Mode)
- [x] 3. Update Sequence Diagram [.wsd](file:///Users/yut/TaijiFlow/docs/diagrams/TrainingFlow.wsd) file (Add [stop()](file:///Users/yut/TaijiFlow/js/calibration_manager.js#192-201) call)
- [x] 4. Verify & Sync other related docs

# Debugging Audio Announcements (v0.91)
- [x] 1. **Fix Audio Overlap**
    - [x] Implement [waitForIdle](file:///Users/yut/TaijiFlow/js/audio_manager.js#597-630) (Smart Wait) in [AudioManager](file:///Users/yut/TaijiFlow/js/audio_manager.js#98-631) to queue speech correctly
    - [x] Refactor [showCountdown](file:///Users/yut/TaijiFlow/js/script.js#521-561) in [script.js](file:///Users/yut/TaijiFlow/js/script.js) to use `await waitForIdle()`
- [x] 2. **Refine Audio Content**
    - [x] Change "Stop Training" audio from "หยุดการฝึก" to "สิ้นสุดการฝึก" (Prevent cutoff)
    - [x] Shorten Low Light warning audio to "แสงสว่างไม่เพียงพอ" (Remove "Warning" prefix)
- [x] 3. **Localization Refactoring**
    - [x] Move hardcoded strings from [script.js](file:///Users/yut/TaijiFlow/js/script.js) and [audio_manager.js](file:///Users/yut/TaijiFlow/js/audio_manager.js) to [translations.js](file:///Users/yut/TaijiFlow/js/translations.js)
    - [x] Standardize keys (`camera_error`, [announce](file:///Users/yut/TaijiFlow/js/audio_manager.js#491-579), `alert_low_light_short`)

# Feature: Random Exercise Mode & UI Reorder (v0.9.2)
- [x] 1. **UI Refactoring (app.html)**
    - [x] Swap Level and Exercise Dropdowns (Level -> Exercise)
    - [x] Add "Random (Surprise Me)" Option to `exercise-select`
- [x] 2. **Logic Implementation (script.js)**
    - [x] Handle [startTraining](file:///Users/yut/TaijiFlow/js/script.js#593-635) random logic
    - [x] Implement exercise randomization
    - [x] Update UI dropdown on random selection
- [x] 3. **Localization (translations.js)**
    - [x] Add `exercise_random` key
