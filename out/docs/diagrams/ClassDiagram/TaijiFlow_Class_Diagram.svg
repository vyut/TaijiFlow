<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2035px" preserveAspectRatio="none" style="width:1653px;height:2035px;" version="1.1" viewBox="0 0 1653 2035" width="1653px" zoomAndPan="magnify"><defs><filter height="300%" id="fs14mc9o758nt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed1d20ea533a2a0e7df5ba3c35e56ced]
cluster Controllers--><rect fill="#E3F2FD" filter="url(#fs14mc9o758nt)" height="371" style="stroke:#000000;stroke-width:1.5;" width="836.5" x="74.5" y="1034"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76" x="454.75" y="1050.952">«Controller»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="456.25" y="1069.152">Controllers</text><!--MD5=[1fc7141c6f48660c71a2006c6bf2683f]
cluster Core Managers--><rect fill="#FFF3E0" filter="url(#fs14mc9o758nt)" height="269" style="stroke:#000000;stroke-width:1.5;" width="626" x="1015" y="1754"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="42" x="1307" y="1770.952">«Core»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="95" x="1280.5" y="1789.152">Core Managers</text><!--MD5=[af552435e54b04649ea7481a5d22641b]
cluster Display Managers--><rect fill="#E0F7FA" filter="url(#fs14mc9o758nt)" height="929" style="stroke:#000000;stroke-width:1.5;" width="289" x="958" y="801"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58" x="1073.5" y="817.952">«Display»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109" x="1048" y="836.152">Display Managers</text><!--MD5=[7ac1916149c3369d001f628ff410a677]
cluster UI & Feedback--><rect fill="#E8F5E9" filter="url(#fs14mc9o758nt)" height="972" style="stroke:#000000;stroke-width:1.5;" width="513.5" x="420.5" y="7"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="27" x="663.75" y="23.952">«UI»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="631.75" y="42.152">UI &amp; Feedback</text><!--MD5=[0b7db6fcd588f8499928e45a474751dc]
cluster Utilities--><rect fill="#F3E5F5" filter="url(#fs14mc9o758nt)" height="463" style="stroke:#000000;stroke-width:1.5;" width="315" x="394" y="1429"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="527" y="1445.952">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="526" y="1464.152">Utilities</text><!--MD5=[d0d7b0900e371541ba11cbff692d2bc7]
class Script--><rect codeLine="35" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="171.6" id="Script" style="stroke:#000000;stroke-width:1.5;" width="184" x="100" y="1217.2"/><ellipse cx="167.25" cy="1237.8" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M169.7231,1243.9431 Q169.1421,1244.2419 168.5029,1244.3913 Q167.8638,1244.5407 167.1582,1244.5407 Q164.6514,1244.5407 163.3315,1242.8889 Q162.0117,1241.237 162.0117,1238.1159 Q162.0117,1234.9865 163.3315,1233.3347 Q164.6514,1231.6828 167.1582,1231.6828 Q167.8638,1231.6828 168.5112,1231.8322 Q169.1587,1231.9816 169.7231,1232.2805 L169.7231,1235.0031 Q169.0923,1234.4221 168.4988,1234.1523 Q167.9053,1233.8825 167.2744,1233.8825 Q165.9297,1233.8825 165.2449,1234.9492 Q164.5601,1236.0158 164.5601,1238.1159 Q164.5601,1240.2077 165.2449,1241.2744 Q165.9297,1242.341 167.2744,1242.341 Q167.9053,1242.341 168.4988,1242.0712 Q169.0923,1241.8015 169.7231,1241.2204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39" x="188.75" y="1235.016">«Main»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="41" x="187.75" y="1250.616">script.js</text><line style="stroke:#000000;stroke-width:1.5;" x1="101" x2="283" y1="1258.4" y2="1258.4"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="108" y="1266.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="120" x="120" y="1274.148">isTrainingMode: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="108" y="1280.7"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="158" x="120" y="1288.448">currentPerformanceMode: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="101" x2="283" y1="1295" y2="1295"/><ellipse cx="111" cy="1306" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="120" y="1310.748">startTrainingFlow()</text><ellipse cx="111" cy="1320.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="101" x="120" y="1325.048">endTrainingSession()</text><ellipse cx="111" cy="1334.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="86" x="120" y="1339.348">onResults(results)</text><ellipse cx="111" cy="1348.9" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="99" x="120" y="1353.648">loadReferenceData()</text><ellipse cx="111" cy="1363.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="137" x="120" y="1367.948">setPerformanceMode(mode)</text><ellipse cx="111" cy="1377.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="151" x="120" y="1382.248">selectPerformanceMode(mode)</text><!--MD5=[8efddad45aa6a4eb444717d204646b2a]
class KeyboardController--><rect codeLine="47" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="90.9" id="KeyboardController" style="stroke:#000000;stroke-width:1.5;" width="135" x="484" y="1293.55"/><ellipse cx="499" cy="1309.55" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M501.4731,1315.6931 Q500.8921,1315.9919 500.2529,1316.1413 Q499.6138,1316.2907 498.9082,1316.2907 Q496.4014,1316.2907 495.0815,1314.6389 Q493.7617,1312.987 493.7617,1309.8659 Q493.7617,1306.7365 495.0815,1305.0847 Q496.4014,1303.4328 498.9082,1303.4328 Q499.6138,1303.4328 500.2612,1303.5822 Q500.9087,1303.7316 501.4731,1304.0305 L501.4731,1306.7531 Q500.8423,1306.1721 500.2488,1305.9023 Q499.6553,1305.6325 499.0244,1305.6325 Q497.6797,1305.6325 496.9949,1306.6992 Q496.3101,1307.7658 496.3101,1309.8659 Q496.3101,1311.9577 496.9949,1313.0244 Q497.6797,1314.091 499.0244,1314.091 Q499.6553,1314.091 500.2488,1313.8212 Q500.8423,1313.5515 501.4731,1312.9704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="103" x="513" y="1314.566">KeyboardController</text><line style="stroke:#000000;stroke-width:1.5;" x1="485" x2="618" y1="1325.55" y2="1325.55"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="492" y="1333.55"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="59" x="504" y="1341.298">deps: object</text><line style="stroke:#000000;stroke-width:1.0;" x1="485" x2="618" y1="1347.85" y2="1347.85"/><ellipse cx="495" cy="1358.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="109" x="504" y="1363.598">handleKeydown(event)</text><ellipse cx="495" cy="1373.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="98" x="504" y="1377.898">showShortcutsHelp()</text><!--MD5=[8172fdb26fe0b4f66f8ce07666356cda]
class DisplayController--><rect codeLine="54" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="291.1" id="DisplayController" style="stroke:#000000;stroke-width:1.5;" width="170" x="725" y="1097.45"/><ellipse cx="761.6" cy="1113.45" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M764.0731,1119.5931 Q763.4921,1119.8919 762.8529,1120.0413 Q762.2138,1120.1907 761.5082,1120.1907 Q759.0014,1120.1907 757.6815,1118.5389 Q756.3617,1116.887 756.3617,1113.7659 Q756.3617,1110.6365 757.6815,1108.9847 Q759.0014,1107.3328 761.5082,1107.3328 Q762.2138,1107.3328 762.8612,1107.4822 Q763.5087,1107.6316 764.0731,1107.9305 L764.0731,1110.6531 Q763.4423,1110.0721 762.8488,1109.8023 Q762.2553,1109.5325 761.6244,1109.5325 Q760.2797,1109.5325 759.5949,1110.5992 Q758.9101,1111.6658 758.9101,1113.7659 Q758.9101,1115.8577 759.5949,1116.9244 Q760.2797,1117.991 761.6244,1117.991 Q762.2553,1117.991 762.8488,1117.7212 Q763.4423,1117.4515 764.0731,1116.8704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="90" x="780.4" y="1118.466">DisplayController</text><line style="stroke:#000000;stroke-width:1.5;" x1="726" x2="894" y1="1129.45" y2="1129.45"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1137.45"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="133" x="745" y="1145.198">showGhostOverlay: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1151.75"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="745" y="1159.498">showPath: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1166.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="745" y="1173.798">showSkeleton: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1180.35"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="119" x="745" y="1188.098">showSilhouette: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1194.65"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="745" y="1202.398">showTrail: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1208.95"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="144" x="745" y="1216.698">showBlurBackground: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1223.25"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="122" x="745" y="1230.998">showSideBySide: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1237.55"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="142" x="745" y="1245.298">showErrorHighlights: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="733" y="1251.85"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="745" y="1259.598">trailHistory: array</text><line style="stroke:#000000;stroke-width:1.0;" x1="726" x2="894" y1="1266.15" y2="1266.15"/><ellipse cx="736" cy="1277.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="22" x="745" y="1281.898">init()</text><ellipse cx="736" cy="1291.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="745" y="1296.198">toggleInstructor(show)</text><ellipse cx="736" cy="1305.75" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="745" y="1310.498">resetToDefaults()</text><ellipse cx="736" cy="1320.05" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="87" x="745" y="1324.798">addTrailPoint(x, y)</text><ellipse cx="736" cy="1334.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="52" x="745" y="1339.098">clearTrail()</text><ellipse cx="736" cy="1348.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="52" x="745" y="1353.398">clearTrail()</text><ellipse cx="736" cy="1362.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="142" x="745" y="1367.698">initBlurBackgroundCheckbox()</text><ellipse cx="736" cy="1377.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="141" x="745" y="1381.998">autoDisableHighCostEffects()</text><path d="M90.5,1089.2 L90.5,1166.8 L293.5,1166.8 L293.5,1099.2 L283.5,1089.2 L90.5,1089.2 " fill="#FBFB77" filter="url(#fs14mc9o758nt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M283.5,1089.2 L283.5,1099.2 L293.5,1099.2 L283.5,1089.2 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="96.5" y="1108.084">จัดการ Application Flow</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="136" x="96.5" y="1124.984">Script = Main Controller</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="182" x="96.5" y="1141.884">Keyboard = 15 Shortcuts (เพิ่ม K)</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="166" x="96.5" y="1158.784">Display = 7 Options (เพิ่ม Blur)</text><!--MD5=[acf674d2eee96cced2a8b22730b1989e]
class HeuristicsEngine--><rect codeLine="88" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="198.15" id="HeuristicsEngine" style="stroke:#000000;stroke-width:1.5;" width="177" x="1271" y="1808.93"/><ellipse cx="1311.65" cy="1824.93" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1314.1231,1831.0731 Q1313.5421,1831.3719 1312.9029,1831.5213 Q1312.2638,1831.6707 1311.5582,1831.6707 Q1309.0514,1831.6707 1307.7315,1830.0189 Q1306.4117,1828.367 1306.4117,1825.2459 Q1306.4117,1822.1165 1307.7315,1820.4647 Q1309.0514,1818.8128 1311.5582,1818.8128 Q1312.2638,1818.8128 1312.9112,1818.9622 Q1313.5587,1819.1116 1314.1231,1819.4105 L1314.1231,1822.1331 Q1313.4923,1821.5521 1312.8988,1821.2823 Q1312.3053,1821.0125 1311.6744,1821.0125 Q1310.3297,1821.0125 1309.6449,1822.0792 Q1308.9601,1823.1458 1308.9601,1825.2459 Q1308.9601,1827.3377 1309.6449,1828.4044 Q1310.3297,1829.471 1311.6744,1829.471 Q1312.3053,1829.471 1312.8988,1829.2012 Q1313.4923,1828.9315 1314.1231,1828.3504 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="88" x="1331.35" y="1829.946">HeuristicsEngine</text><line style="stroke:#000000;stroke-width:1.5;" x1="1272" x2="1447" y1="1840.93" y2="1840.93"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1848.93"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="66" x="1291" y="1856.678">config: object</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1863.23"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="1291" y="1870.978">calibrationData: object</text><line style="stroke:#000000;stroke-width:1.0;" x1="1272" x2="1447" y1="1877.53" y2="1877.53"/><ellipse cx="1282" cy="1888.53" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="151" x="1291" y="1893.278">analyze(landmarks): Feedback[]</text><ellipse cx="1282" cy="1902.83" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="1291" y="1907.578">setCalibration(data)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1914.13"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="1291" y="1921.878">checkPathShape()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1928.43"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="1291" y="1936.178">checkElbowSinking()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1942.73"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="82" x="1291" y="1950.478">checkContinuity()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1957.03"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="82" x="1291" y="1964.778">checkContinuity()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1279" y="1971.33"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="94" x="1291" y="1979.078">checkArmRotation()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1272" x2="1325.5" y1="1992.78" y2="1992.78"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="68" x="1325.5" y="1996.878">+4 more rules</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1393.5" x2="1447" y1="1992.78" y2="1992.78"/><!--MD5=[2695471b11f4afe9b2f935479e6afc73]
class CalibrationManager--><rect codeLine="102" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="176.7" id="CalibrationManager" style="stroke:#000000;stroke-width:1.5;" width="137" x="1488" y="1825.65"/><ellipse cx="1503.9" cy="1841.65" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1506.3731,1847.7931 Q1505.7921,1848.0919 1505.1529,1848.2413 Q1504.5138,1848.3907 1503.8082,1848.3907 Q1501.3014,1848.3907 1499.9815,1846.7389 Q1498.6617,1845.087 1498.6617,1841.9659 Q1498.6617,1838.8365 1499.9815,1837.1847 Q1501.3014,1835.5328 1503.8082,1835.5328 Q1504.5138,1835.5328 1505.1612,1835.6822 Q1505.8087,1835.8316 1506.3731,1836.1305 L1506.3731,1838.8531 Q1505.7423,1838.2721 1505.1488,1838.0023 Q1504.5553,1837.7325 1503.9244,1837.7325 Q1502.5797,1837.7325 1501.8949,1838.7992 Q1501.2101,1839.8658 1501.2101,1841.9659 Q1501.2101,1844.0577 1501.8949,1845.1244 Q1502.5797,1846.191 1503.9244,1846.191 Q1504.5553,1846.191 1505.1488,1845.9212 Q1505.7423,1845.6515 1506.3731,1845.0704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="103" x="1518.1" y="1846.666">CalibrationManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="1489" x2="1624" y1="1857.65" y2="1857.65"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1496" y="1865.65"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="83" x="1508" y="1873.398">isActive: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1496" y="1879.95"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="1508" y="1887.698">calibrationData: object</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1496" y="1894.25"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="57" x="1508" y="1901.998">level: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="1489" x2="1624" y1="1908.55" y2="1908.55"/><ellipse cx="1499" cy="1919.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="1508" y="1924.298">start()</text><ellipse cx="1499" cy="1933.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="27" x="1508" y="1938.598">stop()</text><ellipse cx="1499" cy="1948.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="37" x="1508" y="1952.898">cancel()</text><ellipse cx="1499" cy="1962.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="93" x="1508" y="1967.198">process(landmarks)</text><ellipse cx="1499" cy="1976.75" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="70" x="1508" y="1981.498">setLevel(level)</text><ellipse cx="1499" cy="1991.05" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="79" x="1508" y="1995.798">drawOverlay(ctx)</text><!--MD5=[49faa9a638d20fb09fbea4482760b511]
class ScoringManager--><rect codeLine="115" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="119.5" id="ScoringManager" style="stroke:#000000;stroke-width:1.5;" width="143" x="1031" y="1848.25"/><ellipse cx="1058.15" cy="1864.25" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1060.6231,1870.3931 Q1060.0421,1870.6919 1059.4029,1870.8413 Q1058.7638,1870.9907 1058.0582,1870.9907 Q1055.5514,1870.9907 1054.2315,1869.3389 Q1052.9117,1867.687 1052.9117,1864.5659 Q1052.9117,1861.4365 1054.2315,1859.7847 Q1055.5514,1858.1328 1058.0582,1858.1328 Q1058.7638,1858.1328 1059.4112,1858.2822 Q1060.0587,1858.4316 1060.6231,1858.7305 L1060.6231,1861.4531 Q1059.9923,1860.8721 1059.3988,1860.6023 Q1058.8053,1860.3325 1058.1744,1860.3325 Q1056.8297,1860.3325 1056.1449,1861.3992 Q1055.4601,1862.4658 1055.4601,1864.5659 Q1055.4601,1866.6577 1056.1449,1867.7244 Q1056.8297,1868.791 1058.1744,1868.791 Q1058.8053,1868.791 1059.3988,1868.5212 Q1059.9923,1868.2515 1060.6231,1867.6704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="84" x="1074.85" y="1869.266">ScoringManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="1032" x2="1173" y1="1880.25" y2="1880.25"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1039" y="1888.25"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="1051" y="1895.998">totalFrames: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1039" y="1902.55"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="89" x="1051" y="1910.298">correctFrames: int</text><line style="stroke:#000000;stroke-width:1.0;" x1="1032" x2="1173" y1="1916.85" y2="1916.85"/><ellipse cx="1042" cy="1927.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="1051" y="1932.598">start()</text><ellipse cx="1042" cy="1942.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="117" x="1051" y="1946.898">recordFrame(feedbacks)</text><ellipse cx="1042" cy="1956.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="103" x="1051" y="1961.198">getSummary(): object</text><!--MD5=[828ae382eab9d522464ba4a27d91b499]
class BackgroundManager--><rect codeLine="130" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="133.8" id="BackgroundManager" style="stroke:#000000;stroke-width:1.5;" width="257" x="974" y="1580.1"/><ellipse cx="1044.25" cy="1596.1" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1046.7231,1602.2431 Q1046.1421,1602.5419 1045.5029,1602.6913 Q1044.8638,1602.8407 1044.1582,1602.8407 Q1041.6514,1602.8407 1040.3315,1601.1889 Q1039.0117,1599.537 1039.0117,1596.4159 Q1039.0117,1593.2865 1040.3315,1591.6347 Q1041.6514,1589.9828 1044.1582,1589.9828 Q1044.8638,1589.9828 1045.5112,1590.1322 Q1046.1587,1590.2816 1046.7231,1590.5805 L1046.7231,1593.3031 Q1046.0923,1592.7221 1045.4988,1592.4523 Q1044.9053,1592.1825 1044.2744,1592.1825 Q1042.9297,1592.1825 1042.2449,1593.2492 Q1041.5601,1594.3158 1041.5601,1596.4159 Q1041.5601,1598.5077 1042.2449,1599.5744 Q1042.9297,1600.641 1044.2744,1600.641 Q1044.9053,1600.641 1045.4988,1600.3712 Q1046.0923,1600.1015 1046.7231,1599.5204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="108" x="1064.75" y="1601.116">BackgroundManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="975" x2="1230" y1="1612.1" y2="1612.1"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="982" y="1620.1"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="61" x="994" y="1627.848">mode: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="982" y="1634.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="100" x="994" y="1642.148">blurAmount: number</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="982" y="1648.7"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="122" x="994" y="1656.448">backgroundImage: Image</text><line style="stroke:#000000;stroke-width:1.0;" x1="975" x2="1230" y1="1663" y2="1663"/><ellipse cx="985" cy="1674" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="75" x="994" y="1678.748">setMode(mode)</text><ellipse cx="985" cy="1688.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="115" x="994" y="1693.048">setBlurAmount(amount)</text><ellipse cx="985" cy="1702.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="231" x="994" y="1707.348">drawBackground(ctx, mask, video, width, height)</text><!--MD5=[8958e3f2cd182a600109a4071ffc2916]
class WebGLManager--><rect codeLine="140" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="133.8" id="WebGLManager" style="stroke:#000000;stroke-width:1.5;" width="206" x="999.5" y="1396.1"/><ellipse cx="1056.75" cy="1412.1" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1059.2231,1418.2431 Q1058.6421,1418.5419 1058.0029,1418.6913 Q1057.3638,1418.8407 1056.6582,1418.8407 Q1054.1514,1418.8407 1052.8315,1417.1889 Q1051.5117,1415.537 1051.5117,1412.4159 Q1051.5117,1409.2865 1052.8315,1407.6347 Q1054.1514,1405.9828 1056.6582,1405.9828 Q1057.3638,1405.9828 1058.0112,1406.1322 Q1058.6587,1406.2816 1059.2231,1406.5805 L1059.2231,1409.3031 Q1058.5923,1408.7221 1057.9988,1408.4523 Q1057.4053,1408.1825 1056.7744,1408.1825 Q1055.4297,1408.1825 1054.7449,1409.2492 Q1054.0601,1410.3158 1054.0601,1412.4159 Q1054.0601,1414.5077 1054.7449,1415.5744 Q1055.4297,1416.641 1056.7744,1416.641 Q1057.4053,1416.641 1057.9988,1416.3712 Q1058.5923,1416.1015 1059.2231,1415.5204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="83" x="1077.25" y="1417.116">WebGLManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="1000.5" x2="1204.5" y1="1428.1" y2="1428.1"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1007.5" y="1436.1"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="141" x="1019.5" y="1443.848">gl: WebGL2RenderingContext</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1007.5" y="1450.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="73" x="1019.5" y="1458.148">programs: Map</text><line style="stroke:#000000;stroke-width:1.0;" x1="1000.5" x2="1204.5" y1="1464.7" y2="1464.7"/><ellipse cx="1010.5" cy="1475.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="55" x="1019.5" y="1480.448">init(canvas)</text><ellipse cx="1010.5" cy="1490" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="103" x="1019.5" y="1494.748">createProgram(vs, fs)</text><ellipse cx="1010.5" cy="1504.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="180" x="1019.5" y="1509.048">applyGaussianBlur(image, horizontal)</text><ellipse cx="1010.5" cy="1518.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="1019.5" y="1523.348">drawTexture(image)</text><!--MD5=[7065e7be84ffd0ebe64c11e25c182e37]
class DrawingManager--><rect codeLine="150" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="233.9" id="DrawingManager" style="stroke:#000000;stroke-width:1.5;" width="213" x="996" y="856.05"/><ellipse cx="1055.25" cy="872.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1057.7231,878.1931 Q1057.1421,878.4919 1056.5029,878.6413 Q1055.8638,878.7907 1055.1582,878.7907 Q1052.6514,878.7907 1051.3315,877.1389 Q1050.0117,875.487 1050.0117,872.3659 Q1050.0117,869.2365 1051.3315,867.5847 Q1052.6514,865.9328 1055.1582,865.9328 Q1055.8638,865.9328 1056.5112,866.0822 Q1057.1587,866.2316 1057.7231,866.5305 L1057.7231,869.2531 Q1057.0923,868.6721 1056.4988,868.4023 Q1055.9053,868.1325 1055.2744,868.1325 Q1053.9297,868.1325 1053.2449,869.1992 Q1052.5601,870.2658 1052.5601,872.3659 Q1052.5601,874.4577 1053.2449,875.5244 Q1053.9297,876.591 1055.2744,876.591 Q1055.9053,876.591 1056.4988,876.3212 Q1057.0923,876.0515 1057.7231,875.4704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="86" x="1075.75" y="877.066">DrawingManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="997" x2="1208" y1="888.05" y2="888.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1004" y="896.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="153" x="1016" y="903.798">ctx: CanvasRenderingContext2D</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1004" y="910.35"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="95" x="1016" y="918.098">isMirrored: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="997" x2="1208" y1="924.65" y2="924.65"/><ellipse cx="1007" cy="935.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="121" x="1016" y="940.398">drawSkeleton(landmarks)</text><ellipse cx="1007" cy="949.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="103" x="1016" y="954.698">drawPath(path, color)</text><ellipse cx="1007" cy="964.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="1016" y="968.998">drawTrail(history)</text><ellipse cx="1007" cy="978.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="151" x="1016" y="983.298">drawFeedbackPanel(feedbacks)</text><ellipse cx="1007" cy="992.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="145" x="1016" y="997.598">drawDebugOverlay(debugInfo)</text><ellipse cx="1007" cy="1007.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="149" x="1016" y="1011.898">drawGhostSkeleton(landmarks)</text><ellipse cx="1007" cy="1021.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="174" x="1016" y="1026.198">drawSilhouetteVideo(video, opacity)</text><ellipse cx="1007" cy="1035.75" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="134" x="1016" y="1040.498">drawSilhouette(mask, color)</text><ellipse cx="1007" cy="1050.05" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="157" x="1016" y="1054.798">drawGestureFeedback(feedback)</text><ellipse cx="1007" cy="1064.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="147" x="1016" y="1069.098">drawCircularityIndicator(score)</text><ellipse cx="1007" cy="1078.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="187" x="1016" y="1083.398">drawErrorHighlights(landmarks, errors)</text><!--MD5=[27430a77e3018f6a78460c75ee8741e0]
class GhostManager--><rect codeLine="167" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="205.3" id="GhostManager" style="stroke:#000000;stroke-width:1.5;" width="205" x="1000" y="1140.35"/><ellipse cx="1059.75" cy="1156.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1062.2231,1162.4931 Q1061.6421,1162.7919 1061.0029,1162.9413 Q1060.3638,1163.0907 1059.6582,1163.0907 Q1057.1514,1163.0907 1055.8315,1161.4389 Q1054.5117,1159.787 1054.5117,1156.6659 Q1054.5117,1153.5365 1055.8315,1151.8847 Q1057.1514,1150.2328 1059.6582,1150.2328 Q1060.3638,1150.2328 1061.0112,1150.3822 Q1061.6587,1150.5316 1062.2231,1150.8305 L1062.2231,1153.5531 Q1061.5923,1152.9721 1060.9988,1152.7023 Q1060.4053,1152.4325 1059.7744,1152.4325 Q1058.4297,1152.4325 1057.7449,1153.4992 Q1057.0601,1154.5658 1057.0601,1156.6659 Q1057.0601,1158.7577 1057.7449,1159.8244 Q1058.4297,1160.891 1059.7744,1160.891 Q1060.4053,1160.891 1060.9988,1160.6212 Q1061.5923,1160.3515 1062.2231,1159.7704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="77" x="1080.25" y="1161.366">GhostManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="1001" x2="1204" y1="1172.35" y2="1172.35"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1008" y="1180.35"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="88" x="1020" y="1188.098">isPlaying: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1008" y="1194.65"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="1020" y="1202.398">opacity: number</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1008" y="1208.95"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="179" x="1020" y="1216.698">silhouetteVideo: HTMLVideoElement</text><line style="stroke:#000000;stroke-width:1.0;" x1="1001" x2="1204" y1="1223.25" y2="1223.25"/><ellipse cx="1011" cy="1234.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="49" x="1020" y="1238.998">load(data)</text><ellipse cx="1011" cy="1248.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="118" x="1020" y="1253.298">loadSilhouetteVideo(url)</text><ellipse cx="1011" cy="1262.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="1020" y="1267.598">start()</text><ellipse cx="1011" cy="1277.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="27" x="1020" y="1281.898">stop()</text><ellipse cx="1011" cy="1291.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="40" x="1020" y="1296.198">update()</text><ellipse cx="1011" cy="1305.75" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="89" x="1020" y="1310.498">getCurrentFrame()</text><ellipse cx="1011" cy="1320.05" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="80" x="1020" y="1324.798">setSpeed(speed)</text><ellipse cx="1011" cy="1334.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="92" x="1020" y="1339.098">setOpacity(opacity)</text><!--MD5=[d602b77267d5088762cb6a59b8ed96b1]
class UIManager--><rect codeLine="194" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="162.4" id="UIManager" style="stroke:#000000;stroke-width:1.5;" width="143" x="480" y="723.8"/><ellipse cx="519.3" cy="739.8" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M521.7731,745.9431 Q521.1921,746.2419 520.5529,746.3913 Q519.9138,746.5407 519.2082,746.5407 Q516.7014,746.5407 515.3815,744.8889 Q514.0617,743.237 514.0617,740.1159 Q514.0617,736.9865 515.3815,735.3347 Q516.7014,733.6828 519.2082,733.6828 Q519.9138,733.6828 520.5612,733.8322 Q521.2087,733.9816 521.7731,734.2805 L521.7731,737.0031 Q521.1423,736.4221 520.5488,736.1523 Q519.9553,735.8825 519.3244,735.8825 Q517.9797,735.8825 517.2949,736.9492 Q516.6101,738.0158 516.6101,740.1159 Q516.6101,742.2077 517.2949,743.2744 Q517.9797,744.341 519.3244,744.341 Q519.9553,744.341 520.5488,744.0712 Q521.1423,743.8015 521.7731,743.2204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="57" x="538.7" y="744.816">UIManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="481" x2="622" y1="755.8" y2="755.8"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="488" y="763.8"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="93" x="500" y="771.548">currentLang: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="488" y="778.1"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="102" x="500" y="785.848">currentTheme: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="481" x2="622" y1="792.4" y2="792.4"/><ellipse cx="491" cy="803.4" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="500" y="808.148">toggleLanguage()</text><ellipse cx="491" cy="817.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="70" x="500" y="822.448">toggleTheme()</text><ellipse cx="491" cy="832" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="500" y="836.748">toggleLanguage()</text><ellipse cx="491" cy="846.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="70" x="500" y="851.048">toggleTheme()</text><ellipse cx="491" cy="860.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="500" y="865.348">showNotification(msg)</text><ellipse cx="491" cy="874.9" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="117" x="500" y="879.648">closeAllMenus(exceptId)</text><!--MD5=[162c7d13120dbc88836e45e3f84fc1dd]
class WisdomManager--><rect codeLine="206" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="133.8" id="WisdomManager" style="stroke:#000000;stroke-width:1.5;" width="125" x="747.5" y="241.1"/><ellipse cx="765.2" cy="257.1" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M767.6731,263.2431 Q767.0921,263.5419 766.4529,263.6913 Q765.8138,263.8407 765.1082,263.8407 Q762.6014,263.8407 761.2815,262.1889 Q759.9617,260.537 759.9617,257.4159 Q759.9617,254.2865 761.2815,252.6347 Q762.6014,250.9828 765.1082,250.9828 Q765.8138,250.9828 766.4612,251.1322 Q767.1087,251.2816 767.6731,251.5805 L767.6731,254.3031 Q767.0423,253.7221 766.4488,253.4523 Q765.8553,253.1825 765.2244,253.1825 Q763.8797,253.1825 763.1949,254.2492 Q762.5101,255.3158 762.5101,257.4159 Q762.5101,259.5077 763.1949,260.5744 Q763.8797,261.641 765.2244,261.641 Q765.8553,261.641 766.4488,261.3712 Q767.0423,261.1015 767.6731,260.5204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="87" x="779.8" y="262.116">WisdomManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="748.5" x2="871.5" y1="273.1" y2="273.1"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="755.5" y="281.1"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="64" x="767.5" y="288.848">quotes: array</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="755.5" y="295.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="98" x="767.5" y="303.148">currentQuote: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="748.5" x2="871.5" y1="309.7" y2="309.7"/><ellipse cx="758.5" cy="320.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="30" x="767.5" y="325.448">show()</text><ellipse cx="758.5" cy="335" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="27" x="767.5" y="339.748">hide()</text><ellipse cx="758.5" cy="349.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="69" x="767.5" y="354.048">updateQuote()</text><ellipse cx="758.5" cy="363.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="99" x="767.5" y="368.348">animateSilkReeling()</text><!--MD5=[ac8dee583d7fe71a8d5304bc4e1befc2]
class ShortcutsManager--><rect codeLine="216" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="105.2" id="ShortcutsManager" style="stroke:#000000;stroke-width:1.5;" width="129" x="745.5" y="86.4"/><ellipse cx="760.5" cy="102.4" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M762.9731,108.5431 Q762.3921,108.8419 761.7529,108.9913 Q761.1138,109.1407 760.4082,109.1407 Q757.9014,109.1407 756.5815,107.4889 Q755.2617,105.837 755.2617,102.7159 Q755.2617,99.5865 756.5815,97.9347 Q757.9014,96.2828 760.4082,96.2828 Q761.1138,96.2828 761.7612,96.4322 Q762.4087,96.5816 762.9731,96.8805 L762.9731,99.6031 Q762.3423,99.0221 761.7488,98.7523 Q761.1553,98.4825 760.5244,98.4825 Q759.1797,98.4825 758.4949,99.5492 Q757.8101,100.6158 757.8101,102.7159 Q757.8101,104.8077 758.4949,105.8744 Q759.1797,106.941 760.5244,106.941 Q761.1553,106.941 761.7488,106.6712 Q762.3423,106.4015 762.9731,105.8204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="97" x="774.5" y="107.416">ShortcutsManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="746.5" x2="873.5" y1="118.4" y2="118.4"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="753.5" y="126.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="73" x="765.5" y="134.148">popupId: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="746.5" x2="873.5" y1="140.7" y2="140.7"/><ellipse cx="756.5" cy="151.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="22" x="765.5" y="156.448">init()</text><ellipse cx="756.5" cy="166" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="37" x="765.5" y="170.748">toggle()</text><ellipse cx="756.5" cy="180.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="765.5" y="185.048">getShortcutsData()</text><!--MD5=[347a6de240a7e533fe3f585d0ed7a7fe]
class AudioManager--><rect codeLine="224" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="133.8" id="AudioManager" style="stroke:#000000;stroke-width:1.5;" width="182" x="460.5" y="540.1"/><ellipse cx="509.25" cy="556.1" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M511.7231,562.2431 Q511.1421,562.5419 510.5029,562.6913 Q509.8638,562.8407 509.1582,562.8407 Q506.6514,562.8407 505.3315,561.1889 Q504.0117,559.537 504.0117,556.4159 Q504.0117,553.2865 505.3315,551.6347 Q506.6514,549.9828 509.1582,549.9828 Q509.8638,549.9828 510.5112,550.1322 Q511.1587,550.2816 511.7231,550.5805 L511.7231,553.3031 Q511.0923,552.7221 510.4988,552.4523 Q509.9053,552.1825 509.2744,552.1825 Q507.9297,552.1825 507.2449,553.2492 Q506.5601,554.3158 506.5601,556.4159 Q506.5601,558.5077 507.2449,559.5744 Q507.9297,560.641 509.2744,560.641 Q509.9053,560.641 510.4988,560.3712 Q511.0923,560.1015 511.7231,559.5204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="76" x="529.75" y="561.116">AudioManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="461.5" x2="641.5" y1="572.1" y2="572.1"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="468.5" y="580.1"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="480.5" y="587.848">enabled: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="468.5" y="594.4"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="88" x="480.5" y="602.148">cooldown: number</text><line style="stroke:#000000;stroke-width:1.0;" x1="461.5" x2="641.5" y1="608.7" y2="608.7"/><ellipse cx="471.5" cy="619.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="77" x="480.5" y="624.448">speak(message)</text><ellipse cx="471.5" cy="634" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="129" x="480.5" y="638.748">speakFeedback(feedbacks)</text><ellipse cx="471.5" cy="648.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="98" x="480.5" y="653.048">waitForIdle(timeout)</text><ellipse cx="471.5" cy="662.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="156" x="480.5" y="667.348">getExerciseSpokenText(id, level)</text><!--MD5=[1dd07b0d44aee610d043a0002d5988d9]
class TutorialManager--><rect codeLine="234" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="90.9" id="TutorialManager" style="stroke:#000000;stroke-width:1.5;" width="119" x="492" y="399.55"/><ellipse cx="507" cy="415.55" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M509.4731,421.6931 Q508.8921,421.9919 508.2529,422.1413 Q507.6138,422.2907 506.9082,422.2907 Q504.4014,422.2907 503.0815,420.6389 Q501.7617,418.987 501.7617,415.8659 Q501.7617,412.7365 503.0815,411.0847 Q504.4014,409.4328 506.9082,409.4328 Q507.6138,409.4328 508.2612,409.5822 Q508.9087,409.7316 509.4731,410.0305 L509.4731,412.7531 Q508.8423,412.1721 508.2488,411.9023 Q507.6553,411.6325 507.0244,411.6325 Q505.6797,411.6325 504.9949,412.6992 Q504.3101,413.7658 504.3101,415.8659 Q504.3101,417.9577 504.9949,419.0244 Q505.6797,420.091 507.0244,420.091 Q507.6553,420.091 508.2488,419.8212 Q508.8423,419.5515 509.4731,418.9704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="87" x="521" y="420.566">TutorialManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="493" x2="610" y1="431.55" y2="431.55"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="500" y="439.55"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="512" y="447.298">isOpen: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="493" x2="610" y1="453.85" y2="453.85"/><ellipse cx="503" cy="464.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="51" x="512" y="469.598">open(lang)</text><ellipse cx="503" cy="479.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="31" x="512" y="483.898">close()</text><!--MD5=[1027430669dbe09cf3ac84b359d871ec]
class ScorePopupManager--><rect codeLine="241" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="76.6" id="ScorePopupManager" style="stroke:#000000;stroke-width:1.5;" width="141" x="739.5" y="862.7"/><ellipse cx="754.5" cy="878.7" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M756.9731,884.8431 Q756.3921,885.1419 755.7529,885.2913 Q755.1138,885.4407 754.4082,885.4407 Q751.9014,885.4407 750.5815,883.7889 Q749.2617,882.137 749.2617,879.0159 Q749.2617,875.8865 750.5815,874.2347 Q751.9014,872.5828 754.4082,872.5828 Q755.1138,872.5828 755.7612,872.7322 Q756.4087,872.8816 756.9731,873.1805 L756.9731,875.9031 Q756.3423,875.3221 755.7488,875.0523 Q755.1553,874.7825 754.5244,874.7825 Q753.1797,874.7825 752.4949,875.8492 Q751.8101,876.9158 751.8101,879.0159 Q751.8101,881.1077 752.4949,882.1744 Q753.1797,883.241 754.5244,883.241 Q755.1553,883.241 755.7488,882.9712 Q756.3423,882.7015 756.9731,882.1204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="109" x="768.5" y="883.716">ScorePopupManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="740.5" x2="879.5" y1="894.7" y2="894.7"/><line style="stroke:#000000;stroke-width:1.0;" x1="740.5" x2="879.5" y1="902.7" y2="902.7"/><ellipse cx="750.5" cy="913.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="759.5" y="918.448">show(summary, grade)</text><ellipse cx="750.5" cy="928" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="31" x="759.5" y="932.748">close()</text><!--MD5=[ca58359f07f9a4065c7e5ec85443e727]
class RulesConfigManager--><rect codeLine="247" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="76.6" id="RulesConfigManager" style="stroke:#000000;stroke-width:1.5;" width="168" x="726" y="735.7"/><ellipse cx="754.05" cy="751.7" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M756.5231,757.8431 Q755.9421,758.1419 755.3029,758.2913 Q754.6638,758.4407 753.9582,758.4407 Q751.4514,758.4407 750.1315,756.7889 Q748.8117,755.137 748.8117,752.0159 Q748.8117,748.8865 750.1315,747.2347 Q751.4514,745.5828 753.9582,745.5828 Q754.6638,745.5828 755.3112,745.7322 Q755.9587,745.8816 756.5231,746.1805 L756.5231,748.9031 Q755.8923,748.3221 755.2988,748.0523 Q754.7053,747.7825 754.0744,747.7825 Q752.7297,747.7825 752.0449,748.8492 Q751.3601,749.9158 751.3601,752.0159 Q751.3601,754.1077 752.0449,755.1744 Q752.7297,756.241 754.0744,756.241 Q754.7053,756.241 755.2988,755.9712 Q755.8923,755.7015 756.5231,755.1204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="107" x="770.95" y="756.716">RulesConfigManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="727" x2="893" y1="767.7" y2="767.7"/><line style="stroke:#000000;stroke-width:1.0;" x1="727" x2="893" y1="775.7" y2="775.7"/><ellipse cx="737" cy="786.7" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="142" x="746" y="791.448">setRuleEnabled(key, enabled)</text><ellipse cx="737" cy="801" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="746" y="805.748">resetToDefaults()</text><!--MD5=[45ce707b976a738d2e4595cad6afaa40]
class GestureManager--><rect codeLine="253" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="90.9" id="GestureManager" style="stroke:#000000;stroke-width:1.5;" width="132" x="744" y="594.55"/><ellipse cx="765.3" cy="610.55" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M767.7731,616.6931 Q767.1921,616.9919 766.5529,617.1413 Q765.9138,617.2907 765.2082,617.2907 Q762.7014,617.2907 761.3815,615.6389 Q760.0617,613.987 760.0617,610.8659 Q760.0617,607.7365 761.3815,606.0847 Q762.7014,604.4328 765.2082,604.4328 Q765.9138,604.4328 766.5612,604.5822 Q767.2087,604.7316 767.7731,605.0305 L767.7731,607.7531 Q767.1423,607.1721 766.5488,606.9023 Q765.9553,606.6325 765.3244,606.6325 Q763.9797,606.6325 763.2949,607.6992 Q762.6101,608.7658 762.6101,610.8659 Q762.6101,612.9577 763.2949,614.0244 Q763.9797,615.091 765.3244,615.091 Q765.9553,615.091 766.5488,614.8212 Q767.1423,614.5515 767.7731,613.9704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="86" x="780.7" y="615.566">GestureManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="745" x2="875" y1="626.55" y2="626.55"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="752" y="634.55"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="82" x="764" y="642.298">isReady: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="745" x2="875" y1="648.85" y2="648.85"/><ellipse cx="755" cy="659.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="22" x="764" y="664.598">init()</text><ellipse cx="755" cy="674.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="106" x="764" y="678.898">detectGestures(video)</text><!--MD5=[a53eb7802fcf6e4afed3783382088263]
class FeedbackManager--><rect codeLine="260" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="119.5" id="FeedbackManager" style="stroke:#000000;stroke-width:1.5;" width="128" x="746" y="425.25"/><ellipse cx="761" cy="441.25" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M763.4731,447.3931 Q762.8921,447.6919 762.2529,447.8413 Q761.6138,447.9907 760.9082,447.9907 Q758.4014,447.9907 757.0815,446.3389 Q755.7617,444.687 755.7617,441.5659 Q755.7617,438.4365 757.0815,436.7847 Q758.4014,435.1328 760.9082,435.1328 Q761.6138,435.1328 762.2612,435.2822 Q762.9087,435.4316 763.4731,435.7305 L763.4731,438.4531 Q762.8423,437.8721 762.2488,437.6023 Q761.6553,437.3325 761.0244,437.3325 Q759.6797,437.3325 758.9949,438.3992 Q758.3101,439.4658 758.3101,441.5659 Q758.3101,443.6577 758.9949,444.7244 Q759.6797,445.791 761.0244,445.791 Q761.6553,445.791 762.2488,445.5212 Q762.8423,445.2515 763.4731,444.6704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="96" x="775" y="446.266">FeedbackManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="747" x2="873" y1="457.25" y2="457.25"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="754" y="465.25"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="71" x="766" y="472.998">formUrl: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="747" x2="873" y1="479.55" y2="479.55"/><ellipse cx="757" cy="490.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="69" x="766" y="495.298">createButton()</text><ellipse cx="757" cy="504.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="60" x="766" y="509.598">showPopup()</text><ellipse cx="757" cy="519.15" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="69" x="766" y="523.898">createButton()</text><ellipse cx="757" cy="533.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="60" x="766" y="538.198">showPopup()</text><!--MD5=[f097a9da547c6f19ba7a5c97c093eb18]
class SessionManager--><rect codeLine="287" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="85.8" id="SessionManager" style="stroke:#000000;stroke-width:1.5;" width="122" x="490.5" y="1766.1"/><ellipse cx="508.2" cy="1786.7" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M510.6731,1792.8431 Q510.0921,1793.1419 509.4529,1793.2913 Q508.8138,1793.4407 508.1082,1793.4407 Q505.6014,1793.4407 504.2815,1791.7889 Q502.9617,1790.137 502.9617,1787.0159 Q502.9617,1783.8865 504.2815,1782.2347 Q505.6014,1780.5828 508.1082,1780.5828 Q508.8138,1780.5828 509.4612,1780.7322 Q510.1087,1780.8816 510.6731,1781.1805 L510.6731,1783.9031 Q510.0423,1783.3221 509.4488,1783.0523 Q508.8553,1782.7825 508.2244,1782.7825 Q506.8797,1782.7825 506.1949,1783.8492 Q505.5101,1784.9158 505.5101,1787.0159 Q505.5101,1789.1077 506.1949,1790.1744 Q506.8797,1791.241 508.2244,1791.241 Q508.8553,1791.241 509.4488,1790.9712 Q510.0423,1790.7015 510.6731,1790.1204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="542.3" y="1783.916">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="84" x="522.8" y="1799.516">SessionManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="491.5" x2="611.5" y1="1807.3" y2="1807.3"/><line style="stroke:#000000;stroke-width:1.5;" x1="491.5" x2="611.5" y1="1815.3" y2="1815.3"/><ellipse cx="501.5" cy="1826.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="510.5" y="1831.048">getOrCreateUserId()</text><ellipse cx="501.5" cy="1840.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="510.5" y="1845.348">generateSessionId()</text><!--MD5=[cbfd515719b6910b093ca89747820c68]
class PathGenerator--><rect codeLine="292" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="71.5" id="PathGenerator" style="stroke:#000000;stroke-width:1.5;" width="235" x="434" y="1644.25"/><ellipse cx="508.25" cy="1664.85" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M510.7231,1670.9931 Q510.1421,1671.2919 509.5029,1671.4413 Q508.8638,1671.5907 508.1582,1671.5907 Q505.6514,1671.5907 504.3315,1669.9389 Q503.0117,1668.287 503.0117,1665.1659 Q503.0117,1662.0365 504.3315,1660.3847 Q505.6514,1658.7328 508.1582,1658.7328 Q508.8638,1658.7328 509.5112,1658.8822 Q510.1587,1659.0316 510.7231,1659.3305 L510.7231,1662.0531 Q510.0923,1661.4721 509.4988,1661.2023 Q508.9053,1660.9325 508.2744,1660.9325 Q506.9297,1660.9325 506.2449,1661.9992 Q505.5601,1663.0658 505.5601,1665.1659 Q505.5601,1667.2577 506.2449,1668.3244 Q506.9297,1669.391 508.2744,1669.391 Q508.9053,1669.391 509.4988,1669.1212 Q510.0923,1668.8515 510.7231,1668.2704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="545.25" y="1662.066">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="78" x="528.75" y="1677.666">PathGenerator</text><line style="stroke:#000000;stroke-width:1.5;" x1="435" x2="668" y1="1685.45" y2="1685.45"/><line style="stroke:#000000;stroke-width:1.5;" x1="435" x2="668" y1="1693.45" y2="1693.45"/><ellipse cx="445" cy="1704.45" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="209" x="454" y="1709.198">generateDynamicPath(landmarks, exercise)</text><!--MD5=[e219136ea99e406b0a84800811d2e145]
class DataExporter--><rect codeLine="296" fill="#FFFFFF" filter="url(#fs14mc9o758nt)" height="85.8" id="DataExporter" style="stroke:#000000;stroke-width:1.5;" width="111" x="496" y="1508.1"/><ellipse cx="515.05" cy="1528.7" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M517.5231,1534.8431 Q516.9421,1535.1419 516.3029,1535.2913 Q515.6638,1535.4407 514.9582,1535.4407 Q512.4514,1535.4407 511.1315,1533.7889 Q509.8117,1532.137 509.8117,1529.0159 Q509.8117,1525.8865 511.1315,1524.2347 Q512.4514,1522.5828 514.9582,1522.5828 Q515.6638,1522.5828 516.3112,1522.7322 Q516.9587,1522.8816 517.5231,1523.1805 L517.5231,1525.9031 Q516.8923,1525.3221 516.2988,1525.0523 Q515.7053,1524.7825 515.0744,1524.7825 Q513.7297,1524.7825 513.0449,1525.8492 Q512.3601,1526.9158 512.3601,1529.0159 Q512.3601,1531.1077 513.0449,1532.1744 Q513.7297,1533.241 515.0744,1533.241 Q515.7053,1533.241 516.2988,1532.9712 Q516.8923,1532.7015 517.5231,1532.1204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="542.45" y="1525.916">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="70" x="529.95" y="1541.516">DataExporter</text><line style="stroke:#000000;stroke-width:1.5;" x1="497" x2="606" y1="1549.3" y2="1549.3"/><line style="stroke:#000000;stroke-width:1.5;" x1="497" x2="606" y1="1557.3" y2="1557.3"/><ellipse cx="507" cy="1568.3" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="516" y="1573.048">exportJSON(data)</text><ellipse cx="507" cy="1582.6" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="516" y="1587.348">exportCSV(data)</text><path d="M6,839.5 L6,1018.5 L378,1018.5 L378,849.5 L368,839.5 L6,839.5 " fill="#FBFB77" filter="url(#fs14mc9o758nt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M368,839.5 L368,849.5 L378,849.5 L368,839.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="12" y="858.384">TaijiFlow AI Architecture</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="0" x="15" y="875.284"/><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="172" x="12" y="892.184">MVC-like Pattern (5 Packages):</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="909.084">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="19" y="909.084">Controllers</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="170" x="86" y="909.084">: script.js + Keyboard + Display</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="925.984">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="19" y="925.984">Core</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="216" x="47" y="925.984">: HeuristicsEngine, Calibration, Scoring</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="942.884">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="19" y="942.884">Display</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="163" x="62" y="942.884">: Drawing, Ghost, Background</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="959.784">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="13" x="19" y="959.784">UI</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="331" x="32" y="959.784">: UIManager + 8 more (Shortcuts added, Chatbot removed)</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="976.684">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="19" y="976.684">Utility</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="134" x="57" y="976.684">: Session, Path, Exporter</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="0" x="15" y="993.584"/><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="246" x="12" y="1010.484">Total: 21 Classes, 24 Modules (documented)</text><!--MD5=[32b2559013a2af7d3fbb88a153276af5]
link DrawingManager to GhostManager--><!--MD5=[611aeed3de9f8f9f0e8e54271a83fcd1]
link GhostManager to BackgroundManager--><!--MD5=[073fe855a1745c5f5f95d9b7907244af]
link BackgroundManager to WebGLManager--><!--MD5=[073fe855a1745c5f5f95d9b7907244af]
link BackgroundManager to WebGLManager--><path codeLine="327" d="M1137,1579.79 C1137,1579.79 1137,1536.85 1137,1536.85 " fill="none" id="BackgroundManager-to-WebGLManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1137,1531.85,1133,1540.85,1137,1536.85,1141,1540.85,1137,1531.85" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[51eaa1b43a149febd10d66dbba0f63b6]
link UIManager to AudioManager--><!--MD5=[206c125da6c0fa549c2eb92f359766ca]
link AudioManager to TutorialManager--><!--MD5=[a0969e0435b22411c39d04728eb08a32]
link TutorialManager to ScorePopupManager--><!--MD5=[17a773bcde99f8f6aad6ef435d752061]
link ScorePopupManager to RulesConfigManager--><!--MD5=[78b5e27333e049fa5626f7341eb605de]
link RulesConfigManager to GestureManager--><!--MD5=[ec4871536f25f262224859d313d60b14]
link GestureManager to FeedbackManager--><!--MD5=[80417987861201121d21ca76f11d96de]
link FeedbackManager to WisdomManager--><!--MD5=[1eda136c4664ea9d5ba34ae5e6772f21]
link WisdomManager to ShortcutsManager--><!--MD5=[8ecf8a2be7bc1144d736fe69cb3dc5d0]
link SessionManager to PathGenerator--><!--MD5=[b4153a4765cd3212441a027f5c92dbfd]
link PathGenerator to DataExporter--><!--MD5=[bf3c87166e1461fb0037a62116064262]
link Script to KeyboardController--><path codeLine="312" d="M284.11,1323.85 C284.11,1323.85 477.24,1323.85 477.24,1323.85 " fill="none" id="Script-to-KeyboardController" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="482.24,1323.85,473.24,1319.85,477.24,1323.85,473.24,1327.85,482.24,1323.85" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[066c35afdd785367532baf5480047ad9]
link Script to DisplayController--><path codeLine="313" d="M284.19,1285.07 C284.19,1285.07 718.2,1285.07 718.2,1285.07 " fill="none" id="Script-to-DisplayController" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="723.2,1285.07,714.2,1281.07,718.2,1285.07,714.2,1289.07,723.2,1285.07" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[bb640fb10fb5d2929dca8b96a4ce4b2e]
link Script to HeuristicsEngine--><path codeLine="314" d="M131,1388.99 C131,1572.81 131,1987.41 131,1987.41 C131,1987.41 1264.14,1987.41 1264.14,1987.41 " fill="none" id="Script-to-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1269.14,1987.41,1260.14,1983.41,1264.14,1987.41,1260.14,1991.41,1269.14,1987.41" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[df44e9dcfa25f6d6d0ebc55302acba7f]
link Script to CalibrationManager--><path codeLine="315" d="M192,1389.26 C192,1516.84 192,1740.93 192,1740.93 C192,1740.93 1556,1740.93 1556,1740.93 C1556,1740.93 1556,1818.67 1556,1818.67 " fill="none" id="Script-to-CalibrationManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1556,1823.67,1560,1814.67,1556,1818.67,1552,1814.67,1556,1823.67" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e96b2d5337d6cc8c6fa37ff8fa78d55e]
link Script to DrawingManager--><path codeLine="316" d="M284.47,1251.13 C397.53,1251.13 574,1251.13 574,1251.13 C574,1251.13 574,1053.85 574,1053.85 C574,1053.85 989.04,1053.85 989.04,1053.85 " fill="none" id="Script-to-DrawingManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="994.04,1053.85,985.04,1049.85,989.04,1053.85,985.04,1057.85,994.04,1053.85" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[316c9feee76975263e4d8c48afaa721b]
link Script to BackgroundManager--><path codeLine="317" d="M223,1388.95 C223,1482.55 223,1619.07 223,1619.07 C223,1619.07 967.16,1619.07 967.16,1619.07 " fill="none" id="Script-to-BackgroundManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="972.16,1619.07,963.16,1615.07,967.16,1619.07,963.16,1623.07,972.16,1619.07" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[6fbfb2b36488141d6f4cc532d3959812]
link Script to UIManager--><path codeLine="318" d="M284.09,1242.65 C383.87,1242.65 529,1242.65 529,1242.65 C529,1242.65 529,893.06 529,893.06 " fill="none" id="Script-to-UIManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="529,888.06,525,897.06,529,893.06,533,897.06,529,888.06" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1b30a48cdca0eca6112e471747dd5049]
link Script to AudioManager--><path codeLine="319" d="M284.18,1234.17 C365.11,1234.17 470,1234.17 470,1234.17 C470,1234.17 470,680.63 470,680.63 " fill="none" id="Script-to-AudioManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="470,675.63,466,684.63,470,680.63,474,684.63,470,675.63" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[d3159cad506f0cb1a1310c2a9273c5ba]
link Script to TutorialManager--><path codeLine="320" d="M284.31,1225.68 C342.23,1225.68 406,1225.68 406,1225.68 C406,1225.68 406,445 406,445 C406,445 485.39,445 485.39,445 " fill="none" id="Script-to-TutorialManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="490.39,445,481.39,441,485.39,445,481.39,449,490.39,445" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[c9d5948225815dc913d981d595174205]
link Script to GestureManager--><path codeLine="321" d="M284.45,1259.62 C413.76,1259.62 633,1259.62 633,1259.62 C633,1259.62 633,679.67 633,679.67 C633,679.67 737.07,679.67 737.07,679.67 " fill="none" id="Script-to-GestureManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="742.07,679.67,733.07,675.67,737.07,679.67,733.07,683.67,742.07,679.67" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[d83a339530a69f056b722631b3ba707e]
link Script to ShortcutsManager--><path codeLine="322" d="M284.33,1268.1 C418.37,1268.1 651,1268.1 651,1268.1 C651,1268.1 651,139 651,139 C651,139 738.82,139 738.82,139 " fill="none" id="Script-to-ShortcutsManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="743.82,139,734.82,135,738.82,139,734.82,143,743.82,139" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[054d7b1fdba22383893cfa838083967a]
link DisplayController to GhostManager--><path codeLine="325" d="M895.39,1208.78 C895.39,1208.78 993.14,1208.78 993.14,1208.78 " fill="none" id="DisplayController-to-GhostManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="998.14,1208.78,989.14,1204.78,993.14,1208.78,989.14,1212.78,998.14,1208.78" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[a17a43ae14a6d55146cc3d2e4d7a0615]
link DisplayController to BackgroundManager--><path codeLine="326" d="M895.5,1367.1 C938.25,1367.1 981,1367.1 981,1367.1 C981,1367.1 981,1573.09 981,1573.09 " fill="none" id="DisplayController-to-BackgroundManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="981,1578.09,985,1569.09,981,1573.09,977,1569.09,981,1578.09" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[114b1c542304188696707e3b7725b454]
link KeyboardController to DisplayController--><path codeLine="328" d="M619.42,1339 C619.42,1339 718.44,1339 718.44,1339 " fill="none" id="KeyboardController-to-DisplayController" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="723.44,1339,714.44,1335,718.44,1339,714.44,1343,723.44,1339" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[93c85ec313925d227df23d58d1ea3cf5]
link HeuristicsEngine to CalibrationManager--><path codeLine="331" d="M1448.49,1914 C1448.49,1914 1481.17,1914 1481.17,1914 " fill="none" id="HeuristicsEngine-to-CalibrationManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="1486.17,1914,1477.17,1910,1481.17,1914,1477.17,1918,1486.17,1914" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[f54eabe09eee0fd5b70ad09dfcf80d76]
reverse link ScoringManager to HeuristicsEngine--><path codeLine="332" d="M1180.94,1908 C1180.94,1908 1270.64,1908 1270.64,1908 " fill="none" id="ScoringManager-backto-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="1175.94,1908,1184.94,1912,1180.94,1908,1184.94,1904,1175.94,1908" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[8130cbae6e915c6bd816ad1177fd8668]
reverse link DrawingManager to HeuristicsEngine--><path codeLine="333" d="M1215.77,973 C1215.77,973 1330,973 1330,973 C1330,973 1330,1568.19 1330,1808.82 " fill="none" id="DrawingManager-backto-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="1210.77,973,1219.77,977,1215.77,973,1219.77,969,1210.77,973" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[21cbf8643b8569618ababa145af3b81c]
link UIManager to ScorePopupManager--><path codeLine="336" d="M623.16,878.37 C623.16,878.37 732.58,878.37 732.58,878.37 " fill="none" id="UIManager-to-ScorePopupManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="737.58,878.37,728.58,874.37,732.58,878.37,728.58,882.37,737.58,878.37" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[0b9ad05266fc989d553c8e2c96494de2]
link UIManager to WisdomManager--><path codeLine="337" d="M623.35,729.75 C656.23,729.75 688,729.75 688,729.75 C688,729.75 688,308 688,308 C688,308 740.7,308 740.7,308 " fill="none" id="UIManager-to-WisdomManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="745.7,308,736.7,304,740.7,308,736.7,312,745.7,308" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[6cc97f7bc7c31b26f16b0bdedb965ee3]
link ScoringManager to ScorePopupManager--><path codeLine="338" d="M1030.98,1909.83 C985.45,1909.83 935,1909.83 935,1909.83 C935,1909.83 935,901 935,901 C935,901 887.41,901 887.41,901 " fill="none" id="ScoringManager-to-ScorePopupManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="882.41,901,891.41,905,887.41,901,891.41,897,882.41,901" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[fefc158ffacc74b4ea6c698976d9bb28]
link Script to FeedbackManager--><path codeLine="339" d="M284.49,1276.58 C432.47,1276.58 706,1276.58 706,1276.58 C706,1276.58 706,515.28 706,515.28 C706,515.28 739.1,515.28 739.1,515.28 " fill="none" id="Script-to-FeedbackManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="744.1,515.27,735.1,511.27,739.1,515.27,735.1,519.27,744.1,515.27" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[9b185d876e8dca1007bb9a7007ca0ac2]
link RulesConfigManager to HeuristicsEngine--><path codeLine="340" d="M894.19,774 C1054.78,774 1389,774 1389,774 C1389,774 1389,1802.34 1389,1802.34 " fill="none" id="RulesConfigManager-to-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1389,1807.34,1393,1798.34,1389,1802.34,1385,1798.34,1389,1807.34" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e978cfe7b79b9a9eecbc1f12c7812525]
link Script to SessionManager--><path codeLine="343" d="M161,1389.12 C161,1533.56 161,1809 161,1809 C161,1809 483.54,1809 483.54,1809 " fill="none" id="Script-to-SessionManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="488.54,1809,479.54,1805,483.54,1809,479.54,1813,488.54,1809" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[a0e975fe68959f3d5f45bfbb14c56c08]
link Script to PathGenerator--><path codeLine="344" d="M284.42,1354.15 C357.4,1354.15 447,1354.15 447,1354.15 C447,1354.15 447,1637.37 447,1637.37 " fill="none" id="Script-to-PathGenerator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="447,1642.37,451,1633.37,447,1637.37,443,1633.37,447,1642.37" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[107d199cd8363bbd797a6879dcd0743d]
link Script to DataExporter--><path codeLine="345" d="M253,1389.04 C253,1460.67 253,1551 253,1551 C253,1551 489.19,1551 489.19,1551 " fill="none" id="Script-to-DataExporter" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="494.19,1551,485.19,1547,489.19,1551,485.19,1555,494.19,1551" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[68b58a452f414556a5c783b221a25cd8]
@startuml TaijiFlow_Class_Diagram
' ============================================================================
' TaijiFlow AI - Class Diagram v1.3 (Updated: 2026-01-25)
' ============================================================================
' จัดกลุ่มด้วย Packages เพื่อความชัดเจน
' อ้างอิง: 21 JavaScript Modules (Chatbot removed, ShortcutsManager added)
' ============================================================================

skinparam defaultFontName "sarabun"
skinparam packageStyle rectangle

' === Line Style Settings (ลดเส้นซ้อนทับ) ===
left to right direction
skinparam linetype ortho
skinparam nodesep 50
skinparam ranksep 40

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}
skinparam package {
    BackgroundColor<<Controller>> #E3F2FD
    BackgroundColor<<Core>> #FFF3E0
    BackgroundColor<<Display>> #E0F7FA
    BackgroundColor<<UI>> #E8F5E9
    BackgroundColor<<Utility>> #F3E5F5
}

' ============================================================================
' CONTROLLERS PACKAGE
' ============================================================================

package "Controllers" <<Controller>> {
    class "script.js" as Script <<Main>> {
        - isTrainingMode: boolean
        - currentPerformanceMode: string
        - -
        + startTrainingFlow()
        + endTrainingSession()
        + onResults(results)
        + loadReferenceData()
        + setPerformanceMode(mode)
        + selectPerformanceMode(mode)
    }
    
    class KeyboardController {
        - deps: object
        - -
        + handleKeydown(event)
        + showShortcutsHelp()
    }
    
    class DisplayController {
        - showGhostOverlay: boolean
        - showPath: boolean
        - showSkeleton: boolean
        - showSilhouette: boolean
        - showTrail: boolean
        - showBlurBackground: boolean
        - showSideBySide: boolean
        - showErrorHighlights: boolean
        - trailHistory: array
        - -
        + init()
        + toggleInstructor(show)
        + resetToDefaults()
        + addTrailPoint(x, y)
        + clearTrail()
        + clearTrail()
        + initBlurBackgroundCheckbox()
        + autoDisableHighCostEffects()
    }
    
    note as NC
        **จัดการ Application Flow**
        Script = Main Controller
        Keyboard = 15 Shortcuts (เพิ่ม K)
        Display = 7 Options (เพิ่ม Blur)
    end note
}

' ============================================================================
' CORE MANAGERS PACKAGE
' ============================================================================

package "Core Managers" <<Core>> {
    class HeuristicsEngine {
        - config: object
        - calibrationData: object
        - -
        + analyze(landmarks): Feedback[]
        + setCalibration(data)
        - checkPathShape()
        - checkElbowSinking()
        - checkContinuity()
        - checkContinuity()
        - checkArmRotation()
        .. +4 more rules ..
    }
    
    class CalibrationManager {
        - isActive: boolean
        - calibrationData: object
        - level: string
        - -
        + start()
        + stop()
        + cancel()
        + process(landmarks)
        + setLevel(level)
        + drawOverlay(ctx)
    }
    
    class ScoringManager {
        - totalFrames: int
        - correctFrames: int
        - -
        + start()
        + recordFrame(feedbacks)
        + getSummary(): object
    }
}

' ============================================================================
' DISPLAY MANAGERS PACKAGE (แยกจาก Core เพราะเป็น View/Render)
' ============================================================================

package "Display Managers" <<Display>> {
    class BackgroundManager {
        - mode: string
        - blurAmount: number
        - backgroundImage: Image
        - -
        + setMode(mode)
        + setBlurAmount(amount)
        + drawBackground(ctx, mask, video, width, height)
    }

    class WebGLManager {
        - gl: WebGL2RenderingContext
        - programs: Map
        - -
        + init(canvas)
        + createProgram(vs, fs)
        + applyGaussianBlur(image, horizontal)
        + drawTexture(image)
    }

    class DrawingManager {
        - ctx: CanvasRenderingContext2D
        - isMirrored: boolean
        - -
        + drawSkeleton(landmarks)
        + drawPath(path, color)
        + drawTrail(history)
        + drawFeedbackPanel(feedbacks)
        + drawDebugOverlay(debugInfo)
        + drawGhostSkeleton(landmarks)
        + drawSilhouetteVideo(video, opacity)
        + drawSilhouette(mask, color)
        + drawGestureFeedback(feedback)
        + drawCircularityIndicator(score)
        + drawErrorHighlights(landmarks, errors)
    }
    
    class GhostManager {
        - isPlaying: boolean
        - opacity: number
        - silhouetteVideo: HTMLVideoElement
        - -
        + load(data)
        + loadSilhouetteVideo(url)
        + start()
        + stop()
        + update()
        + getCurrentFrame()
        + setSpeed(speed)
        + setOpacity(opacity)
    }
    
    ' Force horizontal layout
    DrawingManager -[hidden]right- GhostManager
    GhostManager -[hidden]right- BackgroundManager
    BackgroundManager -[hidden]right- WebGLManager
}

' ============================================================================
' UI MANAGERS PACKAGE
' ============================================================================

package "UI & Feedback" <<UI>> {
    together {
        class UIManager {
            - currentLang: string
            - currentTheme: string
            - -
            + toggleLanguage()
            + toggleTheme()
            + toggleLanguage()
            + toggleTheme()
            + showNotification(msg)
            + closeAllMenus(exceptId)
        }
        
        class WisdomManager {
            - quotes: array
            - currentQuote: string
            - -
            + show()
            + hide()
            + updateQuote()
            + animateSilkReeling()
        }
        
        class ShortcutsManager {
            - popupId: string
            - -
            + init()
            + toggle()
            + getShortcutsData()
        }
        
        class AudioManager {
            - enabled: boolean
            - cooldown: number
            - -
            + speak(message)
            + speakFeedback(feedbacks)
            + waitForIdle(timeout)
            + getExerciseSpokenText(id, level)
        }
        
        class TutorialManager {
            - isOpen: boolean
            - -
            + open(lang)
            + close()
        }
        
        class ScorePopupManager {
            - -
            + show(summary, grade)
            + close()
        }
        
        class RulesConfigManager {
            - -
            + setRuleEnabled(key, enabled)
            + resetToDefaults()
        }
        
        class GestureManager {
            - isReady: boolean
            - -
            + init()
            + detectGestures(video)
        }
        
        class FeedbackManager {
            - formUrl: string
            - -
            + createButton()
            + showPopup()
            + createButton()
            + showPopup()
        }
    }
    
    ' Force horizontal layout
    UIManager -[hidden]right- AudioManager
    AudioManager -[hidden]right- TutorialManager
    TutorialManager -[hidden]right- ScorePopupManager
    ScorePopupManager -[hidden]right- RulesConfigManager
    RulesConfigManager -[hidden]right- GestureManager
    GestureManager -[hidden]right- FeedbackManager
    FeedbackManager -[hidden]right- WisdomManager
    WisdomManager -[hidden]right- ShortcutsManager
}

' ============================================================================
' UTILITIES PACKAGE
' ============================================================================

package "Utilities" <<Utility>> {
    together {
        class SessionManager <<Utility>> {
            + getOrCreateUserId()
            + generateSessionId()
        }
        
        class PathGenerator <<Utility>> {
            + generateDynamicPath(landmarks, exercise)
        }
        
        class DataExporter <<Utility>> {
            + exportJSON(data)
            + exportCSV(data)
        }
    }
    
    ' Force horizontal layout
    SessionManager -[hidden]right- PathGenerator
    PathGenerator -[hidden]right- DataExporter
}

' ============================================================================
' RELATIONSHIPS (Simplified - ไม่มี label เพื่อความสะอาด)
' ============================================================================

' Controller relationships
Script - -> KeyboardController
Script - -> DisplayController
Script - -> HeuristicsEngine
Script - -> CalibrationManager
Script - -> DrawingManager
Script - -> BackgroundManager
Script - -> UIManager
Script - -> AudioManager
Script - -> TutorialManager
Script - -> GestureManager
Script - -> ShortcutsManager

' Display Controller
DisplayController - -> GhostManager
DisplayController - -> BackgroundManager
BackgroundManager - -> WebGLManager
KeyboardController ..> DisplayController

' Core relationships
HeuristicsEngine ..> CalibrationManager
ScoringManager <.. HeuristicsEngine
DrawingManager <.. HeuristicsEngine

' UI relationships
UIManager - -> ScorePopupManager
UIManager - -> WisdomManager
ScoringManager .[norank].> ScorePopupManager
Script - -> FeedbackManager
RulesConfigManager - -> HeuristicsEngine

' Utilities (เส้นประ = indirect)
Script ..> SessionManager
Script ..> PathGenerator
Script ..> DataExporter

' ============================================================================
' ARCHITECTURE NOTE
' ============================================================================

note as N1
    **TaijiFlow AI Architecture**
    
    MVC-like Pattern (5 Packages):
    - **Controllers**: script.js + Keyboard + Display
    - **Core**: HeuristicsEngine, Calibration, Scoring
    - **Display**: Drawing, Ghost, Background
    - **UI**: UIManager + 8 more (Shortcuts added, Chatbot removed)
    - **Utility**: Session, Path, Exporter
    
    Total: 21 Classes, 24 Modules (documented)
end note

@enduml

@startuml TaijiFlow_Class_Diagram

skinparam defaultFontName "sarabun"
skinparam packageStyle rectangle

left to right direction
skinparam linetype ortho
skinparam nodesep 50
skinparam ranksep 40

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}
skinparam package {
    BackgroundColor<<Controller>> #E3F2FD
    BackgroundColor<<Core>> #FFF3E0
    BackgroundColor<<Display>> #E0F7FA
    BackgroundColor<<UI>> #E8F5E9
    BackgroundColor<<Utility>> #F3E5F5
}


package "Controllers" <<Controller>> {
    class "script.js" as Script <<Main>> {
        - isTrainingMode: boolean
        - currentPerformanceMode: string
        - -
        + startTrainingFlow()
        + endTrainingSession()
        + onResults(results)
        + loadReferenceData()
        + setPerformanceMode(mode)
        + selectPerformanceMode(mode)
    }
    
    class KeyboardController {
        - deps: object
        - -
        + handleKeydown(event)
        + showShortcutsHelp()
    }
    
    class DisplayController {
        - showGhostOverlay: boolean
        - showPath: boolean
        - showSkeleton: boolean
        - showSilhouette: boolean
        - showTrail: boolean
        - showBlurBackground: boolean
        - showSideBySide: boolean
        - showErrorHighlights: boolean
        - trailHistory: array
        - -
        + init()
        + toggleInstructor(show)
        + resetToDefaults()
        + addTrailPoint(x, y)
        + clearTrail()
        + clearTrail()
        + initBlurBackgroundCheckbox()
        + autoDisableHighCostEffects()
    }
    
    note as NC
        **จัดการ Application Flow**
        Script = Main Controller
        Keyboard = 15 Shortcuts (เพิ่ม K)
        Display = 7 Options (เพิ่ม Blur)
    end note
}


package "Core Managers" <<Core>> {
    class HeuristicsEngine {
        - config: object
        - calibrationData: object
        - -
        + analyze(landmarks): Feedback[]
        + setCalibration(data)
        - checkPathShape()
        - checkElbowSinking()
        - checkContinuity()
        - checkContinuity()
        - checkArmRotation()
        .. +4 more rules ..
    }
    
    class CalibrationManager {
        - isActive: boolean
        - calibrationData: object
        - level: string
        - -
        + start()
        + stop()
        + cancel()
        + process(landmarks)
        + setLevel(level)
        + drawOverlay(ctx)
    }
    
    class ScoringManager {
        - totalFrames: int
        - correctFrames: int
        - -
        + start()
        + recordFrame(feedbacks)
        + getSummary(): object
    }
}


package "Display Managers" <<Display>> {
    class BackgroundManager {
        - mode: string
        - blurAmount: number
        - backgroundImage: Image
        - -
        + setMode(mode)
        + setBlurAmount(amount)
        + drawBackground(ctx, mask, video, width, height)
    }

    class WebGLManager {
        - gl: WebGL2RenderingContext
        - programs: Map
        - -
        + init(canvas)
        + createProgram(vs, fs)
        + applyGaussianBlur(image, horizontal)
        + drawTexture(image)
    }

    class DrawingManager {
        - ctx: CanvasRenderingContext2D
        - isMirrored: boolean
        - -
        + drawSkeleton(landmarks)
        + drawPath(path, color)
        + drawTrail(history)
        + drawFeedbackPanel(feedbacks)
        + drawDebugOverlay(debugInfo)
        + drawGhostSkeleton(landmarks)
        + drawSilhouetteVideo(video, opacity)
        + drawSilhouette(mask, color)
        + drawGestureFeedback(feedback)
        + drawCircularityIndicator(score)
        + drawErrorHighlights(landmarks, errors)
    }
    
    class GhostManager {
        - isPlaying: boolean
        - opacity: number
        - silhouetteVideo: HTMLVideoElement
        - -
        + load(data)
        + loadSilhouetteVideo(url)
        + start()
        + stop()
        + update()
        + getCurrentFrame()
        + setSpeed(speed)
        + setOpacity(opacity)
    }
    
    DrawingManager -[hidden]right- GhostManager
    GhostManager -[hidden]right- BackgroundManager
    BackgroundManager -[hidden]right- WebGLManager
}


package "UI & Feedback" <<UI>> {
    together {
        class UIManager {
            - currentLang: string
            - currentTheme: string
            - -
            + toggleLanguage()
            + toggleTheme()
            + toggleLanguage()
            + toggleTheme()
            + showNotification(msg)
            + closeAllMenus(exceptId)
        }
        
        class WisdomManager {
            - quotes: array
            - currentQuote: string
            - -
            + show()
            + hide()
            + updateQuote()
            + animateSilkReeling()
        }
        
        class ShortcutsManager {
            - popupId: string
            - -
            + init()
            + toggle()
            + getShortcutsData()
        }
        
        class AudioManager {
            - enabled: boolean
            - cooldown: number
            - -
            + speak(message)
            + speakFeedback(feedbacks)
            + waitForIdle(timeout)
            + getExerciseSpokenText(id, level)
        }
        
        class TutorialManager {
            - isOpen: boolean
            - -
            + open(lang)
            + close()
        }
        
        class ScorePopupManager {
            - -
            + show(summary, grade)
            + close()
        }
        
        class RulesConfigManager {
            - -
            + setRuleEnabled(key, enabled)
            + resetToDefaults()
        }
        
        class GestureManager {
            - isReady: boolean
            - -
            + init()
            + detectGestures(video)
        }
        
        class FeedbackManager {
            - formUrl: string
            - -
            + createButton()
            + showPopup()
            + createButton()
            + showPopup()
        }
    }
    
    UIManager -[hidden]right- AudioManager
    AudioManager -[hidden]right- TutorialManager
    TutorialManager -[hidden]right- ScorePopupManager
    ScorePopupManager -[hidden]right- RulesConfigManager
    RulesConfigManager -[hidden]right- GestureManager
    GestureManager -[hidden]right- FeedbackManager
    FeedbackManager -[hidden]right- WisdomManager
    WisdomManager -[hidden]right- ShortcutsManager
}


package "Utilities" <<Utility>> {
    together {
        class SessionManager <<Utility>> {
            + getOrCreateUserId()
            + generateSessionId()
        }
        
        class PathGenerator <<Utility>> {
            + generateDynamicPath(landmarks, exercise)
        }
        
        class DataExporter <<Utility>> {
            + exportJSON(data)
            + exportCSV(data)
        }
    }
    
    SessionManager -[hidden]right- PathGenerator
    PathGenerator -[hidden]right- DataExporter
}


Script - -> KeyboardController
Script - -> DisplayController
Script - -> HeuristicsEngine
Script - -> CalibrationManager
Script - -> DrawingManager
Script - -> BackgroundManager
Script - -> UIManager
Script - -> AudioManager
Script - -> TutorialManager
Script - -> GestureManager
Script - -> ShortcutsManager

DisplayController - -> GhostManager
DisplayController - -> BackgroundManager
BackgroundManager - -> WebGLManager
KeyboardController ..> DisplayController

HeuristicsEngine ..> CalibrationManager
ScoringManager <.. HeuristicsEngine
DrawingManager <.. HeuristicsEngine

UIManager - -> ScorePopupManager
UIManager - -> WisdomManager
ScoringManager .[norank].> ScorePopupManager
Script - -> FeedbackManager
RulesConfigManager - -> HeuristicsEngine

Script ..> SessionManager
Script ..> PathGenerator
Script ..> DataExporter


note as N1
    **TaijiFlow AI Architecture**
    
    MVC-like Pattern (5 Packages):
    - **Controllers**: script.js + Keyboard + Display
    - **Core**: HeuristicsEngine, Calibration, Scoring
    - **Display**: Drawing, Ghost, Background
    - **UI**: UIManager + 8 more (Shortcuts added, Chatbot removed)
    - **Utility**: Session, Path, Exporter
    
    Total: 21 Classes, 24 Modules (documented)
end note

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>