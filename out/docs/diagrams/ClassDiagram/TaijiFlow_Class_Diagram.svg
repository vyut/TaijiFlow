<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1683px" preserveAspectRatio="none" style="width:1432px;height:1683px;" version="1.1" viewBox="0 0 1432 1683" width="1432px" zoomAndPan="magnify"><defs><filter height="300%" id="f7fe63w9bbaur" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed1d20ea533a2a0e7df5ba3c35e56ced]
cluster Controllers--><rect fill="#E3F2FD" filter="url(#f7fe63w9bbaur)" height="356" style="stroke:#000000;stroke-width:1.5;" width="690.5" x="46" y="200.5"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76" x="353.25" y="217.452">«Controller»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73" x="354.75" y="235.652">Controllers</text><!--MD5=[1fc7141c6f48660c71a2006c6bf2683f]
cluster Core Managers--><rect fill="#FFF3E0" filter="url(#f7fe63w9bbaur)" height="241" style="stroke:#000000;stroke-width:1.5;" width="600" x="820" y="946.5"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="42" x="1099" y="963.452">«Core»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="95" x="1072.5" y="981.652">Core Managers</text><!--MD5=[af552435e54b04649ea7481a5d22641b]
cluster Display Managers--><rect fill="#E0F7FA" filter="url(#f7fe63w9bbaur)" height="643" style="stroke:#000000;stroke-width:1.5;" width="237" x="789" y="219.5"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58" x="878.5" y="236.452">«Display»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109" x="853" y="254.652">Display Managers</text><!--MD5=[7ac1916149c3369d001f628ff410a677]
cluster UI & Feedback--><rect fill="#E8F5E9" filter="url(#f7fe63w9bbaur)" height="604" style="stroke:#000000;stroke-width:1.5;" width="465" x="300" y="580.5"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="27" x="519" y="597.452">«UI»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="487" y="615.652">UI &amp; Feedback</text><!--MD5=[0b7db6fcd588f8499928e45a474751dc]
cluster Utilities--><rect fill="#F3E5F5" filter="url(#f7fe63w9bbaur)" height="463" style="stroke:#000000;stroke-width:1.5;" width="247" x="294" y="1208.5"/><text fill="#000000" font-family="sarabun" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="393" y="1225.452">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51" x="392" y="1243.652">Utilities</text><!--MD5=[d0d7b0900e371541ba11cbff692d2bc7]
class Script--><rect codeLine="35" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="157.3" id="Script" style="stroke:#000000;stroke-width:1.5;" width="146" x="69" y="382.85"/><ellipse cx="117.25" cy="403.45" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M119.7231,409.5931 Q119.1421,409.8919 118.5029,410.0413 Q117.8638,410.1907 117.1582,410.1907 Q114.6514,410.1907 113.3315,408.5389 Q112.0117,406.887 112.0117,403.7659 Q112.0117,400.6365 113.3315,398.9847 Q114.6514,397.3328 117.1582,397.3328 Q117.8638,397.3328 118.5112,397.4822 Q119.1587,397.6316 119.7231,397.9305 L119.7231,400.6531 Q119.0923,400.0721 118.4988,399.8023 Q117.9053,399.5325 117.2744,399.5325 Q115.9297,399.5325 115.2449,400.5992 Q114.5601,401.6658 114.5601,403.7659 Q114.5601,405.8577 115.2449,406.9244 Q115.9297,407.991 117.2744,407.991 Q117.9053,407.991 118.4988,407.7212 Q119.0923,407.4515 119.7231,406.8704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="39" x="138.75" y="400.666">«Main»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="41" x="137.75" y="416.266">script.js</text><line style="stroke:#000000;stroke-width:1.5;" x1="70" x2="214" y1="424.05" y2="424.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="77" y="432.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="120" x="89" y="439.798">isTrainingMode: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="77" y="446.35"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="109" x="89" y="454.098">currentExercise: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="77" y="460.65"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="95" x="89" y="468.398">currentLevel: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="70" x2="214" y1="474.95" y2="474.95"/><ellipse cx="80" cy="485.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="89" y="490.698">startTrainingFlow()</text><ellipse cx="80" cy="500.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="101" x="89" y="504.998">endTrainingSession()</text><ellipse cx="80" cy="514.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="86" x="89" y="519.298">onResults(results)</text><ellipse cx="80" cy="528.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="99" x="89" y="533.598">loadReferenceData()</text><!--MD5=[8efddad45aa6a4eb444717d204646b2a]
class KeyboardController--><rect codeLine="46" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="90.9" id="KeyboardController" style="stroke:#000000;stroke-width:1.5;" width="135" x="350" y="372.05"/><ellipse cx="365" cy="388.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M367.4731,394.1931 Q366.8921,394.4919 366.2529,394.6413 Q365.6138,394.7907 364.9082,394.7907 Q362.4014,394.7907 361.0815,393.1389 Q359.7617,391.487 359.7617,388.3659 Q359.7617,385.2365 361.0815,383.5847 Q362.4014,381.9328 364.9082,381.9328 Q365.6138,381.9328 366.2612,382.0822 Q366.9087,382.2316 367.4731,382.5305 L367.4731,385.2531 Q366.8423,384.6721 366.2488,384.4023 Q365.6553,384.1325 365.0244,384.1325 Q363.6797,384.1325 362.9949,385.1992 Q362.3101,386.2658 362.3101,388.3659 Q362.3101,390.4577 362.9949,391.5244 Q363.6797,392.591 365.0244,392.591 Q365.6553,392.591 366.2488,392.3212 Q366.8423,392.0515 367.4731,391.4704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="103" x="379" y="393.066">KeyboardController</text><line style="stroke:#000000;stroke-width:1.5;" x1="351" x2="484" y1="404.05" y2="404.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="358" y="412.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="59" x="370" y="419.798">deps: object</text><line style="stroke:#000000;stroke-width:1.0;" x1="351" x2="484" y1="426.35" y2="426.35"/><ellipse cx="361" cy="437.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="109" x="370" y="442.098">handleKeydown(event)</text><ellipse cx="361" cy="451.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="98" x="370" y="456.398">showShortcutsHelp()</text><!--MD5=[8172fdb26fe0b4f66f8ce07666356cda]
class DisplayController--><rect codeLine="53" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="205.3" id="DisplayController" style="stroke:#000000;stroke-width:1.5;" width="159" x="561.5" y="256.85"/><ellipse cx="593.15" cy="272.85" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M595.6231,278.9931 Q595.0421,279.2919 594.4029,279.4413 Q593.7638,279.5907 593.0582,279.5907 Q590.5514,279.5907 589.2315,277.9389 Q587.9117,276.287 587.9117,273.1659 Q587.9117,270.0365 589.2315,268.3847 Q590.5514,266.7328 593.0582,266.7328 Q593.7638,266.7328 594.4112,266.8822 Q595.0587,267.0316 595.6231,267.3305 L595.6231,270.0531 Q594.9923,269.4721 594.3988,269.2023 Q593.8053,268.9325 593.1744,268.9325 Q591.8297,268.9325 591.1449,269.9992 Q590.4601,271.0658 590.4601,273.1659 Q590.4601,275.2577 591.1449,276.3244 Q591.8297,277.391 593.1744,277.391 Q593.8053,277.391 594.3988,277.1212 Q594.9923,276.8515 595.6231,276.2704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="90" x="610.85" y="277.866">DisplayController</text><line style="stroke:#000000;stroke-width:1.5;" x1="562.5" x2="719.5" y1="288.85" y2="288.85"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="296.85"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="133" x="581.5" y="304.598">showGhostOverlay: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="311.15"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="581.5" y="318.898">showPath: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="325.45"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="581.5" y="333.198">showSkeleton: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="339.75"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="119" x="581.5" y="347.498">showSilhouette: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="354.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="91" x="581.5" y="361.798">showTrail: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="569.5" y="368.35"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="581.5" y="376.098">trailHistory: array</text><line style="stroke:#000000;stroke-width:1.0;" x1="562.5" x2="719.5" y1="382.65" y2="382.65"/><ellipse cx="572.5" cy="393.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="22" x="581.5" y="398.398">init()</text><ellipse cx="572.5" cy="407.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="581.5" y="412.698">toggleInstructor(show)</text><ellipse cx="572.5" cy="422.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="581.5" y="426.998">resetToDefaults()</text><ellipse cx="572.5" cy="436.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="87" x="581.5" y="441.298">addTrailPoint(x, y)</text><ellipse cx="572.5" cy="450.85" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="52" x="581.5" y="455.598">clearTrail()</text><path d="M62,255.7 L62,333.3 L222,333.3 L222,265.7 L212,255.7 L62,255.7 " fill="#FBFB77" filter="url(#f7fe63w9bbaur)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M212,255.7 L212,265.7 L222,265.7 L212,255.7 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="68" y="274.584">จัดการ Application Flow</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="136" x="68" y="291.484">Script = Main Controller</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="139" x="68" y="308.384">Keyboard = 14 Shortcuts</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="107" x="68" y="325.284">Display = 6 Options</text><!--MD5=[acf674d2eee96cced2a8b22730b1989e]
class HeuristicsEngine--><rect codeLine="81" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="169.55" id="HeuristicsEngine" style="stroke:#000000;stroke-width:1.5;" width="177" x="1050" y="1001.73"/><ellipse cx="1090.65" cy="1017.73" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1093.1231,1023.8731 Q1092.5421,1024.1719 1091.9029,1024.3213 Q1091.2638,1024.4707 1090.5582,1024.4707 Q1088.0514,1024.4707 1086.7315,1022.8189 Q1085.4117,1021.167 1085.4117,1018.0459 Q1085.4117,1014.9165 1086.7315,1013.2647 Q1088.0514,1011.6128 1090.5582,1011.6128 Q1091.2638,1011.6128 1091.9112,1011.7622 Q1092.5587,1011.9116 1093.1231,1012.2105 L1093.1231,1014.9331 Q1092.4923,1014.3521 1091.8988,1014.0823 Q1091.3053,1013.8125 1090.6744,1013.8125 Q1089.3297,1013.8125 1088.6449,1014.8792 Q1087.9601,1015.9458 1087.9601,1018.0459 Q1087.9601,1020.1377 1088.6449,1021.2044 Q1089.3297,1022.271 1090.6744,1022.271 Q1091.3053,1022.271 1091.8988,1022.0012 Q1092.4923,1021.7315 1093.1231,1021.1504 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="88" x="1110.35" y="1022.746">HeuristicsEngine</text><line style="stroke:#000000;stroke-width:1.5;" x1="1051" x2="1226" y1="1033.73" y2="1033.73"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1058" y="1041.73"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="66" x="1070" y="1049.478">config: object</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1058" y="1056.03"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="1070" y="1063.778">calibrationData: object</text><line style="stroke:#000000;stroke-width:1.0;" x1="1051" x2="1226" y1="1070.33" y2="1070.33"/><ellipse cx="1061" cy="1081.33" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="151" x="1070" y="1086.078">analyze(landmarks): Feedback[]</text><ellipse cx="1061" cy="1095.63" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="1070" y="1100.378">setCalibration(data)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1058" y="1106.93"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="1070" y="1114.678">checkPathShape()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1058" y="1121.23"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="1070" y="1128.978">checkElbowSinking()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1058" y="1135.53"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="82" x="1070" y="1143.278">checkContinuity()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1051" x2="1104.5" y1="1156.98" y2="1156.98"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="68" x="1104.5" y="1161.078">+5 more rules</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1172.5" x2="1226" y1="1156.98" y2="1156.98"/><!--MD5=[2695471b11f4afe9b2f935479e6afc73]
class CalibrationManager--><rect codeLine="93" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="162.4" id="CalibrationManager" style="stroke:#000000;stroke-width:1.5;" width="137" x="1267" y="1007.3"/><ellipse cx="1282.9" cy="1023.3" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M1285.3731,1029.4431 Q1284.7921,1029.7419 1284.1529,1029.8913 Q1283.5138,1030.0407 1282.8082,1030.0407 Q1280.3014,1030.0407 1278.9815,1028.3889 Q1277.6617,1026.737 1277.6617,1023.6159 Q1277.6617,1020.4865 1278.9815,1018.8347 Q1280.3014,1017.1828 1282.8082,1017.1828 Q1283.5138,1017.1828 1284.1612,1017.3322 Q1284.8087,1017.4816 1285.3731,1017.7805 L1285.3731,1020.5031 Q1284.7423,1019.9221 1284.1488,1019.6523 Q1283.5553,1019.3825 1282.9244,1019.3825 Q1281.5797,1019.3825 1280.8949,1020.4492 Q1280.2101,1021.5158 1280.2101,1023.6159 Q1280.2101,1025.7077 1280.8949,1026.7744 Q1281.5797,1027.841 1282.9244,1027.841 Q1283.5553,1027.841 1284.1488,1027.5712 Q1284.7423,1027.3015 1285.3731,1026.7204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="103" x="1297.1" y="1028.316">CalibrationManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="1268" x2="1403" y1="1039.3" y2="1039.3"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1275" y="1047.3"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="83" x="1287" y="1055.048">isActive: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1275" y="1061.6"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="111" x="1287" y="1069.348">calibrationData: object</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1275" y="1075.9"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="57" x="1287" y="1083.648">level: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="1268" x2="1403" y1="1090.2" y2="1090.2"/><ellipse cx="1278" cy="1101.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="1287" y="1105.948">start()</text><ellipse cx="1278" cy="1115.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="37" x="1287" y="1120.248">cancel()</text><ellipse cx="1278" cy="1129.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="93" x="1287" y="1134.548">process(landmarks)</text><ellipse cx="1278" cy="1144.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="70" x="1287" y="1148.848">setLevel(level)</text><ellipse cx="1278" cy="1158.4" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="79" x="1287" y="1163.148">drawOverlay(ctx)</text><!--MD5=[49faa9a638d20fb09fbea4482760b511]
class ScoringManager--><rect codeLine="105" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="119.5" id="ScoringManager" style="stroke:#000000;stroke-width:1.5;" width="143" x="836" y="1051.75"/><ellipse cx="863.15" cy="1067.75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M865.6231,1073.8931 Q865.0421,1074.1919 864.4029,1074.3413 Q863.7638,1074.4907 863.0582,1074.4907 Q860.5514,1074.4907 859.2315,1072.8389 Q857.9117,1071.187 857.9117,1068.0659 Q857.9117,1064.9365 859.2315,1063.2847 Q860.5514,1061.6328 863.0582,1061.6328 Q863.7638,1061.6328 864.4112,1061.7822 Q865.0587,1061.9316 865.6231,1062.2305 L865.6231,1064.9531 Q864.9923,1064.3721 864.3988,1064.1023 Q863.8053,1063.8325 863.1744,1063.8325 Q861.8297,1063.8325 861.1449,1064.8992 Q860.4601,1065.9658 860.4601,1068.0659 Q860.4601,1070.1577 861.1449,1071.2244 Q861.8297,1072.291 863.1744,1072.291 Q863.8053,1072.291 864.3988,1072.0212 Q864.9923,1071.7515 865.6231,1071.1704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="84" x="879.85" y="1072.766">ScoringManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="837" x2="978" y1="1083.75" y2="1083.75"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="844" y="1091.75"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="856" y="1099.498">totalFrames: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="844" y="1106.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="89" x="856" y="1113.798">correctFrames: int</text><line style="stroke:#000000;stroke-width:1.0;" x1="837" x2="978" y1="1120.35" y2="1120.35"/><ellipse cx="847" cy="1131.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="856" y="1136.098">start()</text><ellipse cx="847" cy="1145.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="117" x="856" y="1150.398">recordFrame(feedbacks)</text><ellipse cx="847" cy="1159.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="103" x="856" y="1164.698">getSummary(): object</text><!--MD5=[7065e7be84ffd0ebe64c11e25c182e37]
class DrawingManager--><rect codeLine="120" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="162.4" id="DrawingManager" style="stroke:#000000;stroke-width:1.5;" width="179" x="818" y="684.3"/><ellipse cx="860.45" cy="700.3" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M862.9231,706.4431 Q862.3421,706.7419 861.7029,706.8913 Q861.0638,707.0407 860.3582,707.0407 Q857.8514,707.0407 856.5315,705.3889 Q855.2117,703.737 855.2117,700.6159 Q855.2117,697.4865 856.5315,695.8347 Q857.8514,694.1828 860.3582,694.1828 Q861.0638,694.1828 861.7112,694.3322 Q862.3587,694.4816 862.9231,694.7805 L862.9231,697.5031 Q862.2923,696.9221 861.6988,696.6523 Q861.1053,696.3825 860.4744,696.3825 Q859.1297,696.3825 858.4449,697.4492 Q857.7601,698.5158 857.7601,700.6159 Q857.7601,702.7077 858.4449,703.7744 Q859.1297,704.841 860.4744,704.841 Q861.1053,704.841 861.6988,704.5712 Q862.2923,704.3015 862.9231,703.7204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="86" x="880.55" y="705.316">DrawingManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="819" x2="996" y1="716.3" y2="716.3"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="826" y="724.3"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="153" x="838" y="732.048">ctx: CanvasRenderingContext2D</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="826" y="738.6"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="95" x="838" y="746.348">isMirrored: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="819" x2="996" y1="752.9" y2="752.9"/><ellipse cx="829" cy="763.9" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="121" x="838" y="768.648">drawSkeleton(landmarks)</text><ellipse cx="829" cy="778.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="103" x="838" y="782.948">drawPath(path, color)</text><ellipse cx="829" cy="792.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="838" y="797.248">drawTrail(history)</text><ellipse cx="829" cy="806.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="151" x="838" y="811.548">drawFeedbackPanel(feedbacks)</text><ellipse cx="829" cy="821.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="145" x="838" y="825.848">drawDebugOverlay(debugInfo)</text><ellipse cx="829" cy="835.4" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="149" x="838" y="840.148">drawGhostSkeleton(landmarks)</text><!--MD5=[27430a77e3018f6a78460c75ee8741e0]
class GhostManager--><rect codeLine="132" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="176.7" id="GhostManager" style="stroke:#000000;stroke-width:1.5;" width="205" x="805" y="274.15"/><ellipse cx="864.75" cy="290.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M867.2231,296.2931 Q866.6421,296.5919 866.0029,296.7413 Q865.3638,296.8907 864.6582,296.8907 Q862.1514,296.8907 860.8315,295.2389 Q859.5117,293.587 859.5117,290.4659 Q859.5117,287.3365 860.8315,285.6847 Q862.1514,284.0328 864.6582,284.0328 Q865.3638,284.0328 866.0112,284.1822 Q866.6587,284.3316 867.2231,284.6305 L867.2231,287.3531 Q866.5923,286.7721 865.9988,286.5023 Q865.4053,286.2325 864.7744,286.2325 Q863.4297,286.2325 862.7449,287.2992 Q862.0601,288.3658 862.0601,290.4659 Q862.0601,292.5577 862.7449,293.6244 Q863.4297,294.691 864.7744,294.691 Q865.4053,294.691 865.9988,294.4212 Q866.5923,294.1515 867.2231,293.5704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="77" x="885.25" y="295.166">GhostManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="806" x2="1009" y1="306.15" y2="306.15"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="314.15"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="88" x="825" y="321.898">isPlaying: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="328.45"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="825" y="336.198">opacity: number</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="342.75"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="179" x="825" y="350.498">silhouetteVideo: HTMLVideoElement</text><line style="stroke:#000000;stroke-width:1.0;" x1="806" x2="1009" y1="357.05" y2="357.05"/><ellipse cx="816" cy="368.05" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="49" x="825" y="372.798">load(data)</text><ellipse cx="816" cy="382.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="118" x="825" y="387.098">loadSilhouetteVideo(url)</text><ellipse cx="816" cy="396.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="29" x="825" y="401.398">start()</text><ellipse cx="816" cy="410.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="27" x="825" y="415.698">stop()</text><ellipse cx="816" cy="425.25" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="40" x="825" y="429.998">update()</text><ellipse cx="816" cy="439.55" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="89" x="825" y="444.298">getCurrentFrame()</text><!--MD5=[6806bdef0702a1d9cf2b16e2b3cf84cb]
class SilhouetteManager--><rect codeLine="145" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="133.8" id="SilhouetteManager" style="stroke:#000000;stroke-width:1.5;" width="200" x="807.5" y="500.6"/><ellipse cx="853.25" cy="516.6" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M855.7231,522.7431 Q855.1421,523.0419 854.5029,523.1913 Q853.8638,523.3407 853.1582,523.3407 Q850.6514,523.3407 849.3315,521.6889 Q848.0117,520.037 848.0117,516.9159 Q848.0117,513.7865 849.3315,512.1347 Q850.6514,510.4828 853.1582,510.4828 Q853.8638,510.4828 854.5112,510.6322 Q855.1587,510.7816 855.7231,511.0805 L855.7231,513.8031 Q855.0923,513.2221 854.4988,512.9523 Q853.9053,512.6825 853.2744,512.6825 Q851.9297,512.6825 851.2449,513.7492 Q850.5601,514.8158 850.5601,516.9159 Q850.5601,519.0077 851.2449,520.0744 Q851.9297,521.141 853.2744,521.141 Q853.9053,521.141 854.4988,520.8712 Q855.0923,520.6015 855.7231,520.0204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="100" x="873.75" y="521.616">SilhouetteManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="808.5" x2="1006.5" y1="532.6" y2="532.6"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="815.5" y="540.6"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="92" x="827.5" y="548.348">isEnabled: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="815.5" y="554.9"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="58" x="827.5" y="562.648">color: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="808.5" x2="1006.5" y1="569.2" y2="569.2"/><ellipse cx="818.5" cy="580.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="39" x="827.5" y="584.948">enable()</text><ellipse cx="818.5" cy="594.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="41" x="827.5" y="599.248">disable()</text><ellipse cx="818.5" cy="608.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="37" x="827.5" y="613.548">toggle()</text><ellipse cx="818.5" cy="623.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="174" x="827.5" y="627.848">drawSilhouetteFromMask(ctx, mask)</text><!--MD5=[d602b77267d5088762cb6a59b8ed96b1]
class UIManager--><rect codeLine="166" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="119.5" id="UIManager" style="stroke:#000000;stroke-width:1.5;" width="134" x="350.5" y="1011.75"/><ellipse cx="385.75" cy="1027.75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M388.2231,1033.8931 Q387.6421,1034.1919 387.0029,1034.3413 Q386.3638,1034.4907 385.6582,1034.4907 Q383.1514,1034.4907 381.8315,1032.8389 Q380.5117,1031.187 380.5117,1028.0659 Q380.5117,1024.9365 381.8315,1023.2847 Q383.1514,1021.6328 385.6582,1021.6328 Q386.3638,1021.6328 387.0112,1021.7822 Q387.6587,1021.9316 388.2231,1022.2305 L388.2231,1024.9531 Q387.5923,1024.3721 386.9988,1024.1023 Q386.4053,1023.8325 385.7744,1023.8325 Q384.4297,1023.8325 383.7449,1024.8992 Q383.0601,1025.9658 383.0601,1028.0659 Q383.0601,1030.1577 383.7449,1031.2244 Q384.4297,1032.291 385.7744,1032.291 Q386.4053,1032.291 386.9988,1032.0212 Q387.5923,1031.7515 388.2231,1031.1704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="57" x="404.25" y="1032.766">UIManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="351.5" x2="483.5" y1="1043.75" y2="1043.75"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="358.5" y="1051.75"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="93" x="370.5" y="1059.498">currentLang: string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="358.5" y="1066.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="102" x="370.5" y="1073.798">currentTheme: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="351.5" x2="483.5" y1="1080.35" y2="1080.35"/><ellipse cx="361.5" cy="1091.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="370.5" y="1096.098">toggleLanguage()</text><ellipse cx="361.5" cy="1105.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="70" x="370.5" y="1110.398">toggleTheme()</text><ellipse cx="361.5" cy="1119.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="370.5" y="1124.698">showNotification(msg)</text><!--MD5=[347a6de240a7e533fe3f585d0ed7a7fe]
class AudioManager--><rect codeLine="175" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="105.2" id="AudioManager" style="stroke:#000000;stroke-width:1.5;" width="155" x="340" y="856.9"/><ellipse cx="376.15" cy="872.9" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M378.6231,879.0431 Q378.0421,879.3419 377.4029,879.4913 Q376.7638,879.6407 376.0582,879.6407 Q373.5514,879.6407 372.2315,877.9889 Q370.9117,876.337 370.9117,873.2159 Q370.9117,870.0865 372.2315,868.4347 Q373.5514,866.7828 376.0582,866.7828 Q376.7638,866.7828 377.4112,866.9322 Q378.0587,867.0816 378.6231,867.3805 L378.6231,870.1031 Q377.9923,869.5221 377.3988,869.2523 Q376.8053,868.9825 376.1744,868.9825 Q374.8297,868.9825 374.1449,870.0492 Q373.4601,871.1158 373.4601,873.2159 Q373.4601,875.3077 374.1449,876.3744 Q374.8297,877.441 376.1744,877.441 Q376.8053,877.441 377.3988,877.1712 Q377.9923,876.9015 378.6231,876.3204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="76" x="394.85" y="877.916">AudioManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="341" x2="494" y1="888.9" y2="888.9"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="348" y="896.9"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="360" y="904.648">enabled: boolean</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="348" y="911.2"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="88" x="360" y="918.948">cooldown: number</text><line style="stroke:#000000;stroke-width:1.0;" x1="341" x2="494" y1="925.5" y2="925.5"/><ellipse cx="351" cy="936.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="77" x="360" y="941.248">speak(message)</text><ellipse cx="351" cy="950.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="129" x="360" y="955.548">speakFeedback(feedbacks)</text><!--MD5=[1dd07b0d44aee610d043a0002d5988d9]
class TutorialManager--><rect codeLine="183" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="90.9" id="TutorialManager" style="stroke:#000000;stroke-width:1.5;" width="119" x="358" y="716.05"/><ellipse cx="373" cy="732.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M375.4731,738.1931 Q374.8921,738.4919 374.2529,738.6413 Q373.6138,738.7907 372.9082,738.7907 Q370.4014,738.7907 369.0815,737.1389 Q367.7617,735.487 367.7617,732.3659 Q367.7617,729.2365 369.0815,727.5847 Q370.4014,725.9328 372.9082,725.9328 Q373.6138,725.9328 374.2612,726.0822 Q374.9087,726.2316 375.4731,726.5305 L375.4731,729.2531 Q374.8423,728.6721 374.2488,728.4023 Q373.6553,728.1325 373.0244,728.1325 Q371.6797,728.1325 370.9949,729.1992 Q370.3101,730.2658 370.3101,732.3659 Q370.3101,734.4577 370.9949,735.5244 Q371.6797,736.591 373.0244,736.591 Q373.6553,736.591 374.2488,736.3212 Q374.8423,736.0515 375.4731,735.4704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="87" x="387" y="737.066">TutorialManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="359" x2="476" y1="748.05" y2="748.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="366" y="756.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="378" y="763.798">isOpen: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="359" x2="476" y1="770.35" y2="770.35"/><ellipse cx="369" cy="781.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="51" x="378" y="786.098">open(lang)</text><ellipse cx="369" cy="795.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="31" x="378" y="800.398">close()</text><!--MD5=[1027430669dbe09cf3ac84b359d871ec]
class ScorePopupManager--><rect codeLine="190" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="76.6" id="ScorePopupManager" style="stroke:#000000;stroke-width:1.5;" width="141" x="570.5" y="1068.2"/><ellipse cx="585.5" cy="1084.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M587.9731,1090.3431 Q587.3921,1090.6419 586.7529,1090.7913 Q586.1138,1090.9407 585.4082,1090.9407 Q582.9014,1090.9407 581.5815,1089.2889 Q580.2617,1087.637 580.2617,1084.5159 Q580.2617,1081.3865 581.5815,1079.7347 Q582.9014,1078.0828 585.4082,1078.0828 Q586.1138,1078.0828 586.7612,1078.2322 Q587.4087,1078.3816 587.9731,1078.6805 L587.9731,1081.4031 Q587.3423,1080.8221 586.7488,1080.5523 Q586.1553,1080.2825 585.5244,1080.2825 Q584.1797,1080.2825 583.4949,1081.3492 Q582.8101,1082.4158 582.8101,1084.5159 Q582.8101,1086.6077 583.4949,1087.6744 Q584.1797,1088.741 585.5244,1088.741 Q586.1553,1088.741 586.7488,1088.4712 Q587.3423,1088.2015 587.9731,1087.6204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="109" x="599.5" y="1089.216">ScorePopupManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="571.5" x2="710.5" y1="1100.2" y2="1100.2"/><line style="stroke:#000000;stroke-width:1.0;" x1="571.5" x2="710.5" y1="1108.2" y2="1108.2"/><ellipse cx="581.5" cy="1119.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="108" x="590.5" y="1123.948">show(summary, grade)</text><ellipse cx="581.5" cy="1133.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="31" x="590.5" y="1138.248">close()</text><!--MD5=[ca58359f07f9a4065c7e5ec85443e727]
class RulesConfigManager--><rect codeLine="196" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="76.6" id="RulesConfigManager" style="stroke:#000000;stroke-width:1.5;" width="168" x="557" y="941.2"/><ellipse cx="585.05" cy="957.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M587.5231,963.3431 Q586.9421,963.6419 586.3029,963.7913 Q585.6638,963.9407 584.9582,963.9407 Q582.4514,963.9407 581.1315,962.2889 Q579.8117,960.637 579.8117,957.5159 Q579.8117,954.3865 581.1315,952.7347 Q582.4514,951.0828 584.9582,951.0828 Q585.6638,951.0828 586.3112,951.2322 Q586.9587,951.3816 587.5231,951.6805 L587.5231,954.4031 Q586.8923,953.8221 586.2988,953.5523 Q585.7053,953.2825 585.0744,953.2825 Q583.7297,953.2825 583.0449,954.3492 Q582.3601,955.4158 582.3601,957.5159 Q582.3601,959.6077 583.0449,960.6744 Q583.7297,961.741 585.0744,961.741 Q585.7053,961.741 586.2988,961.4712 Q586.8923,961.2015 587.5231,960.6204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="107" x="601.95" y="962.216">RulesConfigManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="558" x2="724" y1="973.2" y2="973.2"/><line style="stroke:#000000;stroke-width:1.0;" x1="558" x2="724" y1="981.2" y2="981.2"/><ellipse cx="568" cy="992.2" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="142" x="577" y="996.948">setRuleEnabled(key, enabled)</text><ellipse cx="568" cy="1006.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="84" x="577" y="1011.248">resetToDefaults()</text><!--MD5=[45ce707b976a738d2e4595cad6afaa40]
class GestureManager--><rect codeLine="202" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="90.9" id="GestureManager" style="stroke:#000000;stroke-width:1.5;" width="132" x="575" y="659.05"/><ellipse cx="596.3" cy="675.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M598.7731,681.1931 Q598.1921,681.4919 597.5529,681.6413 Q596.9138,681.7907 596.2082,681.7907 Q593.7014,681.7907 592.3815,680.1389 Q591.0617,678.487 591.0617,675.3659 Q591.0617,672.2365 592.3815,670.5847 Q593.7014,668.9328 596.2082,668.9328 Q596.9138,668.9328 597.5612,669.0822 Q598.2087,669.2316 598.7731,669.5305 L598.7731,672.2531 Q598.1423,671.6721 597.5488,671.4023 Q596.9553,671.1325 596.3244,671.1325 Q594.9797,671.1325 594.2949,672.1992 Q593.6101,673.2658 593.6101,675.3659 Q593.6101,677.4577 594.2949,678.5244 Q594.9797,679.591 596.3244,679.591 Q596.9553,679.591 597.5488,679.3212 Q598.1423,679.0515 598.7731,678.4704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="86" x="611.7" y="680.066">GestureManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="576" x2="706" y1="691.05" y2="691.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="583" y="699.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="82" x="595" y="706.798">isReady: boolean</text><line style="stroke:#000000;stroke-width:1.0;" x1="576" x2="706" y1="713.35" y2="713.35"/><ellipse cx="586" cy="724.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="22" x="595" y="729.098">init()</text><ellipse cx="586" cy="738.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="106" x="595" y="743.398">detectGestures(video)</text><!--MD5=[a53eb7802fcf6e4afed3783382088263]
class FeedbackManager--><rect codeLine="209" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="90.9" id="FeedbackManager" style="stroke:#000000;stroke-width:1.5;" width="128" x="577" y="800.05"/><ellipse cx="592" cy="816.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M594.4731,822.1931 Q593.8921,822.4919 593.2529,822.6413 Q592.6138,822.7907 591.9082,822.7907 Q589.4014,822.7907 588.0815,821.1389 Q586.7617,819.487 586.7617,816.3659 Q586.7617,813.2365 588.0815,811.5847 Q589.4014,809.9328 591.9082,809.9328 Q592.6138,809.9328 593.2612,810.0822 Q593.9087,810.2316 594.4731,810.5305 L594.4731,813.2531 Q593.8423,812.6721 593.2488,812.4023 Q592.6553,812.1325 592.0244,812.1325 Q590.6797,812.1325 589.9949,813.1992 Q589.3101,814.2658 589.3101,816.3659 Q589.3101,818.4577 589.9949,819.5244 Q590.6797,820.591 592.0244,820.591 Q592.6553,820.591 593.2488,820.3212 Q593.8423,820.0515 594.4731,819.4704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="96" x="606" y="821.066">FeedbackManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="578" x2="704" y1="832.05" y2="832.05"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="585" y="840.05"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="71" x="597" y="847.798">formUrl: string</text><line style="stroke:#000000;stroke-width:1.0;" x1="578" x2="704" y1="854.35" y2="854.35"/><ellipse cx="588" cy="865.35" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="69" x="597" y="870.098">createButton()</text><ellipse cx="588" cy="879.65" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="60" x="597" y="884.398">showPopup()</text><!--MD5=[f097a9da547c6f19ba7a5c97c093eb18]
class SessionManager--><rect codeLine="232" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="85.8" id="SessionManager" style="stroke:#000000;stroke-width:1.5;" width="122" x="356.5" y="1545.6"/><ellipse cx="374.2" cy="1566.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M376.6731,1572.3431 Q376.0921,1572.6419 375.4529,1572.7913 Q374.8138,1572.9407 374.1082,1572.9407 Q371.6014,1572.9407 370.2815,1571.2889 Q368.9617,1569.637 368.9617,1566.5159 Q368.9617,1563.3865 370.2815,1561.7347 Q371.6014,1560.0828 374.1082,1560.0828 Q374.8138,1560.0828 375.4612,1560.2322 Q376.1087,1560.3816 376.6731,1560.6805 L376.6731,1563.4031 Q376.0423,1562.8221 375.4488,1562.5523 Q374.8553,1562.2825 374.2244,1562.2825 Q372.8797,1562.2825 372.1949,1563.3492 Q371.5101,1564.4158 371.5101,1566.5159 Q371.5101,1568.6077 372.1949,1569.6744 Q372.8797,1570.741 374.2244,1570.741 Q374.8553,1570.741 375.4488,1570.4712 Q376.0423,1570.2015 376.6731,1569.6204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="408.3" y="1563.416">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="84" x="388.8" y="1579.016">SessionManager</text><line style="stroke:#000000;stroke-width:1.5;" x1="357.5" x2="477.5" y1="1586.8" y2="1586.8"/><line style="stroke:#000000;stroke-width:1.5;" x1="357.5" x2="477.5" y1="1594.8" y2="1594.8"/><ellipse cx="367.5" cy="1605.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="376.5" y="1610.548">getOrCreateUserId()</text><ellipse cx="367.5" cy="1620.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="96" x="376.5" y="1624.848">generateSessionId()</text><!--MD5=[cbfd515719b6910b093ca89747820c68]
class PathGenerator--><rect codeLine="237" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="71.5" id="PathGenerator" style="stroke:#000000;stroke-width:1.5;" width="167" x="334" y="1423.75"/><ellipse cx="374.65" cy="1444.35" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M377.1231,1450.4931 Q376.5421,1450.7919 375.9029,1450.9413 Q375.2638,1451.0907 374.5582,1451.0907 Q372.0514,1451.0907 370.7315,1449.4389 Q369.4117,1447.787 369.4117,1444.6659 Q369.4117,1441.5365 370.7315,1439.8847 Q372.0514,1438.2328 374.5582,1438.2328 Q375.2638,1438.2328 375.9112,1438.3822 Q376.5587,1438.5316 377.1231,1438.8305 L377.1231,1441.5531 Q376.4923,1440.9721 375.8988,1440.7023 Q375.3053,1440.4325 374.6744,1440.4325 Q373.3297,1440.4325 372.6449,1441.4992 Q371.9601,1442.5658 371.9601,1444.6659 Q371.9601,1446.7577 372.6449,1447.8244 Q373.3297,1448.891 374.6744,1448.891 Q375.3053,1448.891 375.8988,1448.6212 Q376.4923,1448.3515 377.1231,1447.7704 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="410.85" y="1441.566">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="78" x="394.35" y="1457.166">PathGenerator</text><line style="stroke:#000000;stroke-width:1.5;" x1="335" x2="500" y1="1464.95" y2="1464.95"/><line style="stroke:#000000;stroke-width:1.5;" x1="335" x2="500" y1="1472.95" y2="1472.95"/><ellipse cx="345" cy="1483.95" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="141" x="354" y="1488.698">generatePath(exercise, level)</text><!--MD5=[e219136ea99e406b0a84800811d2e145]
class DataExporter--><rect codeLine="241" fill="#FFFFFF" filter="url(#f7fe63w9bbaur)" height="85.8" id="DataExporter" style="stroke:#000000;stroke-width:1.5;" width="111" x="362" y="1287.6"/><ellipse cx="381.05" cy="1308.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><path d="M383.5231,1314.3431 Q382.9421,1314.6419 382.3029,1314.7913 Q381.6638,1314.9407 380.9582,1314.9407 Q378.4514,1314.9407 377.1315,1313.2889 Q375.8117,1311.637 375.8117,1308.5159 Q375.8117,1305.3865 377.1315,1303.7347 Q378.4514,1302.0828 380.9582,1302.0828 Q381.6638,1302.0828 382.3112,1302.2322 Q382.9587,1302.3816 383.5231,1302.6805 L383.5231,1305.4031 Q382.8923,1304.8221 382.2988,1304.5523 Q381.7053,1304.2825 381.0744,1304.2825 Q379.7297,1304.2825 379.0449,1305.3492 Q378.3601,1306.4158 378.3601,1308.5159 Q378.3601,1310.6077 379.0449,1311.6744 Q379.7297,1312.741 381.0744,1312.741 Q381.7053,1312.741 382.2988,1312.4712 Q382.8923,1312.2015 383.5231,1311.6204 Z " fill="#000000"/><text fill="#000000" font-family="sarabun" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="45" x="408.45" y="1305.416">«Utility»</text><text fill="#000000" font-family="sarabun" font-size="12" lengthAdjust="spacing" textLength="70" x="395.95" y="1321.016">DataExporter</text><line style="stroke:#000000;stroke-width:1.5;" x1="363" x2="472" y1="1328.8" y2="1328.8"/><line style="stroke:#000000;stroke-width:1.5;" x1="363" x2="472" y1="1336.8" y2="1336.8"/><ellipse cx="373" cy="1347.8" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="85" x="382" y="1352.548">exportJSON(data)</text><ellipse cx="373" cy="1362.1" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="11" lengthAdjust="spacing" textLength="78" x="382" y="1366.848">exportCSV(data)</text><path d="M6,6 L6,185 L278,185 L278,16 L268,6 L6,6 " fill="#FBFB77" filter="url(#f7fe63w9bbaur)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M268,6 L268,16 L278,16 L268,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="12" y="24.884">TaijiFlow AI Architecture</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="0" x="15" y="41.784"/><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="172" x="12" y="58.684">MVC-like Pattern (5 Packages):</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="75.584">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="19" y="75.584">Controllers</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="170" x="86" y="75.584">: script.js + Keyboard + Display</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="92.484">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="19" y="92.484">Core</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="216" x="47" y="92.484">: HeuristicsEngine, Calibration, Scoring</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="109.384">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="43" x="19" y="109.384">Display</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="155" x="62" y="109.384">: Drawing, Ghost, Silhouette</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="126.284">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="13" x="19" y="126.284">UI</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="123" x="32" y="126.284">: UIManager + 6 more</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="4" x="12" y="143.184">-</text><text fill="#000000" font-family="sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38" x="19" y="143.184">Utility</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="134" x="57" y="143.184">: Session, Path, Exporter</text><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="0" x="15" y="160.084"/><text fill="#000000" font-family="sarabun" font-size="13" lengthAdjust="spacing" textLength="164" x="12" y="176.984">Total: 18 Classes, 21 Modules</text><!--MD5=[32b2559013a2af7d3fbb88a153276af5]
link DrawingManager to GhostManager--><!--MD5=[8bc32212dad9a8717d16c822af8c8827]
link GhostManager to SilhouetteManager--><!--MD5=[51eaa1b43a149febd10d66dbba0f63b6]
link UIManager to AudioManager--><!--MD5=[206c125da6c0fa549c2eb92f359766ca]
link AudioManager to TutorialManager--><!--MD5=[a0969e0435b22411c39d04728eb08a32]
link TutorialManager to ScorePopupManager--><!--MD5=[17a773bcde99f8f6aad6ef435d752061]
link ScorePopupManager to RulesConfigManager--><!--MD5=[78b5e27333e049fa5626f7341eb605de]
link RulesConfigManager to GestureManager--><!--MD5=[ec4871536f25f262224859d313d60b14]
link GestureManager to FeedbackManager--><!--MD5=[8ecf8a2be7bc1144d736fe69cb3dc5d0]
link SessionManager to PathGenerator--><!--MD5=[b4153a4765cd3212441a027f5c92dbfd]
link PathGenerator to DataExporter--><!--MD5=[bf3c87166e1461fb0037a62116064262]
link Script to KeyboardController--><path codeLine="257" d="M215.47,422.9 C215.47,422.9 343.39,422.9 343.39,422.9 " fill="none" id="Script-to-KeyboardController" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="348.39,422.9,339.39,418.9,343.39,422.9,339.39,426.9,348.39,422.9" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[066c35afdd785367532baf5480047ad9]
link Script to DisplayController--><path codeLine="258" d="M215.37,472.36 C336.73,472.36 566,472.36 566,472.36 C566,472.36 566,468.86 566,468.86 " fill="none" id="Script-to-DisplayController" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="566,463.86,562,472.86,566,468.86,570,472.86,566,463.86" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[bb640fb10fb5d2929dca8b96a4ce4b2e]
link Script to HeuristicsEngine--><path codeLine="259" d="M215.24,491.19 C445.25,491.19 1138,491.19 1138,491.19 C1138,491.19 1138,995.01 1138,995.01 " fill="none" id="Script-to-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1138,1000.01,1142,991.01,1138,995.01,1134,991.01,1138,1000.01" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[df44e9dcfa25f6d6d0ebc55302acba7f]
link Script to CalibrationManager--><path codeLine="260" d="M215.28,481.78 C474.84,481.78 1335,481.78 1335,481.78 C1335,481.78 1335,1000.48 1335,1000.48 " fill="none" id="Script-to-CalibrationManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1335,1005.48,1339,996.48,1335,1000.48,1331,996.48,1335,1005.48" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e96b2d5337d6cc8c6fa37ff8fa78d55e]
link Script to DrawingManager--><path codeLine="261" d="M215.28,513.78 C377.35,513.78 752,513.78 752,513.78 C752,513.78 752,728.07 752,728.07 C752,728.07 811.43,728.07 811.43,728.07 " fill="none" id="Script-to-DrawingManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="816.43,728.07,807.43,724.07,811.43,728.07,807.43,732.07,816.43,728.07" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[6fbfb2b36488141d6f4cc532d3959812]
link Script to UIManager--><path codeLine="262" d="M166,540.62 C166,705.67 166,1071.5 166,1071.5 C166,1071.5 343.59,1071.5 343.59,1071.5 " fill="none" id="Script-to-UIManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="348.59,1071.5,339.59,1067.5,343.59,1071.5,339.59,1075.5,348.59,1071.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1b30a48cdca0eca6112e471747dd5049]
link Script to AudioManager--><path codeLine="263" d="M215.29,533.56 C273.43,533.56 345,533.56 345,533.56 C345,533.56 345,849.92 345,849.92 " fill="none" id="Script-to-AudioManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="345,854.92,349,845.92,345,849.92,341,845.92,345,854.92" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[d3159cad506f0cb1a1310c2a9273c5ba]
link Script to TutorialManager--><path codeLine="264" d="M215.24,526.97 C297,526.97 418,526.97 418,526.97 C418,526.97 418,709.21 418,709.21 " fill="none" id="Script-to-TutorialManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="418,714.21,422,705.21,418,709.21,414,705.21,418,714.21" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[c9d5948225815dc913d981d595174205]
link Script to GestureManager--><path codeLine="265" d="M215.36,520.38 C354.06,520.38 641,520.38 641,520.38 C641,520.38 641,652.47 641,652.47 " fill="none" id="Script-to-GestureManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="641,657.47,645,648.47,641,652.47,637,648.47,641,657.47" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[054d7b1fdba22383893cfa838083967a]
link DisplayController to GhostManager--><path codeLine="268" d="M720.96,333.05 C720.96,333.05 798.34,333.05 798.34,333.05 " fill="none" id="DisplayController-to-GhostManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="803.34,333.05,794.34,329.05,798.34,333.05,794.34,337.05,803.34,333.05" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1846a93d7a5701a9b0bddea8ba6ba875]
link DisplayController to SilhouetteManager--><path codeLine="269" d="M714,462.48 C714,487.49 714,507.19 714,507.19 C714,507.19 800.55,507.19 800.55,507.19 " fill="none" id="DisplayController-to-SilhouetteManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="805.55,507.19,796.55,503.19,800.55,507.19,796.55,511.19,805.55,507.19" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[114b1c542304188696707e3b7725b454]
link KeyboardController to DisplayController--><path codeLine="270" d="M485.47,417.1 C485.47,417.1 554.67,417.1 554.67,417.1 " fill="none" id="KeyboardController-to-DisplayController" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="559.67,417.1,550.67,413.1,554.67,417.1,550.67,421.1,559.67,417.1" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[93c85ec313925d227df23d58d1ea3cf5]
link HeuristicsEngine to CalibrationManager--><path codeLine="273" d="M1227.49,1088.5 C1227.49,1088.5 1260.17,1088.5 1260.17,1088.5 " fill="none" id="HeuristicsEngine-to-CalibrationManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="1265.17,1088.5,1256.17,1084.5,1260.17,1088.5,1256.17,1092.5,1265.17,1088.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[f54eabe09eee0fd5b70ad09dfcf80d76]
reverse link ScoringManager to HeuristicsEngine--><path codeLine="274" d="M985.84,1111.5 C985.84,1111.5 1049.62,1111.5 1049.62,1111.5 " fill="none" id="ScoringManager-backto-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="980.84,1111.5,989.84,1115.5,985.84,1111.5,989.84,1107.5,980.84,1111.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[8130cbae6e915c6bd816ad1177fd8668]
reverse link DrawingManager to HeuristicsEngine--><path codeLine="275" d="M988,853.47 C988,853.47 988,1007.08 988,1007.08 C988,1007.08 1017.06,1007.08 1049.65,1007.08 " fill="none" id="DrawingManager-backto-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="988,848.47,984,857.47,988,853.47,992,857.47,988,848.47" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[21cbf8643b8569618ababa145af3b81c]
link UIManager to ScorePopupManager--><path codeLine="278" d="M484.86,1110.23 C484.86,1110.23 563.77,1110.23 563.77,1110.23 " fill="none" id="UIManager-to-ScorePopupManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="568.77,1110.23,559.77,1106.23,563.77,1110.23,559.77,1114.23,568.77,1110.23" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[6cc97f7bc7c31b26f16b0bdedb965ee3]
link ScoringManager to ScorePopupManager--><path codeLine="279" d="M835.73,1106.5 C835.73,1106.5 718.49,1106.5 718.49,1106.5 " fill="none" id="ScoringManager-to-ScorePopupManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="713.49,1106.5,722.49,1110.5,718.49,1106.5,722.49,1102.5,713.49,1106.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[fefc158ffacc74b4ea6c698976d9bb28]
link Script to FeedbackManager--><path codeLine="280" d="M191,540.51 C191,649.3 191,831.93 191,831.93 C191,831.93 570.01,831.93 570.01,831.93 " fill="none" id="Script-to-FeedbackManager" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="575.01,831.92,566.01,827.92,570.01,831.92,566.01,835.92,575.01,831.92" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[9b185d876e8dca1007bb9a7007ca0ac2]
link RulesConfigManager to HeuristicsEngine--><path codeLine="281" d="M725.39,1012.44 C725.39,1012.44 1043.4,1012.44 1043.4,1012.44 " fill="none" id="RulesConfigManager-to-HeuristicsEngine" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="1048.4,1012.44,1039.4,1008.44,1043.4,1012.44,1039.4,1016.44,1048.4,1012.44" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[e978cfe7b79b9a9eecbc1f12c7812525]
link Script to SessionManager--><path codeLine="284" d="M93,540.3 C93,796.36 93,1588.5 93,1588.5 C93,1588.5 349.57,1588.5 349.57,1588.5 " fill="none" id="Script-to-SessionManager" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="354.57,1588.5,345.57,1584.5,349.57,1588.5,345.57,1592.5,354.57,1588.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[a0e975fe68959f3d5f45bfbb14c56c08]
link Script to PathGenerator--><path codeLine="285" d="M118,540.65 C118,776.69 118,1459.5 118,1459.5 C118,1459.5 327.16,1459.5 327.16,1459.5 " fill="none" id="Script-to-PathGenerator" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="332.16,1459.5,323.16,1455.5,327.16,1459.5,323.16,1463.5,332.16,1459.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[107d199cd8363bbd797a6879dcd0743d]
link Script to DataExporter--><path codeLine="286" d="M142,540.54 C142,754.75 142,1330.5 142,1330.5 C142,1330.5 355.23,1330.5 355.23,1330.5 " fill="none" id="Script-to-DataExporter" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="360.23,1330.5,351.23,1326.5,355.23,1330.5,351.23,1334.5,360.23,1330.5" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[64c9bf38a9596e34eeee15759581817f]
@startuml TaijiFlow_Class_Diagram
' ============================================================================
' TaijiFlow AI - Class Diagram v1.2 (Updated: 2026-01-07)
' ============================================================================
' จัดกลุ่มด้วย Packages เพื่อความชัดเจน
' อ้างอิง: 21 JavaScript Modules
' ============================================================================

skinparam defaultFontName "sarabun"
skinparam packageStyle rectangle

' === Line Style Settings (ลดเส้นซ้อนทับ) ===
left to right direction
skinparam linetype ortho
skinparam nodesep 50
skinparam ranksep 40

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}
skinparam package {
    BackgroundColor<<Controller>> #E3F2FD
    BackgroundColor<<Core>> #FFF3E0
    BackgroundColor<<Display>> #E0F7FA
    BackgroundColor<<UI>> #E8F5E9
    BackgroundColor<<Utility>> #F3E5F5
}

' ============================================================================
' CONTROLLERS PACKAGE
' ============================================================================

package "Controllers" <<Controller>> {
    class "script.js" as Script <<Main>> {
        - isTrainingMode: boolean
        - currentExercise: string
        - currentLevel: string
        - -
        + startTrainingFlow()
        + endTrainingSession()
        + onResults(results)
        + loadReferenceData()
    }
    
    class KeyboardController {
        - deps: object
        - -
        + handleKeydown(event)
        + showShortcutsHelp()
    }
    
    class DisplayController {
        - showGhostOverlay: boolean
        - showPath: boolean
        - showSkeleton: boolean
        - showSilhouette: boolean
        - showTrail: boolean
        - trailHistory: array
        - -
        + init()
        + toggleInstructor(show)
        + resetToDefaults()
        + addTrailPoint(x, y)
        + clearTrail()
    }
    
    note as NC
        **จัดการ Application Flow**
        Script = Main Controller
        Keyboard = 14 Shortcuts
        Display = 6 Options
    end note
}

' ============================================================================
' CORE MANAGERS PACKAGE
' ============================================================================

package "Core Managers" <<Core>> {
    class HeuristicsEngine {
        - config: object
        - calibrationData: object
        - -
        + analyze(landmarks): Feedback[]
        + setCalibration(data)
        - checkPathShape()
        - checkElbowSinking()
        - checkContinuity()
        .. +5 more rules ..
    }
    
    class CalibrationManager {
        - isActive: boolean
        - calibrationData: object
        - level: string
        - -
        + start()
        + cancel()
        + process(landmarks)
        + setLevel(level)
        + drawOverlay(ctx)
    }
    
    class ScoringManager {
        - totalFrames: int
        - correctFrames: int
        - -
        + start()
        + recordFrame(feedbacks)
        + getSummary(): object
    }
}

' ============================================================================
' DISPLAY MANAGERS PACKAGE (แยกจาก Core เพราะเป็น View/Render)
' ============================================================================

package "Display Managers" <<Display>> {
    class DrawingManager {
        - ctx: CanvasRenderingContext2D
        - isMirrored: boolean
        - -
        + drawSkeleton(landmarks)
        + drawPath(path, color)
        + drawTrail(history)
        + drawFeedbackPanel(feedbacks)
        + drawDebugOverlay(debugInfo)
        + drawGhostSkeleton(landmarks)
    }
    
    class GhostManager {
        - isPlaying: boolean
        - opacity: number
        - silhouetteVideo: HTMLVideoElement
        - -
        + load(data)
        + loadSilhouetteVideo(url)
        + start()
        + stop()
        + update()
        + getCurrentFrame()
    }
    
    class SilhouetteManager {
        - isEnabled: boolean
        - color: string
        - -
        + enable()
        + disable()
        + toggle()
        + drawSilhouetteFromMask(ctx, mask)
    }
    
    ' Force horizontal layout
    DrawingManager -[hidden]right- GhostManager
    GhostManager -[hidden]right- SilhouetteManager
}

' ============================================================================
' UI MANAGERS PACKAGE
' ============================================================================

package "UI & Feedback" <<UI>> {
    together {
        class UIManager {
            - currentLang: string
            - currentTheme: string
            - -
            + toggleLanguage()
            + toggleTheme()
            + showNotification(msg)
        }
        
        class AudioManager {
            - enabled: boolean
            - cooldown: number
            - -
            + speak(message)
            + speakFeedback(feedbacks)
        }
        
        class TutorialManager {
            - isOpen: boolean
            - -
            + open(lang)
            + close()
        }
        
        class ScorePopupManager {
            - -
            + show(summary, grade)
            + close()
        }
        
        class RulesConfigManager {
            - -
            + setRuleEnabled(key, enabled)
            + resetToDefaults()
        }
        
        class GestureManager {
            - isReady: boolean
            - -
            + init()
            + detectGestures(video)
        }
        
        class FeedbackManager {
            - formUrl: string
            - -
            + createButton()
            + showPopup()
        }
    }
    
    ' Force horizontal layout
    UIManager -[hidden]right- AudioManager
    AudioManager -[hidden]right- TutorialManager
    TutorialManager -[hidden]right- ScorePopupManager
    ScorePopupManager -[hidden]right- RulesConfigManager
    RulesConfigManager -[hidden]right- GestureManager
    GestureManager -[hidden]right- FeedbackManager
}

' ============================================================================
' UTILITIES PACKAGE
' ============================================================================

package "Utilities" <<Utility>> {
    together {
        class SessionManager <<Utility>> {
            + getOrCreateUserId()
            + generateSessionId()
        }
        
        class PathGenerator <<Utility>> {
            + generatePath(exercise, level)
        }
        
        class DataExporter <<Utility>> {
            + exportJSON(data)
            + exportCSV(data)
        }
    }
    
    ' Force horizontal layout
    SessionManager -[hidden]right- PathGenerator
    PathGenerator -[hidden]right- DataExporter
}

' ============================================================================
' RELATIONSHIPS (Simplified - ไม่มี label เพื่อความสะอาด)
' ============================================================================

' Controller relationships
Script - -> KeyboardController
Script - -> DisplayController
Script - -> HeuristicsEngine
Script - -> CalibrationManager
Script - -> DrawingManager
Script - -> UIManager
Script - -> AudioManager
Script - -> TutorialManager
Script - -> GestureManager

' Display Controller
DisplayController - -> GhostManager
DisplayController - -> SilhouetteManager
KeyboardController ..> DisplayController

' Core relationships
HeuristicsEngine ..> CalibrationManager
ScoringManager <.. HeuristicsEngine
DrawingManager <.. HeuristicsEngine

' UI relationships
UIManager - -> ScorePopupManager
ScoringManager .[norank].> ScorePopupManager
Script - -> FeedbackManager
RulesConfigManager - -> HeuristicsEngine

' Utilities (เส้นประ = indirect)
Script ..> SessionManager
Script ..> PathGenerator
Script ..> DataExporter

' ============================================================================
' ARCHITECTURE NOTE
' ============================================================================

note as N1
    **TaijiFlow AI Architecture**
    
    MVC-like Pattern (5 Packages):
    - **Controllers**: script.js + Keyboard + Display
    - **Core**: HeuristicsEngine, Calibration, Scoring
    - **Display**: Drawing, Ghost, Silhouette
    - **UI**: UIManager + 6 more
    - **Utility**: Session, Path, Exporter
    
    Total: 18 Classes, 21 Modules
end note

@enduml

@startuml TaijiFlow_Class_Diagram

skinparam defaultFontName "sarabun"
skinparam packageStyle rectangle

left to right direction
skinparam linetype ortho
skinparam nodesep 50
skinparam ranksep 40

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
}
skinparam package {
    BackgroundColor<<Controller>> #E3F2FD
    BackgroundColor<<Core>> #FFF3E0
    BackgroundColor<<Display>> #E0F7FA
    BackgroundColor<<UI>> #E8F5E9
    BackgroundColor<<Utility>> #F3E5F5
}


package "Controllers" <<Controller>> {
    class "script.js" as Script <<Main>> {
        - isTrainingMode: boolean
        - currentExercise: string
        - currentLevel: string
        - -
        + startTrainingFlow()
        + endTrainingSession()
        + onResults(results)
        + loadReferenceData()
    }
    
    class KeyboardController {
        - deps: object
        - -
        + handleKeydown(event)
        + showShortcutsHelp()
    }
    
    class DisplayController {
        - showGhostOverlay: boolean
        - showPath: boolean
        - showSkeleton: boolean
        - showSilhouette: boolean
        - showTrail: boolean
        - trailHistory: array
        - -
        + init()
        + toggleInstructor(show)
        + resetToDefaults()
        + addTrailPoint(x, y)
        + clearTrail()
    }
    
    note as NC
        **จัดการ Application Flow**
        Script = Main Controller
        Keyboard = 14 Shortcuts
        Display = 6 Options
    end note
}


package "Core Managers" <<Core>> {
    class HeuristicsEngine {
        - config: object
        - calibrationData: object
        - -
        + analyze(landmarks): Feedback[]
        + setCalibration(data)
        - checkPathShape()
        - checkElbowSinking()
        - checkContinuity()
        .. +5 more rules ..
    }
    
    class CalibrationManager {
        - isActive: boolean
        - calibrationData: object
        - level: string
        - -
        + start()
        + cancel()
        + process(landmarks)
        + setLevel(level)
        + drawOverlay(ctx)
    }
    
    class ScoringManager {
        - totalFrames: int
        - correctFrames: int
        - -
        + start()
        + recordFrame(feedbacks)
        + getSummary(): object
    }
}


package "Display Managers" <<Display>> {
    class DrawingManager {
        - ctx: CanvasRenderingContext2D
        - isMirrored: boolean
        - -
        + drawSkeleton(landmarks)
        + drawPath(path, color)
        + drawTrail(history)
        + drawFeedbackPanel(feedbacks)
        + drawDebugOverlay(debugInfo)
        + drawGhostSkeleton(landmarks)
    }
    
    class GhostManager {
        - isPlaying: boolean
        - opacity: number
        - silhouetteVideo: HTMLVideoElement
        - -
        + load(data)
        + loadSilhouetteVideo(url)
        + start()
        + stop()
        + update()
        + getCurrentFrame()
    }
    
    class SilhouetteManager {
        - isEnabled: boolean
        - color: string
        - -
        + enable()
        + disable()
        + toggle()
        + drawSilhouetteFromMask(ctx, mask)
    }
    
    DrawingManager -[hidden]right- GhostManager
    GhostManager -[hidden]right- SilhouetteManager
}


package "UI & Feedback" <<UI>> {
    together {
        class UIManager {
            - currentLang: string
            - currentTheme: string
            - -
            + toggleLanguage()
            + toggleTheme()
            + showNotification(msg)
        }
        
        class AudioManager {
            - enabled: boolean
            - cooldown: number
            - -
            + speak(message)
            + speakFeedback(feedbacks)
        }
        
        class TutorialManager {
            - isOpen: boolean
            - -
            + open(lang)
            + close()
        }
        
        class ScorePopupManager {
            - -
            + show(summary, grade)
            + close()
        }
        
        class RulesConfigManager {
            - -
            + setRuleEnabled(key, enabled)
            + resetToDefaults()
        }
        
        class GestureManager {
            - isReady: boolean
            - -
            + init()
            + detectGestures(video)
        }
        
        class FeedbackManager {
            - formUrl: string
            - -
            + createButton()
            + showPopup()
        }
    }
    
    UIManager -[hidden]right- AudioManager
    AudioManager -[hidden]right- TutorialManager
    TutorialManager -[hidden]right- ScorePopupManager
    ScorePopupManager -[hidden]right- RulesConfigManager
    RulesConfigManager -[hidden]right- GestureManager
    GestureManager -[hidden]right- FeedbackManager
}


package "Utilities" <<Utility>> {
    together {
        class SessionManager <<Utility>> {
            + getOrCreateUserId()
            + generateSessionId()
        }
        
        class PathGenerator <<Utility>> {
            + generatePath(exercise, level)
        }
        
        class DataExporter <<Utility>> {
            + exportJSON(data)
            + exportCSV(data)
        }
    }
    
    SessionManager -[hidden]right- PathGenerator
    PathGenerator -[hidden]right- DataExporter
}


Script - -> KeyboardController
Script - -> DisplayController
Script - -> HeuristicsEngine
Script - -> CalibrationManager
Script - -> DrawingManager
Script - -> UIManager
Script - -> AudioManager
Script - -> TutorialManager
Script - -> GestureManager

DisplayController - -> GhostManager
DisplayController - -> SilhouetteManager
KeyboardController ..> DisplayController

HeuristicsEngine ..> CalibrationManager
ScoringManager <.. HeuristicsEngine
DrawingManager <.. HeuristicsEngine

UIManager - -> ScorePopupManager
ScoringManager .[norank].> ScorePopupManager
Script - -> FeedbackManager
RulesConfigManager - -> HeuristicsEngine

Script ..> SessionManager
Script ..> PathGenerator
Script ..> DataExporter


note as N1
    **TaijiFlow AI Architecture**
    
    MVC-like Pattern (5 Packages):
    - **Controllers**: script.js + Keyboard + Display
    - **Core**: HeuristicsEngine, Calibration, Scoring
    - **Display**: Drawing, Ghost, Silhouette
    - **UI**: UIManager + 6 more
    - **Utility**: Session, Path, Exporter
    
    Total: 18 Classes, 21 Modules
end note

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>