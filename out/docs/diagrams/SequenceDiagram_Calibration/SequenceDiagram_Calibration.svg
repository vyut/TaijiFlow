<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1454px" preserveAspectRatio="none" style="width:909px;height:1454px;background:#00000000;" version="1.1" viewBox="0 0 909 1454" width="909px" zoomAndPan="magnify"><defs><filter height="300%" id="f48547pn0yrk7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="1028.5" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484.5" y="225"/><rect fill="#E3F2FD" filter="url(#f48547pn0yrk7)" height="138.5" style="stroke:#000000;stroke-width:2.0;" width="503.5" x="105" y="125.4"/><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="268.5" style="stroke:#000000;stroke-width:2.0;" width="548.5" x="10" y="277.9"/><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="191.7" style="stroke:#000000;stroke-width:2.0;" width="453.5" x="95" y="347.7"/><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="127.9" style="stroke:#000000;stroke-width:2.0;" width="433.5" x="105" y="404.5"/><rect fill="#FFFFFF" height="47.2" style="stroke:none;stroke-width:1.0;" width="433.5" x="105" y="485.2"/><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="325.4" style="stroke:#000000;stroke-width:2.0;" width="665.5" x="10" y="560.4"/><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="248.6" style="stroke:#000000;stroke-width:2.0;" width="570.5" x="95" y="630.2"/><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="184.8" style="stroke:#000000;stroke-width:2.0;" width="550.5" x="105" y="687"/><rect fill="#FFFFFF" height="60.2" style="stroke:none;stroke-width:1.0;" width="550.5" x="105" y="811.6"/><rect fill="#E8F5E9" filter="url(#f48547pn0yrk7)" height="175.4" style="stroke:#000000;stroke-width:2.0;" width="453.5" x="95" y="899.8"/><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="142.5" style="stroke:#000000;stroke-width:2.0;" width="433.5" x="105" y="925.7"/><rect fill="#E8F5E9" filter="url(#f48547pn0yrk7)" height="244.1" style="stroke:#000000;stroke-width:2.0;" width="790.5" x="105" y="1089.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="40" x2="40" y1="108.4" y2="1350.3"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="142" x2="142" y1="108.4" y2="1350.3"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="316.5" x2="316.5" y1="108.4" y2="1350.3"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="489.5" x2="489.5" y1="108.4" y2="1350.3"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="674" x2="674" y1="108.4" y2="1350.3"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="24.5" y="86.952">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="20" y="105.152">(User)</text><ellipse cx="40.5" cy="15" fill="#FEFECE" filter="url(#f48547pn0yrk7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M40.5,23 L40.5,50 M27.5,31 L53.5,31 M40.5,50 L27.5,65 M40.5,50 L53.5,65 " fill="none" filter="url(#f48547pn0yrk7)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="24.5" y="1364.252">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="20" y="1382.452">(User)</text><ellipse cx="40.5" cy="1395.7" fill="#FEFECE" filter="url(#f48547pn0yrk7)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M40.5,1403.7 L40.5,1430.7 M27.5,1411.7 L53.5,1411.7 M40.5,1430.7 L27.5,1445.7 M40.5,1430.7 L53.5,1445.7 " fill="none" filter="url(#f48547pn0yrk7)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#E8F5E9" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="115" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="134" y="93.152">UI</text><rect fill="#E8F5E9" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="115" y="1349.3"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="134" y="1371.252">UI</text><rect fill="#E3F2FD" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="279.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="289.5" y="93.152">Training</text><rect fill="#E3F2FD" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="279.5" y="1349.3"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="289.5" y="1371.252">Training</text><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="450.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="457.5" y="93.152">Calibrator</text><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="450.5" y="1349.3"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="457.5" y="1371.252">Calibrator</text><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="636" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="643" y="93.152">Heuristics</text><rect fill="#FFF3E0" filter="url(#f48547pn0yrk7)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="636" y="1349.3"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="643" y="1371.252">Heuristics</text><rect fill="#FFFFFF" filter="url(#f48547pn0yrk7)" height="1028.5" style="stroke:#A80036;stroke-width:1.0;" width="10" x="484.5" y="225"/><path d="M105,125.4 L237,125.4 L237,133.4 L227,143.4 L105,143.4 L105,125.4 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="138.5" style="stroke:#000000;stroke-width:2.0;" width="503.5" x="105" y="125.4"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87" x="120" y="140.284">‡πÄ‡∏£‡∏¥‡πà‡∏° Calibration</text><polygon fill="#A80036" points="477.5,176.65,487.5,180.65,477.5,184.65,481.5,180.65" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="483.5" y1="180.65" y2="180.65"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="129" x="338.5" y="175.634">setLevel(currentLevel)</text><path d="M494,149.3 L494,192.3 L589,192.3 L589,159.3 L579,149.3 L494,149.3 " fill="#FBFB77" filter="url(#f48547pn0yrk7)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M579,149.3 L579,159.3 L589,159.3 L579,149.3 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="74" x="500" y="168.184">L1-L2: ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="70" x="500" y="185.084">L3: ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß</text><polygon fill="#A80036" points="472.5,221,482.5,225,472.5,229,476.5,225" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="478.5" y1="225" y2="225"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="35" x="383" y="219.984">start()</text><polygon fill="#A80036" points="153.5,251.9,143.5,255.9,153.5,259.9,149.5,255.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="255.9" y2="255.9"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="226" x="200.5" y="250.884">‡πÅ‡∏™‡∏î‡∏á Overlay "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô (T-Pose)"</text><path d="M10,277.9 L139,277.9 L139,285.9 L129,295.9 L10,295.9 L10,277.9 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="268.5" style="stroke:#000000;stroke-width:2.0;" width="548.5" x="10" y="277.9"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="84" x="25" y="292.784">‡∏ï‡∏£‡∏ß‡∏à Visibility</text><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="82.5" y1="319.7" y2="319.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="82.5" x2="82.5" y1="319.7" y2="332.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41.5" x2="82.5" y1="332.7" y2="332.7"/><polygon fill="#A80036" points="51.5,328.7,41.5,332.7,51.5,336.7,47.5,332.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="57" x="47.5" y="314.684">‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á</text><path d="M95,347.7 L167,347.7 L167,355.7 L157,365.7 L95,365.7 L95,347.7 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="191.7" style="stroke:#000000;stroke-width:2.0;" width="453.5" x="95" y="347.7"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="110" y="362.584">loop</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="90" x="182" y="361.448">[‡∏à‡∏ô visibility ‡∏ú‡πà‡∏≤‡∏ô]</text><polygon fill="#A80036" points="472.5,385.5,482.5,389.5,472.5,393.5,476.5,389.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="478.5" y1="389.5" y2="389.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="109" x="346" y="384.484">process(landmarks)</text><path d="M105,404.5 L166,404.5 L166,412.5 L156,422.5 L105,422.5 L105,404.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="127.9" style="stroke:#000000;stroke-width:2.0;" width="433.5" x="105" y="404.5"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="120" y="419.384">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79" x="181" y="418.248">[visibility &lt; 0.5]</text><polygon fill="#A80036" points="153.5,442.3,143.5,446.3,153.5,450.3,149.5,446.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="446.3" y2="446.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="89" x="269" y="441.284">"‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î!"</text><polygon fill="#A80036" points="327.5,473.2,317.5,477.2,327.5,481.2,323.5,477.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321.5" x2="483.5" y1="477.2" y2="477.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="109" x="346" y="472.184">{status: "adjusting"}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="105" x2="538.5" y1="486.2" y2="486.2"/><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="110" y="497.948">[visibility ‡∏ú‡πà‡∏≤‡∏ô]</text><polygon fill="#A80036" points="153.5,520.4,143.5,524.4,153.5,528.4,149.5,524.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="524.4" y2="524.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="103" x="262" y="519.384">"‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"</text><path d="M10,560.4 L143,560.4 L143,568.4 L133,578.4 L10,578.4 L10,560.4 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="325.4" style="stroke:#000000;stroke-width:2.0;" width="665.5" x="10" y="560.4"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="88" x="25" y="575.284">‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose</text><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="82.5" y1="602.2" y2="602.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="82.5" x2="82.5" y1="602.2" y2="615.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41.5" x2="82.5" y1="615.2" y2="615.2"/><polygon fill="#A80036" points="51.5,611.2,41.5,615.2,51.5,619.2,47.5,615.2" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="88" x="47.5" y="597.184">‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T &#129485;</text><path d="M95,630.2 L167,630.2 L167,638.2 L157,648.2 L95,648.2 L95,630.2 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="248.6" style="stroke:#000000;stroke-width:2.0;" width="570.5" x="95" y="630.2"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="110" y="645.084">loop</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130" x="182" y="643.948">[‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ç‡∏ô‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà]</text><polygon fill="#A80036" points="472.5,668,482.5,672,472.5,676,476.5,672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="478.5" y1="672" y2="672"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="109" x="346" y="666.984">process(landmarks)</text><path d="M105,687 L166,687 L166,695 L156,705 L105,705 L105,687 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="184.8" style="stroke:#000000;stroke-width:2.0;" width="550.5" x="105" y="687"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="120" y="701.884">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="181" y="700.748">[|wristY - shoulderY| &gt; 0.2]</text><polygon fill="#A80036" points="153.5,724.8,143.5,728.8,153.5,732.8,149.5,728.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="728.8" y2="728.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="103" x="262" y="723.784">"‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="494.5" x2="536.5" y1="759.7" y2="759.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536.5" x2="536.5" y1="759.7" y2="772.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="495.5" x2="536.5" y1="772.7" y2="772.7"/><polygon fill="#A80036" points="505.5,768.7,495.5,772.7,505.5,776.7,501.5,772.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="68" x="501.5" y="754.684">Reset Timer</text><polygon fill="#A80036" points="327.5,799.6,317.5,803.6,327.5,807.6,323.5,803.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321.5" x2="483.5" y1="803.6" y2="803.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="109" x="346" y="798.584">{status: "adjusting"}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="105" x2="655.5" y1="812.6" y2="812.6"/><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="54" x="110" y="824.348">[‡∏ó‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="494.5" x2="536.5" y1="850.8" y2="850.8"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536.5" x2="536.5" y1="850.8" y2="863.8"/><line style="stroke:#A80036;stroke-width:1.0;" x1="495.5" x2="536.5" y1="863.8" y2="863.8"/><polygon fill="#A80036" points="505.5,859.8,495.5,863.8,505.5,867.8,501.5,863.8" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="142" x="501.5" y="845.784">Check Timer (Date.now())</text><path d="M95,899.8 L256,899.8 L256,907.8 L246,917.8 L95,917.8 L95,899.8 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="175.4" style="stroke:#000000;stroke-width:2.0;" width="453.5" x="95" y="899.8"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="110" y="914.684">‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á (3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</text><path d="M105,925.7 L177,925.7 L177,933.7 L167,943.7 L105,943.7 L105,925.7 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="142.5" style="stroke:#000000;stroke-width:2.0;" width="433.5" x="105" y="925.7"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="120" y="940.584">loop</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124" x="192" y="939.448">[Time Elapsed &lt; 3000ms]</text><polygon fill="#A80036" points="153.5,963.5,143.5,967.5,153.5,971.5,149.5,967.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="967.5" y2="967.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="66" x="280.5" y="962.484">"‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 3"</text><polygon fill="#A80036" points="153.5,994.4,143.5,998.4,153.5,1002.4,149.5,998.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="998.4" y2="998.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="66" x="280.5" y="993.384">"‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 2"</text><polygon fill="#A80036" points="153.5,1025.3,143.5,1029.3,153.5,1033.3,149.5,1029.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="483.5" y1="1029.3" y2="1029.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="66" x="280.5" y="1024.284">"‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 1"</text><polygon fill="#A80036" points="327.5,1056.2,317.5,1060.2,327.5,1064.2,323.5,1060.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321.5" x2="483.5" y1="1060.2" y2="1060.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="117" x="342" y="1055.184">{status: "measuring"}</text><path d="M105,1089.2 L204,1089.2 L204,1097.2 L194,1107.2 L105,1107.2 L105,1089.2 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="244.1" style="stroke:#000000;stroke-width:2.0;" width="790.5" x="105" y="1089.2"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54" x="120" y="1104.084">‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô</text><line style="stroke:#A80036;stroke-width:1.0;" x1="494.5" x2="536.5" y1="1154.85" y2="1154.85"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536.5" x2="536.5" y1="1154.85" y2="1167.85"/><line style="stroke:#A80036;stroke-width:1.0;" x1="495.5" x2="536.5" y1="1167.85" y2="1167.85"/><polygon fill="#A80036" points="505.5,1163.85,495.5,1167.85,505.5,1171.85,501.5,1167.85" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="161" x="501.5" y="1149.834">calculateMetrics(landmarks)</text><path d="M674,1113.1 L674,1190.1 L871,1190.1 L871,1123.1 L861,1113.1 L674,1113.1 " fill="#FBFB77" filter="url(#f48547pn0yrk7)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M861,1113.1 L861,1123.1 L871,1123.1 L861,1113.1 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="60" x="680" y="1131.984">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î:</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="157" x="680" y="1148.884">- torsoHeight (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏•‡∏≥‡∏ï‡∏±‡∏ß)</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="176" x="680" y="1165.784">- shoulderWidth (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÑ‡∏´‡∏•‡πà)</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="154" x="680" y="1182.684">- armLength (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏Ç‡∏ô)</text><polygon fill="#A80036" points="327.5,1218.6,317.5,1222.6,327.5,1226.6,323.5,1222.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="321.5" x2="483.5" y1="1222.6" y2="1222.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="144" x="328.5" y="1217.584">{status: "complete", data}</text><polygon fill="#A80036" points="477.5,1249.5,487.5,1253.5,477.5,1257.5,481.5,1253.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="483.5" y1="1253.5" y2="1253.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="32" x="387" y="1248.484">stop()</text><polygon fill="#A80036" points="662.5,1285.4,672.5,1289.4,662.5,1293.4,666.5,1289.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="316.5" x2="668.5" y1="1289.4" y2="1289.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="114" x="438.5" y="1284.384">setCalibration(data)</text><path d="M679,1266.5 L679,1292.5 L838,1292.5 L838,1276.5 L828,1266.5 L679,1266.5 " fill="#FBFB77" filter="url(#f48547pn0yrk7)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M828,1266.5 L828,1276.5 L838,1276.5 L828,1266.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="138" x="685" y="1285.384">‡∏õ‡∏£‡∏±‡∏ö Dynamic Thresholds</text><polygon fill="#A80036" points="153.5,1321.3,143.5,1325.3,153.5,1329.3,149.5,1325.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="147.5" x2="315.5" y1="1325.3" y2="1325.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="150" x="154.5" y="1320.284">"‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!"</text><!--MD5=[9a12d5b972efac77f8f53ca599056c05]
@startuml SequenceDiagram_Calibration
' ============================================================================
' TaijiFlow AI - Sequence Diagram: Calibration Process
' ============================================================================
' ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢ T-Pose
' ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: UC-01 Calibrate Body, calibration_manager.js
' ============================================================================

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

' === Participants ===
actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibrator #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0

' ============================================================================
' PHASE 1: START CALIBRATION
' ============================================================================

group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏° Calibration
    Training -> Calibrator : setLevel(currentLevel)
    note right
        L1-L2: ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô
        L3: ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß
    end note
    
    Training -> Calibrator : start()
    activate Calibrator
    
    Calibrator - -> UI : ‡πÅ‡∏™‡∏î‡∏á Overlay "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô (T-Pose)"
end

' ============================================================================
' PHASE 2: VISIBILITY CHECK
' ============================================================================

group #FFF3E0 ‡∏ï‡∏£‡∏ß‡∏à Visibility
    User -> User : ‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á
    
    loop ‡∏à‡∏ô visibility ‡∏ú‡πà‡∏≤‡∏ô
        Training -> Calibrator : process(landmarks)
        
        alt visibility < 0.5
            Calibrator - -> UI : "‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î!"
            Calibrator - -> Training : {status: "adjusting"}
        else visibility ‡∏ú‡πà‡∏≤‡∏ô
            Calibrator - -> UI : "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"
        end
    end
end

' ============================================================================
' PHASE 3: T-POSE CHECK
' ============================================================================

group #FFF3E0 ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose
    User -> User : ‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T üßç
    
    loop ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ç‡∏ô‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà
        Training -> Calibrator : process(landmarks)
        
        alt |wristY - shoulderY| > 0.2
            Calibrator - -> UI : "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"
            Calibrator -> Calibrator : Reset Timer
            Calibrator - -> Training : {status: "adjusting"}
        else ‡∏ó‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            Calibrator -> Calibrator : Check Timer (Date.now())
        end
    end
end

' ============================================================================
' PHASE 4: COUNTDOWN (3 SECONDS)
' ============================================================================

group #E8F5E9 ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á (3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
    loop Time Elapsed < 3000ms
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 3"
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 2"
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 1"
        Calibrator - -> Training : {status: "measuring"}
    end
end

' ============================================================================
' PHASE 5: CALCULATE & COMPLETE
' ============================================================================

group #E8F5E9 ‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô
    Calibrator -> Calibrator : calculateMetrics(landmarks)
    note right
        **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î:**
        - torsoHeight (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏•‡∏≥‡∏ï‡∏±‡∏ß)
        - shoulderWidth (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÑ‡∏´‡∏•‡πà)
        - armLength (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏Ç‡∏ô)
    end note
    
    Calibrator - -> Training : {status: "complete", data}
    Training -> Calibrator : stop()
    deactivate Calibrator
    
    Training -> Heuristics : setCalibration(data)
    note right: ‡∏õ‡∏£‡∏±‡∏ö Dynamic Thresholds
    
    Training - -> UI : "‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!"
end

@enduml

@startuml SequenceDiagram_Calibration

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibrator #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0


group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏° Calibration
    Training -> Calibrator : setLevel(currentLevel)
    note right
        L1-L2: ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô
        L3: ‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß
    end note
    
    Training -> Calibrator : start()
    activate Calibrator
    
    Calibrator - -> UI : ‡πÅ‡∏™‡∏î‡∏á Overlay "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô (T-Pose)"
end


group #FFF3E0 ‡∏ï‡∏£‡∏ß‡∏à Visibility
    User -> User : ‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á
    
    loop ‡∏à‡∏ô visibility ‡∏ú‡πà‡∏≤‡∏ô
        Training -> Calibrator : process(landmarks)
        
        alt visibility < 0.5
            Calibrator - -> UI : "‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î!"
            Calibrator - -> Training : {status: "adjusting"}
        else visibility ‡∏ú‡πà‡∏≤‡∏ô
            Calibrator - -> UI : "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"
        end
    end
end


group #FFF3E0 ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose
    User -> User : ‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T üßç
    
    loop ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ç‡∏ô‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà
        Training -> Calibrator : process(landmarks)
        
        alt |wristY - shoulderY| > 0.2
            Calibrator - -> UI : "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÑ‡∏´‡∏•‡πà"
            Calibrator -> Calibrator : Reset Timer
            Calibrator - -> Training : {status: "adjusting"}
        else ‡∏ó‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            Calibrator -> Calibrator : Check Timer (Date.now())
        end
    end
end


group #E8F5E9 ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á (3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
    loop Time Elapsed < 3000ms
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 3"
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 2"
        Calibrator - -> UI : "‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ... 1"
        Calibrator - -> Training : {status: "measuring"}
    end
end


group #E8F5E9 ‡∏ß‡∏±‡∏î‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô
    Calibrator -> Calibrator : calculateMetrics(landmarks)
    note right
        **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏î:**
        - torsoHeight (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏•‡∏≥‡∏ï‡∏±‡∏ß)
        - shoulderWidth (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÑ‡∏´‡∏•‡πà)
        - armLength (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÅ‡∏Ç‡∏ô)
    end note
    
    Calibrator - -> Training : {status: "complete", data}
    Training -> Calibrator : stop()
    deactivate Calibrator
    
    Training -> Heuristics : setCalibration(data)
    note right: ‡∏õ‡∏£‡∏±‡∏ö Dynamic Thresholds
    
    Training - -> UI : "‚úÖ ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!"
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>