<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1540px" preserveAspectRatio="none" style="width:858px;height:1540px;background:#00000000;" version="1.1" viewBox="0 0 858 1540" width="858px" zoomAndPan="magnify"><defs><filter height="300%" id="f19i1eoi08667t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="44.35" style="stroke:#A80036;stroke-width:1.0;" width="10" x="213.5" y="880.45"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="1118.4" style="stroke:#A80036;stroke-width:1.0;" width="10" x="427.5" y="292.8"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="204.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="624.5" y="600.9"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="316.9" style="stroke:#A80036;stroke-width:1.0;" width="10" x="795" y="1032.5"/><rect fill="#E3F2FD" filter="url(#f19i1eoi08667t)" height="483.5" style="stroke:#000000;stroke-width:2.0;" width="668.5" x="10" y="125.4"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="261" x="20" y="151.3"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="246" y="307.8"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="137.6" style="stroke:#000000;stroke-width:2.0;" width="427.5" x="181" y="402.5"/><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="353.8" style="stroke:#000000;stroke-width:2.0;" width="745.5" x="20" y="622.9"/><rect fill="#E8F5E9" filter="url(#f19i1eoi08667t)" height="115.5" style="stroke:#000000;stroke-width:2.0;" width="459" x="385.5" y="990.7"/><rect fill="#F3E5F5" filter="url(#f19i1eoi08667t)" height="299" style="stroke:#000000;stroke-width:2.0;" width="824.5" x="20" y="1120.2"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="246" y="1207.9"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="50" x2="50" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="218" x2="218" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="291" x2="291" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="432.5" x2="432.5" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="629.5" x2="629.5" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="716.5" x2="716.5" y1="108.4" y2="1436.2"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="799.5" x2="799.5" y1="108.4" y2="1436.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="34.5" y="86.952">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="30" y="105.152">(User)</text><ellipse cx="50.5" cy="15" fill="#FEFECE" filter="url(#f19i1eoi08667t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M50.5,23 L50.5,50 M37.5,31 L63.5,31 M50.5,50 L37.5,65 M50.5,50 L63.5,65 " fill="none" filter="url(#f19i1eoi08667t)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="34.5" y="1450.152">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="30" y="1468.352">(User)</text><ellipse cx="50.5" cy="1481.6" fill="#FEFECE" filter="url(#f19i1eoi08667t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M50.5,1489.6 L50.5,1516.6 M37.5,1497.6 L63.5,1497.6 M50.5,1516.6 L37.5,1531.6 M50.5,1516.6 L63.5,1531.6 " fill="none" filter="url(#f19i1eoi08667t)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#E8F5E9" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="191" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="210" y="93.152">UI</text><rect fill="#E8F5E9" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="191" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="210" y="1457.152">UI</text><rect fill="#E8F5E9" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="67" x="256" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="47" x="266" y="93.152">Gesture</text><rect fill="#E8F5E9" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="67" x="256" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="47" x="266" y="1457.152">Gesture</text><rect fill="#E3F2FD" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="395.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="405.5" y="93.152">Training</text><rect fill="#E3F2FD" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="395.5" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="405.5" y="1457.152">Training</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="590.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="597.5" y="93.152">Calibrator</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="590.5" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="597.5" y="1457.152">Calibrator</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="678.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="685.5" y="93.152">Heuristics</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="678.5" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="685.5" y="1457.152">Heuristics</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="65" x="765.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="39" x="778.5" y="93.152">Scorer</text><rect fill="#FFF3E0" filter="url(#f19i1eoi08667t)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="65" x="765.5" y="1435.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="39" x="778.5" y="1457.152">Scorer</text><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="44.35" style="stroke:#A80036;stroke-width:1.0;" width="10" x="213.5" y="880.45"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="1118.4" style="stroke:#A80036;stroke-width:1.0;" width="10" x="427.5" y="292.8"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="204.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="624.5" y="600.9"/><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="316.9" style="stroke:#A80036;stroke-width:1.0;" width="10" x="795" y="1032.5"/><path d="M10,125.4 L204,125.4 L204,133.4 L194,143.4 L10,143.4 L10,125.4 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="483.5" style="stroke:#000000;stroke-width:2.0;" width="668.5" x="10" y="125.4"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="25" y="140.284">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)</text><path d="M20,151.3 L85,151.3 L85,159.3 L75,169.3 L20,169.3 L20,151.3 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="261" x="20" y="151.3"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="35" y="166.184">opt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176" x="100" y="165.048">[‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)]</text><polygon fill="#A80036" points="206.5,189.1,216.5,193.1,206.5,197.1,210.5,193.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="50.5" x2="212.5" y1="193.1" y2="193.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="99" x="85" y="188.084">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)</text><polygon fill="#A80036" points="206.5,220,216.5,224,206.5,228,210.5,224" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="50.5" x2="212.5" y1="224" y2="224"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="98" x="85.5" y="218.984">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)</text><polygon fill="#A80036" points="206.5,257.9,216.5,261.9,206.5,265.9,210.5,261.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="50.5" x2="212.5" y1="261.9" y2="261.9"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="144" x="62.5" y="256.884">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á &#128077;</text><polygon fill="#A80036" points="415.5,288.8,425.5,292.8,415.5,296.8,419.5,292.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="218.5" x2="421.5" y1="292.8" y2="292.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="108" x="269" y="287.784">startTrainingFlow()</text><path d="M246,307.8 L307,307.8 L307,315.8 L297,325.8 L246,325.8 L246,307.8 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="246" y="307.8"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="261" y="322.684">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="322" y="321.548">[‡πÉ‡∏ä‡πâ Gesture Start]</text><polygon fill="#A80036" points="302.5,345.6,292.5,349.6,302.5,353.6,298.5,349.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296.5" x2="426.5" y1="349.6" y2="349.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="312.5" y="344.584">detectGestures()</text><polygon fill="#A80036" points="415.5,376.5,425.5,380.5,415.5,384.5,419.5,380.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="291.5" x2="421.5" y1="380.5" y2="380.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="112" x="303.5" y="375.484">thumbsUp detected</text><path d="M181,402.5 L246,402.5 L246,410.5 L236,420.5 L181,420.5 L181,402.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="137.6" style="stroke:#000000;stroke-width:2.0;" width="427.5" x="181" y="402.5"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="196" y="417.384">opt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124" x="261" y="416.248">[Random Mode Selected]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="479.5" y1="444.3" y2="444.3"/><line style="stroke:#A80036;stroke-width:1.0;" x1="479.5" x2="479.5" y1="444.3" y2="457.3"/><line style="stroke:#A80036;stroke-width:1.0;" x1="438.5" x2="479.5" y1="457.3" y2="457.3"/><polygon fill="#A80036" points="448.5,453.3,438.5,457.3,448.5,461.3,444.5,457.3" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="124" x="444.5" y="439.284">‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])</text><polygon fill="#A80036" points="229.5,484.2,219.5,488.2,229.5,492.2,225.5,488.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223.5" x2="426.5" y1="488.2" y2="488.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="174" x="236" y="483.184">updateDropdown(newExercise)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="479.5" y1="519.1" y2="519.1"/><line style="stroke:#A80036;stroke-width:1.0;" x1="479.5" x2="479.5" y1="519.1" y2="532.1"/><line style="stroke:#A80036;stroke-width:1.0;" x1="438.5" x2="479.5" y1="532.1" y2="532.1"/><polygon fill="#A80036" points="448.5,528.1,438.5,532.1,448.5,536.1,444.5,532.1" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="152" x="444.5" y="514.084">await loadReferenceData()</text><polygon fill="#A80036" points="617.5,566,627.5,570,617.5,574,621.5,570" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="623.5" y1="570" y2="570"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="129" x="469" y="564.984">setLevel(currentLevel)</text><polygon fill="#A80036" points="612.5,596.9,622.5,600.9,612.5,604.9,616.5,600.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="618.5" y1="600.9" y2="600.9"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="35" x="513.5" y="595.884">start()</text><path d="M20,622.9 L185,622.9 L185,630.9 L175,640.9 L20,640.9 L20,622.9 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="353.8" style="stroke:#000000;stroke-width:2.0;" width="745.5" x="20" y="622.9"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="35" y="637.784">Calibration (T-Pose)</text><polygon fill="#A80036" points="229.5,660.7,219.5,664.7,229.5,668.7,225.5,664.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="623.5" y1="664.7" y2="664.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="111" x="366" y="659.684">‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="50.5" x2="92.5" y1="695.6" y2="695.6"/><line style="stroke:#A80036;stroke-width:1.0;" x1="92.5" x2="92.5" y1="695.6" y2="708.6"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="92.5" y1="708.6" y2="708.6"/><polygon fill="#A80036" points="61.5,704.6,51.5,708.6,61.5,712.6,57.5,708.6" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="90" x="57.5" y="690.584">‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose &#129485;</text><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="60.7" style="stroke:#000000;stroke-width:2.0;" width="479.5" x="188" y="716.6"/><polygon fill="#EEEEEE" points="188,716.6,250,716.6,250,724.6,240,734.6,188,734.6,188,716.6" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="201" y="732.484">ref</text><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="175" x="324.25" y="752.484">SequenceDiagram_Calibration</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="211" x="324.25" y="769.384">(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)</text><polygon fill="#A80036" points="617.5,801.2,627.5,805.2,617.5,809.2,621.5,805.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="623.5" y1="805.2" y2="805.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="32" x="517.5" y="800.184">stop()</text><polygon fill="#A80036" points="705,832.1,715,836.1,705,840.1,709,836.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="711" y1="836.1" y2="836.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="114" x="520.25" y="831.084">setCalibration(data)</text><polygon fill="#A80036" points="234.5,876.45,224.5,880.45,234.5,884.45,230.5,880.45" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="228.5" x2="426.5" y1="880.45" y2="880.45"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="150" x="250.5" y="875.434">syncAudioAndCountdown()</text><path d="M442,849.1 L442,892.1 L612,892.1 L612,859.1 L602,849.1 L442,849.1 " fill="#FBFB77" filter="url(#f19i1eoi08667t)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M602,849.1 L602,859.1 L612,859.1 L602,849.1 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="149" x="448" y="867.984">‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="131" x="448" y="884.884">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô</text><polygon fill="#A80036" points="415.5,920.8,425.5,924.8,415.5,928.8,419.5,924.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="218.5" x2="421.5" y1="924.8" y2="924.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="49" x="298.5" y="919.784">resolve()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="479.5" y1="955.7" y2="955.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="479.5" x2="479.5" y1="955.7" y2="968.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="438.5" x2="479.5" y1="968.7" y2="968.7"/><polygon fill="#A80036" points="448.5,964.7,438.5,968.7,448.5,972.7,444.5,968.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="173" x="444.5" y="950.684">startTrainingAfterCalibration()</text><path d="M385.5,990.7 L562.5,990.7 L562.5,998.7 L552.5,1008.7 L385.5,1008.7 L385.5,990.7 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="115.5" style="stroke:#000000;stroke-width:2.0;" width="459" x="385.5" y="990.7"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="400.5" y="1005.584">‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)</text><polygon fill="#A80036" points="783,1028.5,793,1032.5,783,1036.5,787,1032.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="789" y1="1032.5" y2="1032.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="35" x="598.75" y="1027.484">start()</text><rect fill="#FFFFFF" filter="url(#f19i1eoi08667t)" height="60.7" style="stroke:#000000;stroke-width:2.0;" width="441" x="392.5" y="1040.5"/><polygon fill="#EEEEEE" points="392.5,1040.5,454.5,1040.5,454.5,1048.5,444.5,1058.5,392.5,1058.5,392.5,1040.5" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="405.5" y="1056.384">ref</text><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="476" y="1076.384">SequenceDiagram_RealtimeAnalysis</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="278" x="476" y="1093.284">(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</text><path d="M20,1120.2 L220,1120.2 L220,1128.2 L210,1138.2 L20,1138.2 L20,1120.2 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="299" style="stroke:#000000;stroke-width:2.0;" width="824.5" x="20" y="1120.2"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155" x="35" y="1135.084">‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)</text><polygon fill="#A80036" points="206.5,1158,216.5,1162,206.5,1166,210.5,1162" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="50.5" x2="212.5" y1="1162" y2="1162"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="121" x="74" y="1156.984">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä</text><polygon fill="#A80036" points="415.5,1188.9,425.5,1192.9,415.5,1196.9,419.5,1192.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="218.5" x2="421.5" y1="1192.9" y2="1192.9"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="116" x="265" y="1187.884">endTrainingSession()</text><path d="M246,1207.9 L307,1207.9 L307,1215.9 L297,1225.9 L246,1225.9 L246,1207.9 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="246" y="1207.9"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="261" y="1222.784">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="322" y="1221.648">[‡πÉ‡∏ä‡πâ Gesture Stop]</text><polygon fill="#A80036" points="302.5,1245.7,292.5,1249.7,302.5,1253.7,298.5,1249.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="296.5" x2="426.5" y1="1249.7" y2="1249.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="312.5" y="1244.684">detectGestures()</text><polygon fill="#A80036" points="415.5,1276.6,425.5,1280.6,415.5,1284.6,419.5,1280.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="291.5" x2="421.5" y1="1280.6" y2="1280.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="71" x="324" y="1275.584">fist detected</text><polygon fill="#A80036" points="783,1314.5,793,1318.5,783,1322.5,787,1318.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="437.5" x2="789" y1="1318.5" y2="1318.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="81" x="575.75" y="1313.484">getSummary()</text><polygon fill="#A80036" points="448.5,1345.4,438.5,1349.4,448.5,1353.4,444.5,1349.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="442.5" x2="799" y1="1349.4" y2="1349.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="153" x="542.25" y="1344.384">{score, totalFrames, grade}</text><polygon fill="#A80036" points="229.5,1376.3,219.5,1380.3,229.5,1384.3,225.5,1380.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="426.5" y1="1380.3" y2="1380.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="105" x="270.5" y="1375.284">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô &#128202;</text><polygon fill="#A80036" points="61.5,1407.2,51.5,1411.2,61.5,1415.2,57.5,1411.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="55.5" x2="217.5" y1="1411.2" y2="1411.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="70" x="99.5" y="1406.184">Score Popup</text><!--MD5=[5c030cfa7ac0b21b8d53864a51877357]
@startuml SequenceDiagram_TrainingFlow
' ============================================================================
' TaijiFlow AI - Sequence Diagram: Training Flow (Main)
' ============================================================================
' ‡πÅ‡∏™‡∏î‡∏á Flow ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏°‡πâ‡∏ß‡∏ô‡πÑ‡∏´‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏ô‡∏à‡∏ö
' ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: UC-02 Perform Training
' ============================================================================

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

' === Participants (6 ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å - ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢) ===
actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant " Gesture " as Gesture #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibration #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0
participant "  Scorer  " as Scoring #FFF3E0

' ============================================================================
' PHASE 1: START TRAINING
' ============================================================================

group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)
    opt ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)
    end
    
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
    UI -> Training : startTrainingFlow()
    activate Training
    
    
    alt ‡πÉ‡∏ä‡πâ Gesture Start
        Training -> Gesture : detectGestures()
        Gesture - -> Training : thumbsUp detected
    end

    opt Random Mode Selected
        Training -> Training : ‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])
        Training -> UI : updateDropdown(newExercise)
        Training -> Training : await loadReferenceData()
    end
    
    Training -> Calibration : setLevel(currentLevel)
    Training -> Calibration : start()
    activate Calibration
end

' ============================================================================
' PHASE 2: CALIBRATION (T-POSE)
' ============================================================================

group #FFF3E0 Calibration (T-Pose)
    Calibration - -> UI : ‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"
    User -> User : ‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose üßç
    
    ref over Training, Calibration, UI : **SequenceDiagram_Calibration**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)
    
    Training -> Calibration : stop()
    deactivate Calibration
    
    Training -> Heuristics : setCalibration(data)
    
    Training -> UI : syncAudioAndCountdown()
    note right: ‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô
    activate UI
    UI -> Training : resolve()
    deactivate UI

    Training -> Training : startTrainingAfterCalibration()
end

' ============================================================================
' PHASE 3: TRAINING LOOP (MAIN)
' ============================================================================

group #E8F5E9 ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)
    Training -> Scoring : start()
    activate Scoring
    
    ref over Training, Heuristics, Scoring : **SequenceDiagram_RealtimeAnalysis**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
end

' ============================================================================
' PHASE 4: END & RESULT
' ============================================================================

group #F3E5F5 ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä
    UI -> Training : endTrainingSession()
    
    alt ‡πÉ‡∏ä‡πâ Gesture Stop
        Training -> Gesture : detectGestures()
        Gesture - -> Training : fist detected
    end
    
    Training -> Scoring : getSummary()
    Scoring - -> Training : {score, totalFrames, grade}
    deactivate Scoring
    
    Training - -> UI : ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üìä
    UI - -> User : Score Popup
    deactivate Training
end

@enduml

@startuml SequenceDiagram_TrainingFlow

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant " Gesture " as Gesture #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibration #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0
participant "  Scorer  " as Scoring #FFF3E0


group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)
    opt ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)
    end
    
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
    UI -> Training : startTrainingFlow()
    activate Training
    
    
    alt ‡πÉ‡∏ä‡πâ Gesture Start
        Training -> Gesture : detectGestures()
        Gesture - -> Training : thumbsUp detected
    end

    opt Random Mode Selected
        Training -> Training : ‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])
        Training -> UI : updateDropdown(newExercise)
        Training -> Training : await loadReferenceData()
    end
    
    Training -> Calibration : setLevel(currentLevel)
    Training -> Calibration : start()
    activate Calibration
end


group #FFF3E0 Calibration (T-Pose)
    Calibration - -> UI : ‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"
    User -> User : ‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose üßç
    
    ref over Training, Calibration, UI : **SequenceDiagram_Calibration**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)
    
    Training -> Calibration : stop()
    deactivate Calibration
    
    Training -> Heuristics : setCalibration(data)
    
    Training -> UI : syncAudioAndCountdown()
    note right: ‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô
    activate UI
    UI -> Training : resolve()
    deactivate UI

    Training -> Training : startTrainingAfterCalibration()
end


group #E8F5E9 ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)
    Training -> Scoring : start()
    activate Scoring
    
    ref over Training, Heuristics, Scoring : **SequenceDiagram_RealtimeAnalysis**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
end


group #F3E5F5 ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä
    UI -> Training : endTrainingSession()
    
    alt ‡πÉ‡∏ä‡πâ Gesture Stop
        Training -> Gesture : detectGestures()
        Gesture - -> Training : fist detected
    end
    
    Training -> Scoring : getSummary()
    Scoring - -> Training : {score, totalFrames, grade}
    deactivate Scoring
    
    Training - -> UI : ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üìä
    UI - -> User : Score Popup
    deactivate Training
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>