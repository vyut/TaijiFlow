<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2141px" preserveAspectRatio="none" style="width:1044px;height:2141px;background:#00000000;" version="1.1" viewBox="0 0 1044 2141" width="1044px" zoomAndPan="magnify"><defs><filter height="300%" id="faeogisnu24bp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="44.35" style="stroke:#A80036;stroke-width:1.0;" width="10" x="251.5" y="1450.05"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="1505.2" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="522.5"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="1149.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="613" y="862.4"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="204.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="810" y="1170.5"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="316.9" style="stroke:#A80036;stroke-width:1.0;" width="10" x="980.5" y="1602.1"/><rect fill="#F3E5F5" filter="url(#faeogisnu24bp)" height="555.6" style="stroke:#000000;stroke-width:2.0;" width="431.5" x="10" y="125.4"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="204.7" style="stroke:#000000;stroke-width:2.0;" width="388.5" x="20" y="287.9"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="140.9" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="30" y="344.7"/><rect fill="#FFFFFF" height="47.2" style="stroke:none;stroke-width:1.0;" width="368.5" x="30" y="438.4"/><rect fill="#E3F2FD" filter="url(#faeogisnu24bp)" height="483.5" style="stroke:#000000;stroke-width:2.0;" width="844" x="20" y="695"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="264" x="30" y="720.9"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="431.5" y="877.4"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="137.6" style="stroke:#000000;stroke-width:2.0;" width="575" x="219" y="972.1"/><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="353.8" style="stroke:#000000;stroke-width:2.0;" width="921" x="30" y="1192.5"/><rect fill="#E8F5E9" filter="url(#faeogisnu24bp)" height="115.5" style="stroke:#000000;stroke-width:2.0;" width="459" x="571" y="1560.3"/><rect fill="#F3E5F5" filter="url(#faeogisnu24bp)" height="329.9" style="stroke:#000000;stroke-width:2.0;" width="1000" x="30" y="1689.8"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="431.5" y="1777.5"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="256" x2="256" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="393.5" x2="393.5" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="476.5" x2="476.5" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="618" x2="618" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="815" x2="815" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="902" x2="902" y1="108.4" y2="2036.7"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="985" x2="985" y1="108.4" y2="2036.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="44.5" y="86.952">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="40" y="105.152">(User)</text><ellipse cx="60.5" cy="15" fill="#FEFECE" filter="url(#faeogisnu24bp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M60.5,23 L60.5,50 M47.5,31 L73.5,31 M60.5,50 L47.5,65 M60.5,50 L73.5,65 " fill="none" filter="url(#faeogisnu24bp)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="26" x="44.5" y="2050.652">‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å</text><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="35" x="40" y="2068.852">(User)</text><ellipse cx="60.5" cy="2082.1" fill="#FEFECE" filter="url(#faeogisnu24bp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M60.5,2090.1 L60.5,2117.1 M47.5,2098.1 L73.5,2098.1 M60.5,2117.1 L47.5,2132.1 M60.5,2117.1 L73.5,2132.1 " fill="none" filter="url(#faeogisnu24bp)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#E8F5E9" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="229" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="248" y="93.152">UI</text><rect fill="#E8F5E9" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="51" x="229" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="13" x="248" y="2057.652">UI</text><rect fill="#E1BEE7" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="72" x="355.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="46" x="368.5" y="93.152">Camera</text><rect fill="#E1BEE7" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="72" x="355.5" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="46" x="368.5" y="2057.652">Camera</text><rect fill="#E8F5E9" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="67" x="441.5" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="47" x="451.5" y="93.152">Gesture</text><rect fill="#E8F5E9" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="67" x="441.5" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="47" x="451.5" y="2057.652">Gesture</text><rect fill="#E3F2FD" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="581" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="591" y="93.152">Training</text><rect fill="#E3F2FD" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="70" x="581" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="591" y="2057.652">Training</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="776" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="783" y="93.152">Calibrator</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="74" x="776" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="60" x="783" y="2057.652">Calibrator</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="864" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="871" y="93.152">Heuristics</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="73" x="864" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="59" x="871" y="2057.652">Heuristics</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="65" x="951" y="71.2"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="39" x="964" y="93.152">Scorer</text><rect fill="#FFF3E0" filter="url(#faeogisnu24bp)" height="32.2" style="stroke:#A80036;stroke-width:1.5;" width="65" x="951" y="2035.7"/><text fill="#000000" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="39" x="964" y="2057.652">Scorer</text><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="44.35" style="stroke:#A80036;stroke-width:1.0;" width="10" x="251.5" y="1450.05"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="1505.2" style="stroke:#A80036;stroke-width:1.0;" width="10" x="388.5" y="522.5"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="1149.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="613" y="862.4"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="204.3" style="stroke:#A80036;stroke-width:1.0;" width="10" x="810" y="1170.5"/><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="316.9" style="stroke:#A80036;stroke-width:1.0;" width="10" x="980.5" y="1602.1"/><path d="M10,125.4 L176,125.4 L176,133.4 L166,143.4 L10,143.4 L10,125.4 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="555.6" style="stroke:#000000;stroke-width:2.0;" width="431.5" x="10" y="125.4"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121" x="25" y="140.284">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏≠‡∏õ (App Entry)</text><polygon fill="#A80036" points="244.5,163.2,254.5,167.2,244.5,171.2,248.5,167.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="167.2" y2="167.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="75" x="121" y="162.184">‡πÄ‡∏õ‡∏¥‡∏î app.html</text><polygon fill="#A80036" points="71.5,194.1,61.5,198.1,71.5,202.1,67.5,198.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="255.5" y1="198.1" y2="198.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="172" x="72.5" y="193.084">‡πÅ‡∏™‡∏î‡∏á Privacy + Warning Modal</text><polygon fill="#A80036" points="244.5,225,254.5,229,244.5,233,248.5,229" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="229" y2="229"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="81" x="118" y="223.984">‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="298.5" y1="259.9" y2="259.9"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298.5" x2="298.5" y1="259.9" y2="272.9"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257.5" x2="298.5" y1="272.9" y2="272.9"/><polygon fill="#A80036" points="267.5,268.9,257.5,272.9,267.5,276.9,263.5,272.9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="95" x="263.5" y="254.884">isMobilePhone()?</text><path d="M20,287.9 L81,287.9 L81,295.9 L71,305.9 L20,305.9 L20,287.9 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="204.7" style="stroke:#000000;stroke-width:2.0;" width="388.5" x="20" y="287.9"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="302.784">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="131" x="96" y="301.648">[‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (Mobile Phone)]</text><polygon fill="#A80036" points="71.5,325.7,61.5,329.7,71.5,333.7,67.5,329.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="255.5" y1="329.7" y2="329.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="159" x="79" y="324.684">‡πÅ‡∏™‡∏î‡∏á Mobile Warning Modal</text><path d="M30,344.7 L91,344.7 L91,352.7 L81,362.7 L30,362.7 L30,344.7 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="140.9" style="stroke:#000000;stroke-width:2.0;" width="368.5" x="30" y="344.7"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="45" y="359.584">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="70" x="106" y="358.448">[‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å]</text><polygon fill="#A80036" points="244.5,382.5,254.5,386.5,244.5,390.5,248.5,386.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="386.5" y2="386.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="111" x="103" y="381.484">‡∏Å‡∏î "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="298.5" y1="417.4" y2="417.4"/><line style="stroke:#A80036;stroke-width:1.0;" x1="298.5" x2="298.5" y1="417.4" y2="430.4"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257.5" x2="298.5" y1="430.4" y2="430.4"/><polygon fill="#A80036" points="267.5,426.4,257.5,430.4,267.5,434.4,263.5,430.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="123" x="263.5" y="412.384">redirect to index.html</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="398.5" y1="439.4" y2="439.4"/><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="71" x="35" y="451.148">[‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠]</text><polygon fill="#A80036" points="244.5,473.6,254.5,477.6,244.5,481.6,248.5,477.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="477.6" y2="477.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="112" x="102.5" y="472.584">‡∏Å‡∏î "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"</text><polygon fill="#A80036" points="376.5,518.5,386.5,522.5,376.5,526.5,380.5,522.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="382.5" y1="522.5" y2="522.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="87" x="279" y="517.484">getUserMedia()</text><polygon fill="#A80036" points="267.5,549.4,257.5,553.4,267.5,557.4,263.5,553.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="261.5" x2="387.5" y1="553.4" y2="553.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="80" x="282.5" y="548.384">Stream Ready</text><polygon fill="#A80036" points="71.5,580.3,61.5,584.3,71.5,588.3,67.5,584.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="255.5" y1="584.3" y2="584.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="125" x="96" y="579.284">‡πÅ‡∏™‡∏î‡∏á Loading Overlay</text><path d="M261,597.3 L261,640.3 L401,640.3 L401,607.3 L391,597.3 L261,597.3 " fill="#FBFB77" filter="url(#faeogisnu24bp)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M391,597.3 L391,607.3 L401,607.3 L391,597.3 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="119" x="267" y="616.184">AI Models Preloading</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="95" x="267" y="633.084">(MediaPipe Pose)</text><polygon fill="#A80036" points="71.5,669,61.5,673,71.5,677,67.5,673" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="255.5" y1="673" y2="673"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="97" x="110" y="667.984">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Idle)</text><path d="M20,695 L214,695 L214,703 L204,713 L20,713 L20,695 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="483.5" style="stroke:#000000;stroke-width:2.0;" width="844" x="20" y="695"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="35" y="709.884">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)</text><path d="M30,720.9 L95,720.9 L95,728.9 L85,738.9 L30,738.9 L30,720.9 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="264" x="30" y="720.9"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="45" y="735.784">opt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176" x="110" y="734.648">[‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)]</text><polygon fill="#A80036" points="244.5,758.7,254.5,762.7,244.5,766.7,248.5,762.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="762.7" y2="762.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="99" x="109" y="757.684">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)</text><polygon fill="#A80036" points="244.5,789.6,254.5,793.6,244.5,797.6,248.5,793.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="793.6" y2="793.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="98" x="109.5" y="788.584">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)</text><polygon fill="#A80036" points="244.5,827.5,254.5,831.5,244.5,835.5,248.5,831.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="831.5" y2="831.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="144" x="86.5" y="826.484">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á &#128077;</text><polygon fill="#A80036" points="601,858.4,611,862.4,601,866.4,605,862.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="607" y1="862.4" y2="862.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="108" x="380.75" y="857.384">startTrainingFlow()</text><path d="M431.5,877.4 L492.5,877.4 L492.5,885.4 L482.5,895.4 L431.5,895.4 L431.5,877.4 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="431.5" y="877.4"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="446.5" y="892.284">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="507.5" y="891.148">[‡πÉ‡∏ä‡πâ Gesture Start]</text><polygon fill="#A80036" points="488,915.2,478,919.2,488,923.2,484,919.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="482" x2="612" y1="919.2" y2="919.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="498" y="914.184">detectGestures()</text><polygon fill="#A80036" points="601,946.1,611,950.1,601,954.1,605,950.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="477" x2="607" y1="950.1" y2="950.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="112" x="489" y="945.084">thumbsUp detected</text><path d="M219,972.1 L284,972.1 L284,980.1 L274,990.1 L219,990.1 L219,972.1 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="137.6" style="stroke:#000000;stroke-width:2.0;" width="575" x="219" y="972.1"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="234" y="986.984">opt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="124" x="299" y="985.848">[Random Mode Selected]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="665" y1="1013.9" y2="1013.9"/><line style="stroke:#A80036;stroke-width:1.0;" x1="665" x2="665" y1="1013.9" y2="1026.9"/><line style="stroke:#A80036;stroke-width:1.0;" x1="624" x2="665" y1="1026.9" y2="1026.9"/><polygon fill="#A80036" points="634,1022.9,624,1026.9,634,1030.9,630,1026.9" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="124" x="630" y="1008.884">‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])</text><polygon fill="#A80036" points="267.5,1053.8,257.5,1057.8,267.5,1061.8,263.5,1057.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="261.5" x2="612" y1="1057.8" y2="1057.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="174" x="347.75" y="1052.784">updateDropdown(newExercise)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="665" y1="1088.7" y2="1088.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="665" x2="665" y1="1088.7" y2="1101.7"/><line style="stroke:#A80036;stroke-width:1.0;" x1="624" x2="665" y1="1101.7" y2="1101.7"/><polygon fill="#A80036" points="634,1097.7,624,1101.7,634,1105.7,630,1101.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="152" x="630" y="1083.684">await loadReferenceData()</text><polygon fill="#A80036" points="803,1135.6,813,1139.6,803,1143.6,807,1139.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="809" y1="1139.6" y2="1139.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="129" x="654.5" y="1134.584">setLevel(currentLevel)</text><polygon fill="#A80036" points="798,1166.5,808,1170.5,798,1174.5,802,1170.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="804" y1="1170.5" y2="1170.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="35" x="699" y="1165.484">start()</text><path d="M30,1192.5 L195,1192.5 L195,1200.5 L185,1210.5 L30,1210.5 L30,1192.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="353.8" style="stroke:#000000;stroke-width:2.0;" width="921" x="30" y="1192.5"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="45" y="1207.384">Calibration (T-Pose)</text><polygon fill="#A80036" points="267.5,1230.3,257.5,1234.3,267.5,1238.3,263.5,1234.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="261.5" x2="809" y1="1234.3" y2="1234.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="111" x="477.75" y="1229.284">‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="102.5" y1="1265.2" y2="1265.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="102.5" x2="102.5" y1="1265.2" y2="1278.2"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61.5" x2="102.5" y1="1278.2" y2="1278.2"/><polygon fill="#A80036" points="71.5,1274.2,61.5,1278.2,71.5,1282.2,67.5,1278.2" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="90" x="67.5" y="1260.184">‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose &#129485;</text><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="60.7" style="stroke:#000000;stroke-width:2.0;" width="627" x="226" y="1286.2"/><polygon fill="#EEEEEE" points="226,1286.2,288,1286.2,288,1294.2,278,1304.2,226,1304.2,226,1286.2" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="239" y="1302.084">ref</text><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="175" x="436" y="1322.084">SequenceDiagram_Calibration</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="211" x="436" y="1338.984">(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)</text><polygon fill="#A80036" points="803,1370.8,813,1374.8,803,1378.8,807,1374.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="809" y1="1374.8" y2="1374.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="32" x="703" y="1369.784">stop()</text><polygon fill="#A80036" points="890.5,1401.7,900.5,1405.7,890.5,1409.7,894.5,1405.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="896.5" y1="1405.7" y2="1405.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="114" x="705.75" y="1400.684">setCalibration(data)</text><polygon fill="#A80036" points="272.5,1446.05,262.5,1450.05,272.5,1454.05,268.5,1450.05" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="266.5" x2="612" y1="1450.05" y2="1450.05"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="150" x="362.25" y="1445.034">syncAudioAndCountdown()</text><path d="M628,1418.7 L628,1461.7 L798,1461.7 L798,1428.7 L788,1418.7 L628,1418.7 " fill="#FBFB77" filter="url(#faeogisnu24bp)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M788,1418.7 L788,1428.7 L798,1428.7 L788,1418.7 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="149" x="634" y="1437.584">‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="131" x="634" y="1454.484">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô</text><polygon fill="#A80036" points="601,1490.4,611,1494.4,601,1498.4,605,1494.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="607" y1="1494.4" y2="1494.4"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="49" x="410.25" y="1489.384">resolve()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="665" y1="1525.3" y2="1525.3"/><line style="stroke:#A80036;stroke-width:1.0;" x1="665" x2="665" y1="1525.3" y2="1538.3"/><line style="stroke:#A80036;stroke-width:1.0;" x1="624" x2="665" y1="1538.3" y2="1538.3"/><polygon fill="#A80036" points="634,1534.3,624,1538.3,634,1542.3,630,1538.3" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="173" x="630" y="1520.284">startTrainingAfterCalibration()</text><path d="M571,1560.3 L748,1560.3 L748,1568.3 L738,1578.3 L571,1578.3 L571,1560.3 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="115.5" style="stroke:#000000;stroke-width:2.0;" width="459" x="571" y="1560.3"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="586" y="1575.184">‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)</text><polygon fill="#A80036" points="968.5,1598.1,978.5,1602.1,968.5,1606.1,972.5,1602.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="974.5" y1="1602.1" y2="1602.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="35" x="784.25" y="1597.084">start()</text><rect fill="#FFFFFF" filter="url(#faeogisnu24bp)" height="60.7" style="stroke:#000000;stroke-width:2.0;" width="441" x="578" y="1610.1"/><polygon fill="#EEEEEE" points="578,1610.1,640,1610.1,640,1618.1,630,1628.1,578,1628.1,578,1610.1" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="591" y="1625.984">ref</text><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="661.5" y="1645.984">SequenceDiagram_RealtimeAnalysis</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="278" x="661.5" y="1662.884">(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</text><path d="M30,1689.8 L230,1689.8 L230,1697.8 L220,1707.8 L30,1707.8 L30,1689.8 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="329.9" style="stroke:#000000;stroke-width:2.0;" width="1000" x="30" y="1689.8"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155" x="45" y="1704.684">‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)</text><polygon fill="#A80036" points="244.5,1727.6,254.5,1731.6,244.5,1735.6,248.5,1731.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60.5" x2="250.5" y1="1731.6" y2="1731.6"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="121" x="98" y="1726.584">‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä</text><polygon fill="#A80036" points="601,1758.5,611,1762.5,601,1766.5,605,1762.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="607" y1="1762.5" y2="1762.5"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="116" x="376.75" y="1757.484">endTrainingSession()</text><path d="M431.5,1777.5 L492.5,1777.5 L492.5,1785.5 L482.5,1795.5 L431.5,1795.5 L431.5,1777.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="80.7" style="stroke:#000000;stroke-width:2.0;" width="233.5" x="431.5" y="1777.5"/><text fill="#000000" font-family="Sarabun" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="446.5" y="1792.384">alt</text><text fill="#000000" font-family="Sarabun" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="507.5" y="1791.248">[‡πÉ‡∏ä‡πâ Gesture Stop]</text><polygon fill="#A80036" points="488,1815.3,478,1819.3,488,1823.3,484,1819.3" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="482" x2="612" y1="1819.3" y2="1819.3"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="498" y="1814.284">detectGestures()</text><polygon fill="#A80036" points="601,1846.2,611,1850.2,601,1854.2,605,1850.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="477" x2="607" y1="1850.2" y2="1850.2"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="71" x="509.5" y="1845.184">fist detected</text><polygon fill="#A80036" points="968.5,1884.1,978.5,1888.1,968.5,1892.1,972.5,1888.1" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="623" x2="974.5" y1="1888.1" y2="1888.1"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="81" x="761.25" y="1883.084">getSummary()</text><polygon fill="#A80036" points="634,1915,624,1919,634,1923,630,1919" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="628" x2="984.5" y1="1919" y2="1919"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="153" x="727.75" y="1913.984">{score, totalFrames, grade}</text><polygon fill="#A80036" points="267.5,1945.9,257.5,1949.9,267.5,1953.9,263.5,1949.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="261.5" x2="612" y1="1949.9" y2="1949.9"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="105" x="382.25" y="1944.884">‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô &#128202;</text><polygon fill="#A80036" points="973.5,1976.8,983.5,1980.8,973.5,1984.8,977.5,1980.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="256.5" x2="979.5" y1="1980.8" y2="1980.8"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="156" x="543" y="1975.784">ScorePopupManager.show()</text><polygon fill="#A80036" points="71.5,2007.7,61.5,2011.7,71.5,2015.7,67.5,2011.7" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="65.5" x2="255.5" y1="2011.7" y2="2011.7"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="70" x="123.5" y="2006.684">Score Popup</text><!--MD5=[f219312ac642534dbf5537733df6cdb7]
@startuml SequenceDiagram_TrainingFlow
' ============================================================================
' TaijiFlow AI - Sequence Diagram: Training Flow (Main)
' ============================================================================
' ‡πÅ‡∏™‡∏î‡∏á Flow ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏°‡πâ‡∏ß‡∏ô‡πÑ‡∏´‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏ô‡∏à‡∏ö
' ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: UC-02 Perform Training
' ============================================================================

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

' === Participants (7 ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å - ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢) ===
actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant "  Camera  " as Camera #E1BEE7
participant " Gesture " as Gesture #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibration #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0
participant "  Scorer  " as Scoring #FFF3E0

' ============================================================================
' PHASE 0: PRIVACY CONSENT & CAMERA INIT (NEW)
' ============================================================================

group #F3E5F5 ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏≠‡∏õ (App Entry)
    User -> UI : ‡πÄ‡∏õ‡∏¥‡∏î app.html
    UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Privacy + Warning Modal
    
    User -> UI : ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
    
    UI -> UI : isMobilePhone()?
    alt ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (Mobile Phone)
        UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Mobile Warning Modal
        alt ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
            User -> UI : ‡∏Å‡∏î "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
            UI -> UI : redirect to index.html
        else ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
            User -> UI : ‡∏Å‡∏î "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
        end
    end
    
    UI -> Camera : getUserMedia()
    activate Camera
    Camera - -> UI : Stream Ready
    UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Loading Overlay
    
    note right of UI
        AI Models Preloading
        (MediaPipe Pose)
    end note
    
    UI - -> User : ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Idle)
end

' ============================================================================
' PHASE 1: START TRAINING
' ============================================================================

group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)
    opt ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)
    end
    
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
    UI -> Training : startTrainingFlow()
    activate Training
    
    
    alt ‡πÉ‡∏ä‡πâ Gesture Start
        Training -> Gesture : detectGestures()
        Gesture - -> Training : thumbsUp detected
    end

    opt Random Mode Selected
        Training -> Training : ‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])
        Training -> UI : updateDropdown(newExercise)
        Training -> Training : await loadReferenceData()
    end
    
    Training -> Calibration : setLevel(currentLevel)
    Training -> Calibration : start()
    activate Calibration
end

' ============================================================================
' PHASE 2: CALIBRATION (T-POSE)
' ============================================================================

group #FFF3E0 Calibration (T-Pose)
    Calibration - -> UI : ‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"
    User -> User : ‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose üßç
    
    ref over Training, Calibration, UI : **SequenceDiagram_Calibration**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)
    
    Training -> Calibration : stop()
    deactivate Calibration
    
    Training -> Heuristics : setCalibration(data)
    
    Training -> UI : syncAudioAndCountdown()
    note right: ‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô
    activate UI
    UI -> Training : resolve()
    deactivate UI

    Training -> Training : startTrainingAfterCalibration()
end

' ============================================================================
' PHASE 3: TRAINING LOOP (MAIN)
' ============================================================================

group #E8F5E9 ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)
    Training -> Scoring : start()
    activate Scoring
    
    ref over Training, Heuristics, Scoring : **SequenceDiagram_RealtimeAnalysis**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
end

' ============================================================================
' PHASE 4: END & RESULT
' ============================================================================

group #F3E5F5 ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä
    UI -> Training : endTrainingSession()
    
    alt ‡πÉ‡∏ä‡πâ Gesture Stop
        Training -> Gesture : detectGestures()
        Gesture - -> Training : fist detected
    end
    
    Training -> Scoring : getSummary()
    Scoring - -> Training : {score, totalFrames, grade}
    deactivate Scoring
    
    Training - -> UI : ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üìä
    UI -> Scoring : ScorePopupManager.show()
    UI - -> User : Score Popup
    deactivate Training
end

@enduml

@startuml SequenceDiagram_TrainingFlow

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam sequenceMessageAlign center

actor "‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å\n(User)" as User
participant "    UI    " as UI #E8F5E9
participant "  Camera  " as Camera #E1BEE7
participant " Gesture " as Gesture #E8F5E9
participant " Training " as Training #E3F2FD
participant "Calibrator" as Calibration #FFF3E0
participant "Heuristics" as Heuristics #FFF3E0
participant "  Scorer  " as Scoring #FFF3E0


group #F3E5F5 ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÅ‡∏≠‡∏õ (App Entry)
    User -> UI : ‡πÄ‡∏õ‡∏¥‡∏î app.html
    UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Privacy + Warning Modal
    
    User -> UI : ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
    
    UI -> UI : isMobilePhone()?
    alt ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (Mobile Phone)
        UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Mobile Warning Modal
        alt ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
            User -> UI : ‡∏Å‡∏î "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
            UI -> UI : redirect to index.html
        else ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
            User -> UI : ‡∏Å‡∏î "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
        end
    end
    
    UI -> Camera : getUserMedia()
    activate Camera
    Camera - -> UI : Stream Ready
    UI - -> User : ‡πÅ‡∏™‡∏î‡∏á Loading Overlay
    
    note right of UI
        AI Models Preloading
        (MediaPipe Pose)
    end note
    
    UI - -> User : ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Idle)
end


group #E3F2FD ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Start Training)
    opt ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ (Exercise)
        User -> UI : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö (Level)
    end
    
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Start / ‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
    UI -> Training : startTrainingFlow()
    activate Training
    
    
    alt ‡πÉ‡∏ä‡πâ Gesture Start
        Training -> Gesture : detectGestures()
        Gesture - -> Training : thumbsUp detected
    end

    opt Random Mode Selected
        Training -> Training : ‡∏™‡∏∏‡πà‡∏°‡∏ó‡πà‡∏≤ (exercises[calc])
        Training -> UI : updateDropdown(newExercise)
        Training -> Training : await loadReferenceData()
    end
    
    Training -> Calibration : setLevel(currentLevel)
    Training -> Calibration : start()
    activate Calibration
end


group #FFF3E0 Calibration (T-Pose)
    Calibration - -> UI : ‡πÅ‡∏™‡∏î‡∏á "‡∏Å‡∏≤‡∏á‡πÅ‡∏Ç‡∏ô‡∏ó‡πà‡∏≤ T"
    User -> User : ‡∏ó‡∏≥‡∏ó‡πà‡∏≤ T-Pose üßç
    
    ref over Training, Calibration, UI : **SequenceDiagram_Calibration**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Step ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏ó‡πà‡∏≤)
    
    Training -> Calibration : stop()
    deactivate Calibration
    
    Training -> Heuristics : setCalibration(data)
    
    Training -> UI : syncAudioAndCountdown()
    note right: ‡∏£‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Smart Wait)\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô
    activate UI
    UI -> Training : resolve()
    deactivate UI

    Training -> Training : startTrainingAfterCalibration()
end


group #E8F5E9 ‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (Training Loop)
    Training -> Scoring : start()
    activate Scoring
    
    ref over Training, Heuristics, Scoring : **SequenceDiagram_RealtimeAnalysis**\n(‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Loop ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
end


group #F3E5F5 ‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å (End Training)
    User -> UI : ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Stop / ‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä
    UI -> Training : endTrainingSession()
    
    alt ‡πÉ‡∏ä‡πâ Gesture Stop
        Training -> Gesture : detectGestures()
        Gesture - -> Training : fist detected
    end
    
    Training -> Scoring : getSummary()
    Scoring - -> Training : {score, totalFrames, grade}
    deactivate Scoring
    
    Training - -> UI : ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üìä
    UI -> Scoring : ScorePopupManager.show()
    UI - -> User : Score Popup
    deactivate Training
end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>