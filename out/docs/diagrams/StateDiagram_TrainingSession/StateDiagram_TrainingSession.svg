<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1997px" preserveAspectRatio="none" style="width:679px;height:1997px;background:#00000000;" version="1.1" viewBox="0 0 679 1997" width="679px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qf50kbrlogka" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="358.4503" cy="16" fill="#000000" filter="url(#f1qf50kbrlogka)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><ellipse cx="23.4503" cy="789" fill="none" filter="url(#f1qf50kbrlogka)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="23.9503" cy="789.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="PrivacyModal"><rect fill="#E3F2FD" filter="url(#f1qf50kbrlogka)" height="103.2" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="169" x="273.9503" y="87"/><line style="stroke:#424242;stroke-width:1.5;" x1="273.9503" x2="442.9503" y1="133.4" y2="133.4"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="81" x="317.9503" y="106.952">PrivacyModal</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="149" x="283.9503" y="125.152">(‡πÅ‡∏™‡∏î‡∏á Privacy + Warning)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="134" x="278.9503" y="151.216">‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="115" x="278.9503" y="166.816">‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="106" x="278.9503" y="182.416">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"</text></g><g id="MobileCheck"><rect fill="#E3F2FD" filter="url(#f1qf50kbrlogka)" height="103.2" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="127" x="294.9503" y="326.2"/><line style="stroke:#424242;stroke-width:1.5;" x1="294.9503" x2="421.9503" y1="372.6" y2="372.6"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="78" x="319.4503" y="346.152">MobileCheck</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="107" x="304.9503" y="364.352">(‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="86" x="299.9503" y="390.416">‡∏ï‡∏£‡∏ß‡∏à User Agent</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="99" x="299.9503" y="406.016">‡∏ï‡∏£‡∏ß‡∏à Screen Width</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="91" x="299.9503" y="421.616">isMobilePhone()?</text></g><g id="MobileWarning"><rect fill="#E3F2FD" filter="url(#f1qf50kbrlogka)" height="103.2" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="112" x="217.4503" y="507.4"/><line style="stroke:#424242;stroke-width:1.5;" x1="217.4503" x2="329.4503" y1="553.8" y2="553.8"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="92" x="227.4503" y="527.352">MobileWarning</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="92" x="227.4503" y="545.552">(‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="65" x="222.4503" y="571.616">‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="88" x="222.4503" y="587.216">"‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="88" x="222.4503" y="602.816">"‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"</text></g><g id="Idle"><rect fill="#E3F2FD" filter="url(#f1qf50kbrlogka)" height="118.8" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="152" x="282.4503" y="729.6"/><line style="stroke:#424242;stroke-width:1.5;" x1="282.4503" x2="434.4503" y1="776" y2="776"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="23" x="346.9503" y="749.552">Idle</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="74" x="321.4503" y="767.752">(‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="118" x="287.4503" y="793.816">isTrainingMode = false</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="98" x="287.4503" y="809.416">isRecording = false</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="132" x="287.4503" y="825.016">calibrator.isActive = false</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="87" x="287.4503" y="840.616">Camera Active ‚úì</text></g><g id="Calibrating"><rect fill="#FFF3E0" filter="url(#f1qf50kbrlogka)" height="150" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="150" x="173.4503" y="1001.4"/><line style="stroke:#424242;stroke-width:1.5;" x1="173.4503" x2="323.4503" y1="1047.8" y2="1047.8"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="66" x="215.4503" y="1021.352">Calibrating</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="108" x="194.4503" y="1039.552">(‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö T-Pose)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="118" x="178.4503" y="1065.616">isTrainingMode = false</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="130" x="178.4503" y="1081.216">calibrator.isActive = true</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="12" x="178.4503" y="1096.816">---</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="73" x="178.4503" y="1112.416">‡∏ï‡∏£‡∏ß‡∏à visibility</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="79" x="178.4503" y="1128.016">‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="98" x="178.4503" y="1143.616">‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</text></g><g id="Countdown"><rect fill="#E8F5E9" filter="url(#f1qf50kbrlogka)" height="87.6" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="130" x="183.4503" y="1304.4"/><line style="stroke:#424242;stroke-width:1.5;" x1="183.4503" x2="313.4503" y1="1350.8" y2="1350.8"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="70" x="213.4503" y="1324.352">Countdown</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="110" x="193.4503" y="1342.552">(‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3-2-1)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="97" x="188.4503" y="1368.616">showCountdown()</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="107" x="188.4503" y="1384.216">‡πÅ‡∏™‡∏î‡∏á overlay "3-2-1"</text></g><g id="Training"><rect fill="#E8F5E9" filter="url(#f1qf50kbrlogka)" height="165.6" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="136" x="180.4503" y="1545"/><line style="stroke:#424242;stroke-width:1.5;" x1="180.4503" x2="316.4503" y1="1591.4" y2="1591.4"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="50" x="223.4503" y="1564.952">Training</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="89" x="203.9503" y="1583.152">(‡∏ù‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏°‡πâ‡∏ß‡∏ô‡πÑ‡∏´‡∏°)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="116" x="185.4503" y="1609.216">isTrainingMode = true</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="96" x="185.4503" y="1624.816">isRecording = true</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="12" x="185.4503" y="1640.416">---</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="92" x="185.4503" y="1656.016">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡πà‡∏≤ (8 ‡∏Å‡∏é)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="88" x="185.4503" y="1671.616">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å landmarks</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="73" x="185.4503" y="1687.216">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="72" x="185.4503" y="1702.816">Timer ‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</text></g><g id="Ended"><rect fill="#F3E5F5" filter="url(#f1qf50kbrlogka)" height="103.2" rx="12.5" ry="12.5" style="stroke:#424242;stroke-width:1.5;" width="138" x="315.4503" y="1880.6"/><line style="stroke:#424242;stroke-width:1.5;" x1="315.4503" x2="453.4503" y1="1927" y2="1927"/><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="39" x="364.9503" y="1900.552">Ended</text><text fill="#212121" font-family="Sarabun" font-size="14" lengthAdjust="spacing" textLength="96" x="336.4503" y="1918.752">(‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="118" x="320.4503" y="1944.816">isTrainingMode = false</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="96" x="320.4503" y="1960.416">‡πÅ‡∏™‡∏î‡∏á Score Popup</text><text fill="#000000" font-family="Sarabun" font-size="12" lengthAdjust="spacing" textLength="105" x="320.4503" y="1976.016">Export Session Data</text></g><!--MD5=[295aacfbc835609d3b6ade9439415d2b]
link *start to PrivacyModal--><path d="M358.4503,26.46 C358.4503,38.29 358.4503,59.51 358.4503,80.25 " fill="none" id="*start-to-PrivacyModal" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="358.4503,85.15,362.4503,76.15,358.4503,80.15,354.4503,76.15,358.4503,85.15" style="stroke:#424242;stroke-width:1.0;"/><!--MD5=[1df07d8224a8ae028ba290e28ef99157]
link PrivacyModal to MobileCheck--><path d="M358.4503,190.49 C358.4503,228.47 358.4503,280.4 358.4503,319.79 " fill="none" id="PrivacyModal-to-MobileCheck" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="358.4503,324.49,362.4503,315.49,358.4503,319.49,354.4503,315.49,358.4503,324.49" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="81" x="378.9503" y="235.084">‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"</text><path d="M363.4503,244.1 L363.4503,287.1 L471.4503,287.1 L471.4503,254.1 L461.4503,244.1 L363.4503,244.1 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M461.4503,244.1 L461.4503,254.1 L471.4503,254.1 L461.4503,244.1 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="71" x="369.4503" y="262.984">initCamera()</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="87" x="369.4503" y="279.884">getUserMedia()</text><!--MD5=[8dc1cbe47e1744a1ee6f902e3d936cc0]
link MobileCheck to MobileWarning--><path d="M307.0903,429.54 C299.8603,438.86 293.2703,448.97 288.4503,459.4 C282.5603,472.14 278.8903,486.71 276.6403,500.66 " fill="none" id="MobileCheck-to-MobileWarning" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="275.9203,505.52,281.2135,497.2144,276.6634,500.5755,273.3023,496.0255,275.9203,505.52" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="127" x="289.4503" y="474.284">[isMobilePhone = true]</text><!--MD5=[34eeae3ce599f9730e41f471c7366768]
link MobileCheck to Idle--><path d="M405.9803,429.57 C412.3203,438.89 417.8603,448.99 421.4503,459.4 C456.2203,560.34 453.9703,597.92 421.4503,699.6 C418.7903,707.91 415.0303,716.11 410.6603,723.96 " fill="none" id="MobileCheck-to-Idle" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="408.3003,728.03,416.2796,722.2567,410.8117,723.7065,409.3619,718.2385,408.3003,728.03" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="130" x="447.6903" y="556.384">[isMobilePhone = false]</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="83" x="471.1903" y="573.284">Camera Ready</text><!--MD5=[4a8c37b9814943fc7fff77924b2e25ef]
link MobileWarning to Idle--><path d="M262.7303,610.91 C259.3203,638.19 258.9803,671.82 270.4503,699.6 C274.0403,708.3 278.9503,716.6 284.6303,724.38 " fill="none" id="MobileWarning-to-Idle" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="287.3403,727.94,285.0853,718.3528,284.3174,723.9573,278.713,723.1894,287.3403,727.94" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="296.9503" y="655.484">"‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"</text><path d="M275.4503,664.5 L275.4503,690.5 L408.4503,690.5 L408.4503,674.5 L398.4503,664.5 L275.4503,664.5 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M398.4503,664.5 L398.4503,674.5 L408.4503,674.5 L398.4503,664.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="112" x="281.4503" y="683.384">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</text><!--MD5=[2bc07f564ba7773911cba2b4f5b77d5d]
link MobileWarning to *end--><path d="M217.1603,563.39 C163.5603,569.82 84.9403,588.24 42.4503,640.6 C11.1503,679.18 16.1803,743.12 20.6003,772.44 " fill="none" id="MobileWarning-to-*end" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="21.3903,777.3,23.8966,767.7754,20.5892,772.3646,16,769.0572,21.3903,777.3" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="93" x="100.9503" y="655.484">"‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"</text><path d="M47.4503,664.5 L47.4503,690.5 L243.4503,690.5 L243.4503,674.5 L233.4503,664.5 L47.4503,664.5 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M233.4503,664.5 L233.4503,674.5 L243.4503,674.5 L233.4503,664.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="175" x="53.4503" y="683.384">window.location = "index.html"</text><!--MD5=[613bcc83712b49aab47de170ad2aa798]
link Idle to Calibrating--><path d="M282.3603,805.63 C242.3103,818.13 196.6103,840.17 172.4503,878.4 C150.3703,913.34 159.6203,932.11 172.4503,971.4 C175.1303,979.6 178.7303,987.7 182.9103,995.53 " fill="none" id="Idle-to-Calibrating" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="185.1503,999.58,184.2762,989.77,182.7221,995.2092,177.2829,993.6552,185.1503,999.58" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="55" x="216.4503" y="893.284">‡∏Å‡∏î Start /</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="69" x="209.4503" y="910.184">‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á &#128077;</text><path d="M177.4503,919.2 L177.4503,962.2 L306.4503,962.2 L306.4503,929.2 L296.4503,919.2 L177.4503,919.2 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M296.4503,919.2 L296.4503,929.2 L306.4503,929.2 L296.4503,919.2 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="108" x="183.4503" y="938.084">startTrainingFlow()</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="94" x="183.4503" y="954.984">calibrator.start()</text><!--MD5=[bd35698d9154a034df3061f70b16595b]
link Calibrating to Idle--><path d="M304.1803,1000.97 C309.9103,991.33 315.1803,981.34 319.4503,971.4 C335.3603,934.32 345.0403,890.1 350.7703,854.6 " fill="none" id="Calibrating-to-Idle" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="351.4903,850.03,346.1503,858.3055,350.7193,854.9702,354.0547,859.5392,351.4903,850.03" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="65" x="383.3203" y="901.784">‡∏Å‡∏î Cancel /</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="49" x="391.3203" y="918.684">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤</text><path d="M351.3203,927.7 L351.3203,953.7 L476.3203,953.7 L476.3203,937.7 L466.3203,927.7 L351.3203,927.7 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M466.3203,927.7 L466.3203,937.7 L476.3203,937.7 L466.3203,927.7 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="104" x="357.3203" y="946.584">calibrator.cancel()</text><!--MD5=[14ad3a2123e1bd1bf56c59c7223bba9e]
link Calibrating to Countdown--><path d="M248.4503,1151.84 C248.4503,1198.33 248.4503,1256.9 248.4503,1297.72 " fill="none" id="Calibrating-to-Countdown" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="248.4503,1302.61,252.4503,1293.61,248.4503,1297.61,244.4503,1293.61,248.4503,1302.61" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="122" x="282.9503" y="1196.284">Calibration Complete</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="102" x="292.9503" y="1213.184">(Time &gt;= 3000ms)</text><path d="M253.4503,1222.2 L253.4503,1265.2 L430.4503,1265.2 L430.4503,1232.2 L420.4503,1222.2 L253.4503,1222.2 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M420.4503,1222.2 L420.4503,1232.2 L430.4503,1232.2 L420.4503,1222.2 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="109" x="259.4503" y="1241.084">calibrator.process()</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="156" x="259.4503" y="1257.984">returns {status: "complete"}</text><!--MD5=[c971b3b2b28ec0c5702fea5e80fc6faf]
link Countdown to Training--><path d="M248.4503,1392.27 C248.4503,1431.11 248.4503,1489.45 248.4503,1538.23 " fill="none" id="Countdown-to-Training" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="248.4503,1543.23,252.4503,1534.23,248.4503,1538.23,244.4503,1534.23,248.4503,1543.23" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="92" x="306.4503" y="1436.884">Countdown ‡πÄ‡∏™‡∏£‡πá‡∏à</text><path d="M253.4503,1445.9 L253.4503,1505.9 L447.4503,1505.9 L447.4503,1455.9 L437.4503,1445.9 L253.4503,1445.9 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M437.4503,1445.9 L437.4503,1455.9 L447.4503,1455.9 L437.4503,1445.9 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="173" x="259.4503" y="1464.784">startTrainingAfterCalibration()</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="123" x="259.4503" y="1481.684">isTrainingMode = true</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="103" x="259.4503" y="1498.584">isRecording = true</text><!--MD5=[01d744849c1cec173d51d87f67697966]
link Training to Ended--><path d="M280.1503,1711.09 C297.0203,1753.28 318.7203,1805.2 340.4503,1850.6 C344.2503,1858.54 348.4603,1866.81 352.7303,1874.9 " fill="none" id="Training-to-Ended" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="354.9803,1879.12,354.2943,1869.2951,352.6363,1874.7035,347.2279,1873.0455,354.9803,1879.12" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="52" x="391.4503" y="1755.484">‡∏Å‡∏î Stop /</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="57" x="388.9503" y="1772.384">‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä /</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="85" x="374.9503" y="1789.284">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ô‡∏≤‡∏ó‡∏µ</text><path d="M345.4503,1798.3 L345.4503,1841.3 L485.4503,1841.3 L485.4503,1808.3 L475.4503,1798.3 L345.4503,1798.3 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M475.4503,1798.3 L475.4503,1808.3 L485.4503,1808.3 L475.4503,1798.3 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="116" x="351.4503" y="1817.184">endTrainingSession()</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="119" x="351.4503" y="1834.084">scorer.getSummary()</text><!--MD5=[469c24cb0eb4947fe02ac74cb8eb1cb7]
link Ended to Idle--><path d="M453.7303,1896.23 C471.0903,1884.15 487.7803,1868.93 498.4503,1850.6 C548.2803,1764.99 520.4503,1727.86 520.4503,1628.8 C520.4503,1075.4 520.4503,1075.4 520.4503,1075.4 C520.4503,987.03 540.6603,953.1 493.4503,878.4 C480.4003,857.75 460.5703,840.91 440.1003,827.68 " fill="none" id="Ended-to-Idle" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="435.8803,825.03,441.3527,833.2186,440.1074,827.7005,445.6255,826.4552,435.8803,825.03" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="90" x="554.9503" y="1325.084">‡∏õ‡∏¥‡∏î Score Popup</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="48" x="575.9503" y="1341.984">(3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</text><path d="M525.4503,1351 L525.4503,1377 L670.4503,1377 L670.4503,1361 L660.4503,1351 L525.4503,1351 " fill="#FBFB77" filter="url(#f1qf50kbrlogka)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M660.4503,1351 L660.4503,1361 L670.4503,1361 L660.4503,1351 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="124" x="531.4503" y="1369.884">resetToHomeScreen()</text><!--MD5=[4f7116d012c72546cb0d8b5f1cb34cc3]
link Idle to Idle--><path d="M434.7103,766.94 C454.5203,768.29 469.4503,775.65 469.4503,789 C469.4503,800.89 457.6003,808.03 441.0203,810.4 " fill="none" id="Idle-to-Idle" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="436.2203,810.91,445.5841,813.9627,441.1938,810.3955,444.761,806.0051,436.2203,810.91" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="93" x="475.4503" y="794.884">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡πà‡∏≤ / Level</text><!--MD5=[a914570dbb4feabb53db254e23ed840a]
link Training to Training--><path d="M316.8003,1598.05 C336.3603,1599.21 351.4503,1609.13 351.4503,1627.8 C351.4503,1644.43 339.4803,1654.11 323.0403,1656.86 " fill="none" id="Training-to-Training" style="stroke:#424242;stroke-width:1.0;"/><polygon fill="#424242" points="318.3003,1657.38,327.6898,1660.3528,323.2692,1656.8231,326.7988,1652.4025,318.3003,1657.38" style="stroke:#424242;stroke-width:1.0;"/><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="86" x="374.9503" y="1625.184">Camera 30 FPS</text><text fill="#000000" font-family="Sarabun" font-size="13" lengthAdjust="spacing" textLength="121" x="357.4503" y="1642.084">AI 7.5 FPS (Throttled)</text><!--MD5=[1596dd662325f2fcf0167a138b60f220]
@startuml StateDiagram_TrainingSession
' ============================================================================
' TaijiFlow AI - State Diagram: Training Session
' ============================================================================
' ‡πÅ‡∏™‡∏î‡∏á States ‡πÅ‡∏•‡∏∞ Transitions ‡∏Ç‡∏≠‡∏á Training Session
' ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: script.js (isTrainingMode, isRecording, calibrator.isActive)
' ============================================================================

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam state {
    BackgroundColor #FAFAFA
    BorderColor #424242
    FontColor #212121
    ArrowColor #424242
}

' === State Colors ===
skinparam state {
    BackgroundColor<<idle>> #E3F2FD
    BackgroundColor<<calibrating>> #FFF3E0
    BackgroundColor<<countdown>> #E8F5E9
    BackgroundColor<<training>> #E8F5E9
    BackgroundColor<<ended>> #F3E5F5
}

' ============================================================================
' STATES
' ============================================================================

[*] - -> PrivacyModal

state "PrivacyModal\n(‡πÅ‡∏™‡∏î‡∏á Privacy + Warning)" as PrivacyModal <<idle>> {
    PrivacyModal : ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
    PrivacyModal : ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
    PrivacyModal : ‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
}

state "MobileCheck\n(‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)" as MobileCheck <<idle>> {
    MobileCheck : ‡∏ï‡∏£‡∏ß‡∏à User Agent
    MobileCheck : ‡∏ï‡∏£‡∏ß‡∏à Screen Width
    MobileCheck : isMobilePhone()?
}

state "MobileWarning\n(‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)" as MobileWarning <<idle>> {
    MobileWarning : ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    MobileWarning : "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
    MobileWarning : "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
}

state "Idle\n(‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å)" as Idle <<idle>> {
    Idle : isTrainingMode = false
    Idle : isRecording = false
    Idle : calibrator.isActive = false
    Idle : Camera Active ‚úì
}

state "Calibrating\n(‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö T-Pose)" as Calibrating <<calibrating>> {
    Calibrating : isTrainingMode = false
    Calibrating : calibrator.isActive = true
    Calibrating : - - -
    Calibrating : ‡∏ï‡∏£‡∏ß‡∏à visibility
    Calibrating : ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose
    Calibrating : ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
}

state "Countdown\n(‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3-2-1)" as Countdown <<countdown>> {
    Countdown : showCountdown()
    Countdown : ‡πÅ‡∏™‡∏î‡∏á overlay "3-2-1"
}

state "Training\n(‡∏ù‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏°‡πâ‡∏ß‡∏ô‡πÑ‡∏´‡∏°)" as Training <<training>> {
    Training : isTrainingMode = true
    Training : isRecording = true
    Training : - - -
    Training : ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡πà‡∏≤ (8 ‡∏Å‡∏é)
    Training : ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å landmarks
    Training : ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    Training : Timer ‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
}

state "Ended\n(‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)" as Ended <<ended>> {
    Ended : isTrainingMode = false
    Ended : ‡πÅ‡∏™‡∏î‡∏á Score Popup
    Ended : Export Session Data
}

' ============================================================================
' TRANSITIONS
' ============================================================================

PrivacyModal - -> MobileCheck : ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
note on link
    initCamera()
    getUserMedia()
end note

MobileCheck - -> MobileWarning : [isMobilePhone = true]
MobileCheck - -> Idle : [isMobilePhone = false]\nCamera Ready

MobileWarning - -> Idle : "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
note on link
    ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
end note

MobileWarning - -> [*] : "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
note on link
    window.location = "index.html"
end note

Idle - -> Calibrating : ‡∏Å‡∏î Start /\n‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
note on link
    startTrainingFlow()
    calibrator.start()
end note

Calibrating - -> Countdown : Calibration Complete\n(Time >= 3000ms)
note on link
    calibrator.process()
    returns {status: "complete"}
end note

Calibrating - -> Idle : ‡∏Å‡∏î Cancel /\n‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤
note on link
    calibrator.cancel()
end note

Countdown - -> Training : Countdown ‡πÄ‡∏™‡∏£‡πá‡∏à
note on link
    startTrainingAfterCalibration()
    isTrainingMode = true
    isRecording = true
end note

Training - -> Ended : ‡∏Å‡∏î Stop /\n‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä /\n‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ô‡∏≤‡∏ó‡∏µ
note on link
    endTrainingSession()
    scorer.getSummary()
end note

Ended - -> Idle : ‡∏õ‡∏¥‡∏î Score Popup\n(3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
note on link
    resetToHomeScreen()
end note

Idle - -> Idle : ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡πà‡∏≤ / Level
Training - -> Training : Camera 30 FPS\nAI 7.5 FPS (Throttled)

@enduml

@startuml StateDiagram_TrainingSession

skinparam defaultFontName "Sarabun"
skinparam backgroundColor transparent
skinparam state {
    BackgroundColor #FAFAFA
    BorderColor #424242
    FontColor #212121
    ArrowColor #424242
}

skinparam state {
    BackgroundColor<<idle>> #E3F2FD
    BackgroundColor<<calibrating>> #FFF3E0
    BackgroundColor<<countdown>> #E8F5E9
    BackgroundColor<<training>> #E8F5E9
    BackgroundColor<<ended>> #F3E5F5
}


[*] - -> PrivacyModal

state "PrivacyModal\n(‡πÅ‡∏™‡∏î‡∏á Privacy + Warning)" as PrivacyModal <<idle>> {
    PrivacyModal : ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
    PrivacyModal : ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
    PrivacyModal : ‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
}

state "MobileCheck\n(‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå)" as MobileCheck <<idle>> {
    MobileCheck : ‡∏ï‡∏£‡∏ß‡∏à User Agent
    MobileCheck : ‡∏ï‡∏£‡∏ß‡∏à Screen Width
    MobileCheck : isMobilePhone()?
}

state "MobileWarning\n(‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)" as MobileWarning <<idle>> {
    MobileWarning : ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    MobileWarning : "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
    MobileWarning : "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
}

state "Idle\n(‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏•‡∏±‡∏Å)" as Idle <<idle>> {
    Idle : isTrainingMode = false
    Idle : isRecording = false
    Idle : calibrator.isActive = false
    Idle : Camera Active ‚úì
}

state "Calibrating\n(‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö T-Pose)" as Calibrating <<calibrating>> {
    Calibrating : isTrainingMode = false
    Calibrating : calibrator.isActive = true
    Calibrating : - - -
    Calibrating : ‡∏ï‡∏£‡∏ß‡∏à visibility
    Calibrating : ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡πà‡∏≤ T-Pose
    Calibrating : ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
}

state "Countdown\n(‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á 3-2-1)" as Countdown <<countdown>> {
    Countdown : showCountdown()
    Countdown : ‡πÅ‡∏™‡∏î‡∏á overlay "3-2-1"
}

state "Training\n(‡∏ù‡∏∂‡∏Å‡∏ó‡πà‡∏≤‡∏°‡πâ‡∏ß‡∏ô‡πÑ‡∏´‡∏°)" as Training <<training>> {
    Training : isTrainingMode = true
    Training : isRecording = true
    Training : - - -
    Training : ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ó‡πà‡∏≤ (8 ‡∏Å‡∏é)
    Training : ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å landmarks
    Training : ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    Training : Timer ‡∏ô‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
}

state "Ended\n(‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)" as Ended <<ended>> {
    Ended : isTrainingMode = false
    Ended : ‡πÅ‡∏™‡∏î‡∏á Score Popup
    Ended : Export Session Data
}


PrivacyModal - -> MobileCheck : ‡∏Å‡∏î "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß"
note on link
    initCamera()
    getUserMedia()
end note

MobileCheck - -> MobileWarning : [isMobilePhone = true]
MobileCheck - -> Idle : [isMobilePhone = false]\nCamera Ready

MobileWarning - -> Idle : "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠ ‚Üí"
note on link
    ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
end note

MobileWarning - -> [*] : "‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å"
note on link
    window.location = "index.html"
end note

Idle - -> Calibrating : ‡∏Å‡∏î Start /\n‡∏¢‡∏Å‡∏ô‡∏¥‡πâ‡∏ß‡πÇ‡∏õ‡πâ‡∏á üëç
note on link
    startTrainingFlow()
    calibrator.start()
end note

Calibrating - -> Countdown : Calibration Complete\n(Time >= 3000ms)
note on link
    calibrator.process()
    returns {status: "complete"}
end note

Calibrating - -> Idle : ‡∏Å‡∏î Cancel /\n‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤
note on link
    calibrator.cancel()
end note

Countdown - -> Training : Countdown ‡πÄ‡∏™‡∏£‡πá‡∏à
note on link
    startTrainingAfterCalibration()
    isTrainingMode = true
    isRecording = true
end note

Training - -> Ended : ‡∏Å‡∏î Stop /\n‡∏Å‡∏≥‡∏°‡∏∑‡∏≠ ‚úä /\n‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ô‡∏≤‡∏ó‡∏µ
note on link
    endTrainingSession()
    scorer.getSummary()
end note

Ended - -> Idle : ‡∏õ‡∏¥‡∏î Score Popup\n(3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
note on link
    resetToHomeScreen()
end note

Idle - -> Idle : ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡πà‡∏≤ / Level
Training - -> Training : Camera 30 FPS\nAI 7.5 FPS (Throttled)

@enduml

PlantUML version 1.2021.00(Sun Jan 10 17:25:05 ICT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>